{"version":3,"file":null,"sources":["src/axis/c3.axis.js","src/axis/axis.js","src/axis/index.js","src/internals/class.js","src/internals/util.js","src/internals/arc.js","src/internals/cache.js","src/internals/category.js","src/internals/clip.js","src/internals/color.js","src/internals/config.js","src/internals/data.convert.js","src/internals/data.js","src/internals/data.load.js","src/internals/domain.js","src/internals/drag.js","src/internals/flow.js","src/internals/format.js","src/internals/grid.js","src/internals/interaction.js","src/internals/legend.js","src/internals/region.js","src/internals/scale.js","src/internals/selection.js","src/internals/shape.bar.js","src/internals/shape.js","src/internals/shape.line.js","src/internals/size.js","src/internals/subchart.js","src/internals/text.js","src/internals/title.js","src/internals/tooltip.js","src/internals/transform.js","src/internals/type.js","src/internals/ua.js","src/internals/zoom.js","src/internals/index.js","src/chart/api.axis.js","src/chart/api.category.js","src/chart/api.chart.js","src/chart/api.color.js","src/chart/api.data.js","src/chart/api.flow.js","src/chart/api.focus.js","src/chart/api.grid.js","src/chart/api.group.js","src/chart/api.legend.js","src/chart/api.load.js","src/chart/api.region.js","src/chart/api.selection.js","src/chart/api.show.js","src/chart/api.tooltip.js","src/chart/api.transform.js","src/chart/api.x.js","src/chart/api.zoom.js","src/chart/index.js","src/rollup.entry.js"],"sourcesContent":["import d3 from 'd3';\n\nlet tickTextCharSize;\nfunction c3_axis(params) {\n    let scale = d3.scale.linear();\n    let orient = 'bottom';\n    const innerTickSize = 6;\n    const tickPadding = 3;\n    let tickValues = null;\n    let tickFormat;\n    let tickArguments;\n\n    let tickOffset = 0;\n    let tickCulling = true;\n    let tickCentered;\n\n    params = params || {};\n\n    const outerTickSize = params.withOuterTick ? 6 : 0;\n\n    function axisX(selection, x) {\n        selection.attr('transform', d => 'translate(' + Math.ceil(x(d) + tickOffset) + ', 0)');\n    }\n    function axisY(selection, y) {\n        selection.attr('transform', d => 'translate(0,' + Math.ceil(y(d)) + ')');\n    }\n    function scaleExtent(domain) {\n        const start = domain[0];\n        const stop = domain[domain.length - 1];\n        return start < stop ? [start, stop] : [stop, start];\n    }\n    function generateTicks(scale) { // eslint-disable-line no-shadow\n        let i;\n        const ticks = [];\n        if (scale.ticks) {\n            return scale.ticks.apply(scale, tickArguments);\n        }\n        const domain = scale.domain();\n        for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\n            ticks.push(i);\n        }\n        if (ticks.length > 0 && ticks[0] > 0) {\n            ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\n        }\n        return ticks;\n    }\n    function copyScale() {\n        const newScale = scale.copy();\n        let domain;\n        if (params.isCategory) {\n            domain = scale.domain();\n            newScale.domain([domain[0], domain[1] - 1]);\n        }\n        return newScale;\n    }\n    function textFormatted(v) {\n        const formatted = tickFormat ? tickFormat(v) : v;\n        return typeof formatted !== 'undefined' ? formatted : '';\n    }\n    function getSizeFor1Char(tick) {\n        if (tickTextCharSize) {\n            return tickTextCharSize;\n        }\n        const size = {\n            h: 11.5,\n            w: 5.5,\n        };\n        tick.select('text').text(textFormatted).each(function (d) {\n            let box = this.getBoundingClientRect(),\n                text = textFormatted(d),\n                h = box.height,\n                w = text ? (box.width / text.length) : undefined;\n            if (h && w) {\n                size.h = h;\n                size.w = w;\n            }\n        }).text('');\n        tickTextCharSize = size;\n        return size;\n    }\n    function transitionise(selection) {\n        return params.withoutTransition ? selection : d3.transition(selection);\n    }\n    function axis(g) {\n        g.each(function () {\n            const g = axis.g = d3.select(this);\n\n            let scale0 = this.__chart__ || scale,\n                scale1 = this.__chart__ = copyScale();\n\n            let ticks = tickValues || generateTicks(scale1),\n                tick = g.selectAll('.tick').data(ticks, scale1),\n                tickEnter = tick.enter().insert('g', '.domain').attr('class', 'tick').style('opacity', 1e-6),\n                // MEMO: No exit transition. The reason is this transition affects max tick width\n                // calculation because old tick will be included in the ticks.\n                tickExit = tick.exit().remove(),\n                tickUpdate = transitionise(tick).style('opacity', 1),\n                tickTransform,\n                tickX,\n                tickY;\n\n            let range = scale.rangeExtent ? scale.rangeExtent() : scaleExtent(scale.range()),\n                path = g.selectAll('.domain').data([0]),\n                pathUpdate = (path.enter().append('path').attr('class', 'domain'), transitionise(path));\n            tickEnter.append('line');\n            tickEnter.append('text');\n\n            let lineEnter = tickEnter.select('line'),\n                lineUpdate = tickUpdate.select('line'),\n                textEnter = tickEnter.select('text'),\n                textUpdate = tickUpdate.select('text');\n\n            if (params.isCategory) {\n                tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\n                tickX = tickCentered ? 0 : tickOffset;\n                tickY = tickCentered ? tickOffset : 0;\n            } else {\n                tickOffset = tickX = 0;\n            }\n\n            let text,\n                tspan,\n                sizeFor1Char = getSizeFor1Char(g.select('.tick')),\n                counts = [];\n\n            let tickLength = Math.max(innerTickSize, 0) + tickPadding,\n                isVertical = orient === 'left' || orient === 'right';\n\n            // this should be called only when category axis\n            function splitTickText(d, maxWidth) {\n                let tickText = textFormatted(d),\n                    subtext,\n                    spaceIndex,\n                    textWidth,\n                    splitted = [];\n\n                if (Object.prototype.toString.call(tickText) === '[object Array]') {\n                    return tickText;\n                }\n\n                if (!maxWidth || maxWidth <= 0) {\n                    maxWidth = isVertical ? 95 :\n                    params.isCategory ?\n                        (Math.ceil(scale1(ticks[1]) - scale1(ticks[0])) - 12) : 110;\n                }\n\n                function split(splitted, text) {\n                    spaceIndex = undefined;\n                    for (let i = 1; i < text.length; i++) {\n                        if (text.charAt(i) === ' ') {\n                            spaceIndex = i;\n                        }\n                        subtext = text.substr(0, i + 1);\n                        textWidth = sizeFor1Char.w * subtext.length;\n                        // if text width gets over tick width, split by space index or crrent index\n                        if (maxWidth < textWidth) {\n                            return split(\n                                splitted.concat(text.substr(0, spaceIndex || i)),\n                                text.slice(spaceIndex ? spaceIndex + 1 : i)\n                            );\n                        }\n                    }\n                    return splitted.concat(text);\n                }\n\n                return split(splitted, tickText + '');\n            }\n\n            function tspanDy(d, i) {\n                let dy = sizeFor1Char.h;\n                if (i === 0) {\n                    if (orient === 'left' || orient === 'right') {\n                        dy = -((counts[d.index] - 1) * (sizeFor1Char.h / 2) - 3);\n                    } else {\n                        dy = '.71em';\n                    }\n                }\n                return dy;\n            }\n\n            function tickSize(d) {\n                const tickPosition = scale(d) + (tickCentered ? 0 : tickOffset);\n                return range[0] < tickPosition && tickPosition < range[1] ? innerTickSize : 0;\n            }\n\n            text = tick.select('text');\n            tspan = text.selectAll('tspan')\n                .data((d, i) => {\n                    const splitted = params.tickMultiline ?\n                        splitTickText(d, params.tickWidth) :\n                        [].concat(textFormatted(d));\n                    counts[i] = splitted.length;\n                    return splitted.map(s => ({ index: i, splitted: s }));\n                });\n            tspan.enter().append('tspan');\n            tspan.exit().remove();\n            tspan.text(d => d.splitted);\n\n            const rotate = params.tickTextRotate;\n\n            function textAnchorForText(rotate) {\n                if (!rotate) {\n                    return 'middle';\n                }\n                return rotate > 0 ? 'start' : 'end';\n            }\n            function textTransform(rotate) {\n                if (!rotate) {\n                    return '';\n                }\n                return 'rotate(' + rotate + ')';\n            }\n            function dxForText(rotate) {\n                if (!rotate) {\n                    return 0;\n                }\n                return 8 * Math.sin(Math.PI * (rotate / 180));\n            }\n            function yForText(rotate) {\n                if (!rotate) {\n                    return tickLength;\n                }\n                return 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1);\n            }\n\n            switch (orient) {\n            case 'bottom':\n                {\n                    tickTransform = axisX;\n                    lineEnter.attr('y2', innerTickSize);\n                    textEnter.attr('y', tickLength);\n                    lineUpdate.attr('x1', tickX).attr('x2', tickX).attr('y2', tickSize);\n                    textUpdate.attr('x', 0).attr('y', yForText(rotate))\n                        .style('text-anchor', textAnchorForText(rotate))\n                        .attr('transform', textTransform(rotate));\n                    tspan.attr('x', 0).attr('dy', tspanDy).attr('dx', dxForText(rotate));\n                    pathUpdate.attr('d', 'M' + range[0] + ',' + outerTickSize + 'V0H' + range[1] + 'V' + outerTickSize);\n                    break;\n                }\n            case 'top':\n                {\n                    // TODO: rotated tick text\n                    tickTransform = axisX;\n                    lineEnter.attr('y2', -innerTickSize);\n                    textEnter.attr('y', -tickLength);\n                    lineUpdate.attr('x2', 0).attr('y2', -innerTickSize);\n                    textUpdate.attr('x', 0).attr('y', -tickLength);\n                    text.style('text-anchor', 'middle');\n                    tspan.attr('x', 0).attr('dy', '0em');\n                    pathUpdate.attr('d', 'M' + range[0] + ',' + -outerTickSize + 'V0H' + range[1] + 'V' + -outerTickSize);\n                    break;\n                }\n            case 'left':\n                {\n                    tickTransform = axisY;\n                    lineEnter.attr('x2', -innerTickSize);\n                    textEnter.attr('x', -tickLength);\n                    lineUpdate.attr('x2', -innerTickSize).attr('y1', tickY).attr('y2', tickY);\n                    textUpdate.attr('x', -tickLength).attr('y', tickOffset);\n                    text.style('text-anchor', 'end');\n                    tspan.attr('x', -tickLength).attr('dy', tspanDy);\n                    pathUpdate.attr('d', 'M' + -outerTickSize + ',' + range[0] + 'H0V' + range[1] + 'H' + -outerTickSize);\n                    break;\n                }\n            case 'right':\n                {\n                    tickTransform = axisY;\n                    lineEnter.attr('x2', innerTickSize);\n                    textEnter.attr('x', tickLength);\n                    lineUpdate.attr('x2', innerTickSize).attr('y2', 0);\n                    textUpdate.attr('x', tickLength).attr('y', 0);\n                    text.style('text-anchor', 'start');\n                    tspan.attr('x', tickLength).attr('dy', tspanDy);\n                    pathUpdate.attr('d', 'M' + outerTickSize + ',' + range[0] + 'H0V' + range[1] + 'H' + outerTickSize);\n                    break;\n                }\n            default:\n                break;\n            }\n            if (scale1.rangeBand) {\n                let x = scale1,\n                    dx = x.rangeBand() / 2;\n                scale0 = scale1 = function (d) {\n                    return x(d) + dx;\n                };\n            } else if (scale0.rangeBand) {\n                scale0 = scale1;\n            } else {\n                tickExit.call(tickTransform, scale1);\n            }\n            tickEnter.call(tickTransform, scale0);\n            tickUpdate.call(tickTransform, scale1);\n        });\n    }\n    axis.scale = function (x) {\n        if (!arguments.length) { return scale; }\n        scale = x;\n        return axis;\n    };\n    axis.orient = function (x) {\n        if (!arguments.length) { return orient; }\n        orient = x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + '' : 'bottom';\n        return axis;\n    };\n    axis.tickFormat = function (format) {\n        if (!arguments.length) { return tickFormat; }\n        tickFormat = format;\n        return axis;\n    };\n    axis.tickCentered = function (isCentered) {\n        if (!arguments.length) { return tickCentered; }\n        tickCentered = isCentered;\n        return axis;\n    };\n    axis.tickOffset = function () {\n        return tickOffset;\n    };\n    axis.tickInterval = function () {\n        let interval,\n            length;\n        if (params.isCategory) {\n            interval = tickOffset * 2;\n        } else {\n            length = axis.g.select('path.domain').node().getTotalLength() - outerTickSize * 2;\n            interval = length / axis.g.selectAll('line').size();\n        }\n        return interval === Infinity ? 0 : interval;\n    };\n    axis.ticks = function (...args) {\n        if (!arguments.length) { return tickArguments; }\n        tickArguments = args;\n        return axis;\n    };\n    axis.tickCulling = function (culling) {\n        if (!arguments.length) { return tickCulling; }\n        tickCulling = culling;\n        return axis;\n    };\n    axis.tickValues = function (x) {\n        if (typeof x === 'function') {\n            tickValues = function () {\n                return x(scale.domain());\n            };\n        } else {\n            if (!arguments.length) { return tickValues; }\n            tickValues = x;\n        }\n        return axis;\n    };\n    return axis;\n}\n\nexport default c3_axis;\n","import * as d3 from 'd3';\n\nimport {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isEmpty,\n} from '../internals/index';\n\nimport { inherit, API } from './index';\nimport c3_axis from './c3.axis';\n\nfunction Axis(owner) {\n    API.call(this, owner);\n}\n\ninherit(API, Axis);\n\nAxis.prototype.init = function init() {\n    const $$ = this.owner;\n    const config = $$.config;\n    const main = $$.main;\n    $$.axes.x = main.append('g')\n        .attr('class', CLASS.axis + ' ' + CLASS.axisX)\n        .attr('clip-path', $$.clipPathForXAxis)\n        .attr('transform', $$.getTranslate('x'))\n        .style('visibility', config.axis_x_show ? 'visible' : 'hidden');\n    $$.axes.x.append('text')\n        .attr('class', CLASS.axisXLabel)\n        .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\n        .style('text-anchor', this.textAnchorForXAxisLabel.bind(this));\n    $$.axes.y = main.append('g')\n        .attr('class', CLASS.axis + ' ' + CLASS.axisY)\n        .attr('clip-path', config.axis_y_inner ? '' : $$.clipPathForYAxis)\n        .attr('transform', $$.getTranslate('y'))\n        .style('visibility', config.axis_y_show ? 'visible' : 'hidden');\n    $$.axes.y.append('text')\n        .attr('class', CLASS.axisYLabel)\n        .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\n        .style('text-anchor', this.textAnchorForYAxisLabel.bind(this));\n\n    $$.axes.y2 = main.append('g')\n        .attr('class', CLASS.axis + ' ' + CLASS.axisY2)\n        // clip-path?\n        .attr('transform', $$.getTranslate('y2'))\n        .style('visibility', config.axis_y2_show ? 'visible' : 'hidden');\n    $$.axes.y2.append('text')\n        .attr('class', CLASS.axisY2Label)\n        .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\n        .style('text-anchor', this.textAnchorForY2AxisLabel.bind(this));\n};\nAxis.prototype.getXAxis = function getXAxis(\n    scale,\n    orient,\n    tickFormat,\n    tickValues,\n    withOuterTick,\n    withoutTransition,\n    withoutRotateTickText) {\n    const $$ = this.owner;\n    const config = $$.config;\n    const axisParams = {\n        isCategory: $$.isCategorized(),\n        withOuterTick,\n        tickMultiline: config.axis_x_tick_multiline,\n        tickWidth: config.axis_x_tick_width,\n        tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\n        withoutTransition,\n    };\n    const axis = c3_axis(axisParams).scale(scale).orient(orient);\n\n    if ($$.isTimeSeries() && tickValues && typeof tickValues !== 'function') {\n        tickValues = tickValues.map(v => $$.parseDate(v));\n    }\n\n    // Set tick\n    axis.tickFormat(tickFormat).tickValues(tickValues);\n    if ($$.isCategorized()) {\n        axis.tickCentered(config.axis_x_tick_centered);\n        if (isEmpty(config.axis_x_tick_culling)) {\n            config.axis_x_tick_culling = false;\n        }\n    }\n\n    return axis;\n};\nAxis.prototype.updateXAxisTickValues = function updateXAxisTickValues(targets, axis) {\n    const $$ = this.owner;\n    const config = $$.config;\n    let tickValues;\n    if (config.axis_x_tick_fit || config.axis_x_tick_count) {\n        tickValues = this.generateTickValues(\n            $$.mapTargetsToUniqueXs(targets),\n            config.axis_x_tick_count,\n            $$.isTimeSeries()\n        );\n    }\n    if (axis) {\n        axis.tickValues(tickValues);\n    } else {\n        $$.xAxis.tickValues(tickValues);\n        $$.subXAxis.tickValues(tickValues);\n    }\n    return tickValues;\n};\nAxis.prototype.getYAxis = function getYAxis(scale,\n    orient,\n    tickFormat,\n    tickValues,\n    withOuterTick,\n    withoutTransition,\n    withoutRotateTickText) {\n    const $$ = this.owner;\n    const config = $$.config;\n    const axisParams = {\n        withOuterTick,\n        withoutTransition,\n        tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate,\n    };\n    const axis = c3_axis(axisParams).scale(scale).orient(orient).tickFormat(tickFormat);\n    if ($$.isTimeSeriesY()) {\n        axis.ticks($$.d3.time[config.axis_y_tick_time_value], config.axis_y_tick_time_interval);\n    } else {\n        axis.tickValues(tickValues);\n    }\n    return axis;\n};\nAxis.prototype.getId = function getId(id) {\n    const config = this.owner.config;\n    return id in config.data_axes ? config.data_axes[id] : 'y';\n};\nAxis.prototype.getXAxisTickFormat = function getXAxisTickFormat() {\n    const $$ = this.owner;\n    const config = $$.config;\n    let format = $$.isTimeSeries() ? // eslint-disable-line no-nested-ternary\n        $$.defaultAxisTimeFormat :\n            $$.isCategorized() ?\n                $$.categoryName :\n                function (v) { return v < 0 ? v.toFixed(0) : v; };\n    if (config.axis_x_tick_format) {\n        if (isFunction(config.axis_x_tick_format)) {\n            format = config.axis_x_tick_format;\n        } else if ($$.isTimeSeries()) {\n            format = function (date) {\n                return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : '';\n            };\n        }\n    }\n    return isFunction(format) ? function (v) { return format.call($$, v); } : format;\n};\nAxis.prototype.getTickValues = function getTickValues(tickValues, axis) {\n    return tickValues ? tickValues : // eslint-disable-line no-nested-ternary,no-unneeded-ternary\n        axis ? axis.tickValues() : undefined;\n};\nAxis.prototype.getXAxisTickValues = function getXAxisTickValues() {\n    return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);\n};\nAxis.prototype.getYAxisTickValues = function getYAxisTickValues() {\n    return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);\n};\nAxis.prototype.getY2AxisTickValues = function getY2AxisTickValues() {\n    return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);\n};\nAxis.prototype.getLabelOptionByAxisId = function getLabelOptionByAxisId(axisId) {\n    const $$ = this.owner;\n    const config = $$.config;\n    let option;\n    if (axisId === 'y') {\n        option = config.axis_y_label;\n    } else if (axisId === 'y2') {\n        option = config.axis_y2_label;\n    } else if (axisId === 'x') {\n        option = config.axis_x_label;\n    }\n    return option;\n};\nAxis.prototype.getLabelText = function getLabelText(axisId) {\n    const option = this.getLabelOptionByAxisId(axisId);\n    return isString(option) ? option : option ? option.text : null; // eslint-disable-line no-nested-ternary,max-len\n};\nAxis.prototype.setLabelText = function setLabelText(axisId, text) {\n    const $$ = this.owner;\n    const config = $$.config;\n    const option = this.getLabelOptionByAxisId(axisId);\n    if (isString(option)) {\n        if (axisId === 'y') {\n            config.axis_y_label = text;\n        } else if (axisId === 'y2') {\n            config.axis_y2_label = text;\n        } else if (axisId === 'x') {\n            config.axis_x_label = text;\n        }\n    } else if (option) {\n        option.text = text;\n    }\n};\nAxis.prototype.getLabelPosition = function getLabelPosition(axisId, defaultPosition) {\n    const option = this.getLabelOptionByAxisId(axisId);\n    const position = (option && typeof option === 'object' && option.position) ? option.position : defaultPosition;\n    return {\n        isInner: position.indexOf('inner') >= 0,\n        isOuter: position.indexOf('outer') >= 0,\n        isLeft: position.indexOf('left') >= 0,\n        isCenter: position.indexOf('center') >= 0,\n        isRight: position.indexOf('right') >= 0,\n        isTop: position.indexOf('top') >= 0,\n        isMiddle: position.indexOf('middle') >= 0,\n        isBottom: position.indexOf('bottom') >= 0,\n    };\n};\nAxis.prototype.getXAxisLabelPosition = function getXAxisLabelPosition() {\n    return this.getLabelPosition('x', this.owner.config.axis_rotated ? 'inner-top' : 'inner-right');\n};\nAxis.prototype.getYAxisLabelPosition = function getYAxisLabelPosition() {\n    return this.getLabelPosition('y', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\n};\nAxis.prototype.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\n    return this.getLabelPosition('y2', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\n};\nAxis.prototype.getLabelPositionById = function getLabelPositionById(id) {\n    return id === 'y2' ? this.getY2AxisLabelPosition() :\n        id === 'y' ? this.getYAxisLabelPosition() : this.getXAxisLabelPosition();\n};\nAxis.prototype.textForXAxisLabel = function textForXAxisLabel() {\n    return this.getLabelText('x');\n};\nAxis.prototype.textForYAxisLabel = function textForYAxisLabel() {\n    return this.getLabelText('y');\n};\nAxis.prototype.textForY2AxisLabel = function textForY2AxisLabel() {\n    return this.getLabelText('y2');\n};\nAxis.prototype.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\n    const $$ = this.owner;\n    if (forHorizontal) {\n        return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width;\n    } else {\n        return position.isBottom ? -$$.height : position.isMiddle ? -$$.height / 2 : 0;\n    }\n};\nAxis.prototype.dxForAxisLabel = function dxForAxisLabel(forHorizontal, position) {\n    if (forHorizontal) {\n        return position.isLeft ? '0.5em' : position.isRight ? '-0.5em' : '0';\n    } else {\n        return position.isTop ? '-0.5em' : position.isBottom ? '0.5em' : '0';\n    }\n};\nAxis.prototype.textAnchorForAxisLabel = function textAnchorForAxisLabel(forHorizontal, position) {\n    if (forHorizontal) {\n        return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end';\n    } else {\n        return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end';\n    }\n};\nAxis.prototype.xForXAxisLabel = function xForXAxisLabel() {\n    return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\n};\nAxis.prototype.xForYAxisLabel = function xForYAxisLabel() {\n    return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\n};\nAxis.prototype.xForY2AxisLabel = function xForY2AxisLabel() {\n    return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\n};\nAxis.prototype.dxForXAxisLabel = function dxForXAxisLabel() {\n    return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\n};\nAxis.prototype.dxForYAxisLabel = function dxForYAxisLabel() {\n    return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\n};\nAxis.prototype.dxForY2AxisLabel = function dxForY2AxisLabel() {\n    return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\n};\nAxis.prototype.dyForXAxisLabel = function dyForXAxisLabel() {\n    const $$ = this.owner;\n    const config = $$.config;\n    const position = this.getXAxisLabelPosition();\n    if (config.axis_rotated) {\n        return position.isInner ? '1.2em' : -25 - this.getMaxTickWidth('x');\n    } else {\n        return position.isInner ? '-0.5em' : config.axis_x_height ? config.axis_x_height - 10 : '3em';\n    }\n};\nAxis.prototype.dyForYAxisLabel = function dyForYAxisLabel() {\n    const $$ = this.owner;\n    const position = this.getYAxisLabelPosition();\n    if ($$.config.axis_rotated) {\n        return position.isInner ? '-0.5em' : '3em';\n    } else {\n        return position.isInner ? '1.2em' : -10 - ($$.config.axis_y_inner ? 0 : (this.getMaxTickWidth('y') + 10));\n    }\n};\nAxis.prototype.dyForY2AxisLabel = function dyForY2AxisLabel() {\n    const $$ = this.owner;\n    const position = this.getY2AxisLabelPosition();\n    if ($$.config.axis_rotated) {\n        return position.isInner ? '1.2em' : '-2.2em';\n    } else {\n        return position.isInner ? '-0.5em' : 15 + ($$.config.axis_y2_inner ? 0 : (this.getMaxTickWidth('y2') + 15));\n    }\n};\nAxis.prototype.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\n    const $$ = this.owner;\n    return this.textAnchorForAxisLabel(!$$.config.axis_rotated, this.getXAxisLabelPosition());\n};\nAxis.prototype.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\n    const $$ = this.owner;\n    return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getYAxisLabelPosition());\n};\nAxis.prototype.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\n    const $$ = this.owner;\n    return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getY2AxisLabelPosition());\n};\nAxis.prototype.getMaxTickWidth = function getMaxTickWidth(id, withoutRecompute) {\n    const $$ = this.owner;\n    const config = $$.config;\n    let maxWidth = 0;\n    let targetsToShow;\n    let scale;\n    let axis;\n    let dummy;\n    let svg;\n    if (withoutRecompute && $$.currentMaxTickWidths[id]) {\n        return $$.currentMaxTickWidths[id];\n    }\n    if ($$.svg) {\n        targetsToShow = $$.filterTargetsToShow($$.data.targets);\n        if (id === 'y') {\n            scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\n            axis = this.getYAxis(\n                scale,\n                $$.yOrient,\n                config.axis_y_tick_format,\n                $$.yAxisTickValues,\n                false,\n                true,\n                true\n            );\n        } else if (id === 'y2') {\n            scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\n            axis = this.getYAxis(\n                scale,\n                $$.y2Orient,\n                config.axis_y2_tick_format,\n                $$.y2AxisTickValues,\n                false,\n                true,\n                true\n            );\n        } else {\n            scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\n            axis = this.getXAxis(\n                scale,\n                $$.xOrient,\n                $$.xAxisTickFormat,\n                $$.xAxisTickValues,\n                false,\n                true,\n                true\n            );\n            this.updateXAxisTickValues(targetsToShow, axis);\n        }\n        dummy = $$.d3.select('body').append('div').classed('c3', true);\n        svg = dummy.append('svg')\n            .style('visibility', 'hidden')\n            .style('position', 'fixed')\n            .style('top', 0)\n            .style('left', 0);\n        svg.append('g').call(axis).each(function () {\n            $$.d3.select(this).selectAll('text').each(function () {\n                const box = this.getBoundingClientRect();\n                if (maxWidth < box.width) { maxWidth = box.width; }\n            });\n            dummy.remove();\n        });\n    }\n    $$.currentMaxTickWidths[id] = maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\n    return $$.currentMaxTickWidths[id];\n};\n\nAxis.prototype.updateLabels = function updateLabels(withTransition) {\n    const $$ = this.owner;\n    const axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel);\n    const axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel);\n    const axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label);\n    (withTransition ? axisXLabel.transition() : axisXLabel)\n        .attr('x', this.xForXAxisLabel.bind(this))\n        .attr('dx', this.dxForXAxisLabel.bind(this))\n        .attr('dy', this.dyForXAxisLabel.bind(this))\n        .text(this.textForXAxisLabel.bind(this));\n    (withTransition ? axisYLabel.transition() : axisYLabel)\n        .attr('x', this.xForYAxisLabel.bind(this))\n        .attr('dx', this.dxForYAxisLabel.bind(this))\n        .attr('dy', this.dyForYAxisLabel.bind(this))\n        .text(this.textForYAxisLabel.bind(this));\n    (withTransition ? axisY2Label.transition() : axisY2Label)\n        .attr('x', this.xForY2AxisLabel.bind(this))\n        .attr('dx', this.dxForY2AxisLabel.bind(this))\n        .attr('dy', this.dyForY2AxisLabel.bind(this))\n        .text(this.textForY2AxisLabel.bind(this));\n};\nAxis.prototype.getPadding = function getPadding(padding, key, defaultValue, domainLength) {\n    const p = typeof padding === 'number' ? padding : padding[key];\n    if (!isValue(p)) {\n        return defaultValue;\n    }\n    if (padding.unit === 'ratio') {\n        return padding[key] * domainLength;\n    }\n    // assume padding is pixels if unit is not specified\n    return this.convertPixelsToAxisPadding(p, domainLength);\n};\nAxis.prototype.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(pixels, domainLength) { // eslint-disable-line max-len\n    const $$ = this.owner;\n    const length = $$.config.axis_rotated ? $$.width : $$.height;\n    return domainLength * (pixels / length);\n};\nAxis.prototype.generateTickValues = function generateTickValues(values, tickCount, forTimeSeries) {\n    let tickValues = values;\n    let targetCount;\n    let start;\n    let end;\n    let count;\n    let interval;\n    let i;\n    let tickValue;\n    if (tickCount) {\n        targetCount = isFunction(tickCount) ? tickCount() : tickCount;\n        // compute ticks according to tickCount\n        if (targetCount === 1) {\n            tickValues = [values[0]];\n        } else if (targetCount === 2) {\n            tickValues = [values[0], values[values.length - 1]];\n        } else if (targetCount > 2) {\n            count = targetCount - 2;\n            start = values[0];\n            end = values[values.length - 1];\n            interval = (end - start) / (count + 1);\n            // re-construct unique values\n            tickValues = [start];\n            for (i = 0; i < count; i++) {\n                tickValue = +start + interval * (i + 1);\n                tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\n            }\n            tickValues.push(end);\n        }\n    }\n    if (!forTimeSeries) { tickValues = tickValues.sort((a, b) => a - b); }\n    return tickValues;\n};\nAxis.prototype.generateTransitions = function generateTransitions(duration) {\n    let $$ = this.owner;\n    let axes = $$.axes;\n    return {\n        axisX: duration ? axes.x.transition().duration(duration) : axes.x,\n        axisY: duration ? axes.y.transition().duration(duration) : axes.y,\n        axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\n        axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx,\n    };\n};\nAxis.prototype.redraw = function redraw(transitions, isHidden) {\n    const $$ = this.owner;\n    $$.axes.x.style('opacity', isHidden ? 0 : 1);\n    $$.axes.y.style('opacity', isHidden ? 0 : 1);\n    $$.axes.y2.style('opacity', isHidden ? 0 : 1);\n    $$.axes.subx.style('opacity', isHidden ? 0 : 1);\n    transitions.axisX.call($$.xAxis);\n    transitions.axisY.call($$.yAxis);\n    transitions.axisY2.call($$.y2Axis);\n    transitions.axisSubX.call($$.subXAxis);\n};\n\nexport default Axis;\n","// import {\n//     CLASS,\n//     isValue,\n//     isFunction,\n//     isString,\n//     isUndefined,\n//     isDefined,\n//     ceil10,\n//     asHalfPixel,\n//     diffDomain,\n//     isEmpty,\n//     notEmpty,\n//     getOption,\n//     hasValue,\n//     sanitise,\n//     getPathBox,\n//     ChartInternal } from '../chartinternal';\n\nimport Axis from './axis';\n\nfunction API(owner) {\n    this.owner = owner;\n}\n\n/* eslint-disable */\nfunction inherit(base, derived) {\n    if (Object.create) {\n        derived.prototype = Object.create(base.prototype);\n    } else {\n        const f = function f() {};\n        f.prototype = base.prototype;\n        derived.prototype = new f();\n    }\n\n    derived.prototype.constructor = derived;\n\n    return derived;\n}\n/* eslint-enable */\n\nexport { API, inherit, Axis };\n","const CLASS = {\n    target: 'c3-target',\n    chart: 'c3-chart',\n    chartLine: 'c3-chart-line',\n    chartLines: 'c3-chart-lines',\n    chartBar: 'c3-chart-bar',\n    chartBars: 'c3-chart-bars',\n    chartText: 'c3-chart-text',\n    chartTexts: 'c3-chart-texts',\n    chartArc: 'c3-chart-arc',\n    chartArcs: 'c3-chart-arcs',\n    chartArcsTitle: 'c3-chart-arcs-title',\n    chartArcsBackground: 'c3-chart-arcs-background',\n    chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\n    chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\n    chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\n    selectedCircle: 'c3-selected-circle',\n    selectedCircles: 'c3-selected-circles',\n    eventRect: 'c3-event-rect',\n    eventRects: 'c3-event-rects',\n    eventRectsSingle: 'c3-event-rects-single',\n    eventRectsMultiple: 'c3-event-rects-multiple',\n    zoomRect: 'c3-zoom-rect',\n    brush: 'c3-brush',\n    focused: 'c3-focused',\n    defocused: 'c3-defocused',\n    region: 'c3-region',\n    regions: 'c3-regions',\n    title: 'c3-title',\n    tooltipContainer: 'c3-tooltip-container',\n    tooltip: 'c3-tooltip',\n    tooltipName: 'c3-tooltip-name',\n    shape: 'c3-shape',\n    shapes: 'c3-shapes',\n    line: 'c3-line',\n    lines: 'c3-lines',\n    bar: 'c3-bar',\n    bars: 'c3-bars',\n    circle: 'c3-circle',\n    circles: 'c3-circles',\n    arc: 'c3-arc',\n    arcs: 'c3-arcs',\n    area: 'c3-area',\n    areas: 'c3-areas',\n    empty: 'c3-empty',\n    text: 'c3-text',\n    texts: 'c3-texts',\n    gaugeValue: 'c3-gauge-value',\n    grid: 'c3-grid',\n    gridLines: 'c3-grid-lines',\n    xgrid: 'c3-xgrid',\n    xgrids: 'c3-xgrids',\n    xgridLine: 'c3-xgrid-line',\n    xgridLines: 'c3-xgrid-lines',\n    xgridFocus: 'c3-xgrid-focus',\n    ygrid: 'c3-ygrid',\n    ygrids: 'c3-ygrids',\n    ygridLine: 'c3-ygrid-line',\n    ygridLines: 'c3-ygrid-lines',\n    axis: 'c3-axis',\n    axisX: 'c3-axis-x',\n    axisXLabel: 'c3-axis-x-label',\n    axisY: 'c3-axis-y',\n    axisYLabel: 'c3-axis-y-label',\n    axisY2: 'c3-axis-y2',\n    axisY2Label: 'c3-axis-y2-label',\n    legendBackground: 'c3-legend-background',\n    legendItem: 'c3-legend-item',\n    legendItemEvent: 'c3-legend-item-event',\n    legendItemTile: 'c3-legend-item-tile',\n    legendItemHidden: 'c3-legend-item-hidden',\n    legendItemFocused: 'c3-legend-item-focused',\n    dragarea: 'c3-dragarea',\n    EXPANDED: '_expanded_',\n    SELECTED: '_selected_',\n    INCLUDED: '_included_',\n};\nconst generateClass = function (prefix, targetId) {\n    return ' ' + prefix + ' ' + prefix + this.getTargetSelectorSuffix(targetId);\n};\nconst classText = function (d) {\n    return this.generateClass(CLASS.text, d.index);\n};\nconst classTexts = function (d) {\n    return this.generateClass(CLASS.texts, d.id);\n};\nconst classShape = function (d) {\n    return this.generateClass(CLASS.shape, d.index);\n};\nconst classShapes = function (d) {\n    return this.generateClass(CLASS.shapes, d.id);\n};\nconst classLine = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.line, d.id);\n};\nconst classLines = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.lines, d.id);\n};\nconst classCircle = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.circle, d.index);\n};\nconst classCircles = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.circles, d.id);\n};\nconst classBar = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.bar, d.index);\n};\nconst classBars = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.bars, d.id);\n};\nconst classArc = function (d) {\n    return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id);\n};\nconst classArcs = function (d) {\n    return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id);\n};\nconst classArea = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.area, d.id);\n};\nconst classAreas = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.areas, d.id);\n};\nconst classRegion = function (d, i) {\n    return this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d.class : '');\n};\nconst classEvent = function (d) {\n    return this.generateClass(CLASS.eventRect, d.index);\n};\nconst classTarget = function (id) {\n    const $$ = this;\n    let additionalClassSuffix = $$.config.data_classes[id], additionalClass = '';\n    if (additionalClassSuffix) {\n        additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\n    }\n    return $$.generateClass(CLASS.target, id) + additionalClass;\n};\nconst classFocus = function (d) {\n    return this.classFocused(d) + this.classDefocused(d);\n};\nconst classFocused = function (d) {\n    return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '');\n};\nconst classDefocused = function (d) {\n    return ' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : '');\n};\nconst classChartText = function (d) {\n    return CLASS.chartText + this.classTarget(d.id);\n};\nconst classChartLine = function (d) {\n    return CLASS.chartLine + this.classTarget(d.id);\n};\nconst classChartBar = function (d) {\n    return CLASS.chartBar + this.classTarget(d.id);\n};\nconst classChartArc = function (d) {\n    return CLASS.chartArc + this.classTarget(d.data.id);\n};\nconst getTargetSelectorSuffix = function (targetId) {\n    return targetId || targetId === 0 ? ('-' + targetId).replace(/[\\s?!@#$%^&*()_=+,.<>'\":;\\[\\]\\/|~`{}\\\\]/g, '-') : '';\n};\nconst selectorTarget = function (id, prefix) {\n    return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id);\n};\nconst selectorTargets = function (ids, prefix) {\n    const $$ = this;\n    ids = ids || [];\n    return ids.length ? ids.map((id) => { return $$.selectorTarget(id, prefix); }) : null;\n};\nconst selectorLegend = function (id) {\n    return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id);\n};\nconst selectorLegends = function (ids) {\n    const $$ = this;\n    return ids && ids.length ? ids.map((id) => { return $$.selectorLegend(id); }) : null;\n};\n\nexport {\n    CLASS,\n    generateClass,\n    classText,\n    classTexts,\n    classShape,\n    classShapes,\n    classLine,\n    classLines,\n    classCircle,\n    classCircles,\n    classBar,\n    classBars,\n    classArc,\n    classArcs,\n    classArea,\n    classAreas,\n    classRegion,\n    classEvent,\n    classTarget,\n    classFocus,\n    classFocused,\n    classDefocused,\n    classChartText,\n    classChartLine,\n    classChartBar,\n    classChartArc,\n    getTargetSelectorSuffix,\n    selectorTarget,\n    selectorTargets,\n    selectorLegend,\n    selectorLegends,\n};\n","const isValue = function (v) {\n        return v || v === 0;\n    },\n    isFunction = function (o) {\n        return typeof o === 'function';\n    },\n    isString = function (o) {\n        return typeof o === 'string';\n    },\n    isUndefined = function (v) {\n        return typeof v === 'undefined';\n    },\n    isDefined = function (v) {\n        return typeof v !== 'undefined';\n    },\n    ceil10 = function (v) {\n        return Math.ceil(v / 10) * 10;\n    },\n    asHalfPixel = function (n) {\n        return Math.ceil(n) + 0.5;\n    },\n    diffDomain = function (d) {\n        return d[1] - d[0];\n    },\n    isEmpty = function (o) {\n        return typeof o === 'undefined' || o === null || (isString(o) && o.length === 0) || (typeof o === 'object' && Object.keys(o).length === 0);\n    },\n    notEmpty = function (o) {\n        isEmpty(o);\n    },\n    getOption = function (options, key, defaultValue) {\n        return isDefined(options[key]) ? options[key] : defaultValue;\n    },\n    hasValue = function (dict, value) {\n        let found = false;\n        Object.keys(dict).forEach((key) => {\n            if (dict[key] === value) { found = true; }\n        });\n        return found;\n    },\n    sanitise = function (str) {\n        return typeof str === 'string' ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;') : str;\n    },\n    getPathBox = function (path) {\n        let box = path.getBoundingClientRect(),\n            items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)],\n            minX = items[0].x, minY = Math.min(items[0].y, items[1].y);\n\n        return { x: minX, y: minY, width: box.width, height: box.height };\n    };\n\nexport {\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n};\n","import { CLASS } from './class';\nimport { isFunction } from './util';\n\nconst initPie = function () {\n    let $$ = this, d3 = $$.d3, config = $$.config;\n    $$.pie = d3.layout.pie().value((d) => {\n        return d.values.reduce((a, b) => { return a + b.value; }, 0);\n    });\n    if (!config.data_order) {\n        $$.pie.sort(null);\n    }\n};\n\nconst updateRadius = function () {\n    let $$ = this, config = $$.config,\n        w = config.gauge_width || config.donut_width;\n    $$.radiusExpanded = Math.min($$.arcWidth, $$.arcHeight) / 2;\n    $$.radius = $$.radiusExpanded * 0.95;\n    $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\n    $$.innerRadius = $$.hasType('donut') || $$.hasType('gauge') ? $$.radius * $$.innerRadiusRatio : 0;\n};\n\nconst updateArc = function () {\n    const $$ = this;\n    $$.svgArc = $$.getSvgArc();\n    $$.svgArcExpanded = $$.getSvgArcExpanded();\n    $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\n};\n\nconst updateAngle = function (d) {\n    let $$ = this, config = $$.config,\n        found = false, index = 0,\n        gMin, gMax, gTic, gValue;\n\n    if (!config) {\n        return null;\n    }\n\n    $$.pie($$.filterTargetsToShow($$.data.targets)).forEach((t) => {\n        if (!found && t.data.id === d.data.id) {\n            found = true;\n            d = t;\n            d.index = index;\n        }\n        index++;\n    });\n    if (isNaN(d.startAngle)) {\n        d.startAngle = 0;\n    }\n    if (isNaN(d.endAngle)) {\n        d.endAngle = d.startAngle;\n    }\n    if ($$.isGaugeType(d.data)) {\n        gMin = config.gauge_min;\n        gMax = config.gauge_max;\n        gTic = (Math.PI * (config.gauge_fullCircle ? 2 : 1)) / (gMax - gMin);\n        gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : (gMax - gMin);\n        d.startAngle = config.gauge_startingAngle;\n        d.endAngle = d.startAngle + gTic * gValue;\n    }\n    return found ? d : null;\n};\n\nconst getSvgArc = function () {\n    let $$ = this,\n        arc = $$.d3.svg.arc().outerRadius($$.radius).innerRadius($$.innerRadius),\n        newArc = function (d, withoutUpdate) {\n            let updated;\n            if (withoutUpdate) { return arc(d); } // for interpolate\n            updated = $$.updateAngle(d);\n            return updated ? arc(updated) : 'M 0 0';\n        };\n    // TODO: extends all function\n    newArc.centroid = arc.centroid;\n    return newArc;\n};\n\nconst getSvgArcExpanded = function (rate) {\n    let $$ = this,\n        arc = $$.d3.svg.arc().outerRadius($$.radiusExpanded * (rate ? rate : 1)).innerRadius($$.innerRadius);\n    return function (d) {\n        const updated = $$.updateAngle(d);\n        return updated ? arc(updated) : 'M 0 0';\n    };\n};\n\nconst getArc = function (d, withoutUpdate, force) {\n    return force || this.isArcType(d.data) ? this.svgArc(d, withoutUpdate) : 'M 0 0';\n};\n\n\nconst transformForArcLabel = function (d) {\n    let $$ = this, config = $$.config,\n        updated = $$.updateAngle(d), c, x, y, h, ratio, translate = '';\n    if (updated && !$$.hasType('gauge')) {\n        c = this.svgArc.centroid(updated);\n        x = isNaN(c[0]) ? 0 : c[0];\n        y = isNaN(c[1]) ? 0 : c[1];\n        h = Math.sqrt(x * x + y * y);\n        if ($$.hasType('donut') && config.donut_label_ratio) {\n            ratio = isFunction(config.donut_label_ratio) ? config.donut_label_ratio(d, $$.radius, h) : config.donut_label_ratio;\n        } else if ($$.hasType('pie') && config.pie_label_ratio) {\n            ratio = isFunction(config.pie_label_ratio) ? config.pie_label_ratio(d, $$.radius, h) : config.pie_label_ratio;\n        } else {\n            ratio = $$.radius && h ? (36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) * $$.radius / h : 0;\n        }\n        translate = 'translate(' + (x * ratio) + ',' + (y * ratio) + ')';\n    }\n    return translate;\n};\n\nconst getArcRatio = function (d) {\n    let $$ = this,\n        config = $$.config,\n        whole = Math.PI * ($$.hasType('gauge') && !config.gauge_fullCircle ? 1 : 2);\n    return d ? (d.endAngle - d.startAngle) / whole : null;\n};\n\nconst convertToArcData = function (d) {\n    return this.addName({\n        id: d.data.id,\n        value: d.value,\n        ratio: this.getArcRatio(d),\n        index: d.index,\n    });\n};\n\nconst textForArcLabel = function (d) {\n    let $$ = this,\n        updated, value, ratio, id, format;\n    if (!$$.shouldShowArcLabel()) { return ''; }\n    updated = $$.updateAngle(d);\n    value = updated ? updated.value : null;\n    ratio = $$.getArcRatio(updated);\n    id = d.data.id;\n    if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) { return ''; }\n    format = $$.getArcLabelFormat();\n    return format ? format(value, ratio, id) : $$.defaultArcValueFormat(value, ratio);\n};\n\nconst expandArc = function (targetIds) {\n    let $$ = this, interval;\n\n    // MEMO: avoid to cancel transition\n    if ($$.transiting) {\n        interval = window.setInterval(() => {\n            if (!$$.transiting) {\n                window.clearInterval(interval);\n                if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\n                    $$.expandArc(targetIds);\n                }\n            }\n        }, 10);\n        return;\n    }\n\n    targetIds = $$.mapToTargetIds(targetIds);\n\n    $$.svg.selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc)).each(function (d) {\n        if (!$$.shouldExpand(d.data.id)) { return; }\n        $$.d3.select(this).selectAll('path')\n            .transition().duration($$.expandDuration(d.data.id))\n            .attr('d', $$.svgArcExpanded)\n            .transition().duration($$.expandDuration(d.data.id) * 2)\n            .attr('d', $$.svgArcExpandedSub)\n            .each((d) => {\n                if ($$.isDonutType(d.data)) {\n                    // callback here\n                }\n            });\n    });\n};\n\nconst unexpandArc = function (targetIds) {\n    const $$ = this;\n\n    if ($$.transiting) { return; }\n\n    targetIds = $$.mapToTargetIds(targetIds);\n\n    $$.svg.selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc)).selectAll('path')\n        .transition().duration((d) => {\n            return $$.expandDuration(d.data.id);\n        })\n        .attr('d', $$.svgArc);\n    $$.svg.selectAll('.' + CLASS.arc)\n        .style('opacity', 1);\n};\n\nconst expandDuration = function (id) {\n    let $$ = this, config = $$.config;\n\n    if ($$.isDonutType(id)) {\n        return config.donut_expand_duration;\n    } else if ($$.isGaugeType(id)) {\n        return config.gauge_expand_duration;\n    } else if ($$.isPieType(id)) {\n        return config.pie_expand_duration;\n    } else {\n        return 50;\n    }\n};\n\nconst shouldExpand = function (id) {\n    let $$ = this, config = $$.config;\n    return ($$.isDonutType(id) && config.donut_expand) ||\n           ($$.isGaugeType(id) && config.gauge_expand) ||\n           ($$.isPieType(id) && config.pie_expand);\n};\n\nconst shouldShowArcLabel = function () {\n    let $$ = this, config = $$.config, shouldShow = true;\n    if ($$.hasType('donut')) {\n        shouldShow = config.donut_label_show;\n    } else if ($$.hasType('pie')) {\n        shouldShow = config.pie_label_show;\n    }\n    // when gauge, always true\n    return shouldShow;\n};\n\nconst meetsArcLabelThreshold = function (ratio) {\n    let $$ = this, config = $$.config,\n        threshold = $$.hasType('donut') ? config.donut_label_threshold : config.pie_label_threshold;\n    return ratio >= threshold;\n};\n\nconst getArcLabelFormat = function () {\n    let $$ = this, config = $$.config,\n        format = config.pie_label_format;\n    if ($$.hasType('gauge')) {\n        format = config.gauge_label_format;\n    } else if ($$.hasType('donut')) {\n        format = config.donut_label_format;\n    }\n    return format;\n};\n\nconst getArcTitle = function () {\n    const $$ = this;\n    return $$.hasType('donut') ? $$.config.donut_title : '';\n};\n\nconst updateTargetsForArc = function (targets) {\n    let $$ = this, main = $$.main,\n        mainPieUpdate, mainPieEnter,\n        classChartArc = $$.classChartArc.bind($$),\n        classArcs = $$.classArcs.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainPieUpdate = main.select('.' + CLASS.chartArcs).selectAll('.' + CLASS.chartArc)\n        .data($$.pie(targets))\n        .attr('class', (d) => { return classChartArc(d) + classFocus(d.data); });\n    mainPieEnter = mainPieUpdate.enter().append('g')\n        .attr('class', classChartArc);\n    mainPieEnter.append('g')\n        .attr('class', classArcs);\n    mainPieEnter.append('text')\n        .attr('dy', $$.hasType('gauge') ? '-.1em' : '.35em')\n        .style('opacity', 0)\n        .style('text-anchor', 'middle')\n        .style('pointer-events', 'none');\n    // MEMO: can not keep same color..., but not bad to update color in redraw\n    // mainPieUpdate.exit().remove();\n};\n\nconst initArc = function () {\n    const $$ = this;\n    $$.arcs = $$.main.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.chartArcs)\n        .attr('transform', $$.getTranslate('arc'));\n    $$.arcs.append('text')\n        .attr('class', CLASS.chartArcsTitle)\n        .style('text-anchor', 'middle')\n        .text($$.getArcTitle());\n};\n\nconst redrawArc = function (duration, durationForExit, withTransform) {\n    let $$ = this, d3 = $$.d3, config = $$.config, main = $$.main,\n        mainArc;\n    mainArc = main.selectAll('.' + CLASS.arcs).selectAll('.' + CLASS.arc)\n        .data($$.arcData.bind($$));\n    mainArc.enter().append('path')\n        .attr('class', $$.classArc.bind($$))\n        .style('fill', (d) => { return $$.color(d.data); })\n        .style('cursor', (d) => { return config.interaction_enabled && config.data_selection_isselectable(d) ? 'pointer' : null; })\n        .style('opacity', 0)\n        .each(function (d) {\n            if ($$.isGaugeType(d.data)) {\n                d.startAngle = d.endAngle = config.gauge_startingAngle;\n            }\n            this._current = d;\n        });\n    mainArc\n        .attr('transform', (d) => { return !$$.isGaugeType(d.data) && withTransform ? 'scale(0)' : ''; })\n        .style('opacity', function (d) { return d === this._current ? 0 : 1; })\n        .on('mouseover', config.interaction_enabled ? function (d) {\n            let updated, arcData;\n            if ($$.transiting) { // skip while transiting\n                return;\n            }\n            updated = $$.updateAngle(d);\n            if (updated) {\n                arcData = $$.convertToArcData(updated);\n                // transitions\n                $$.expandArc(updated.data.id);\n                $$.api.focus(updated.data.id);\n                $$.toggleFocusLegend(updated.data.id, true);\n                $$.config.data_onmouseover(arcData, this);\n            }\n        } : null)\n        .on('mousemove', config.interaction_enabled ? function (d) {\n            let updated = $$.updateAngle(d), arcData, selectedData;\n            if (updated) {\n                arcData = $$.convertToArcData(updated),\n                selectedData = [arcData];\n                $$.showTooltip(selectedData, this);\n            }\n        } : null)\n        .on('mouseout', config.interaction_enabled ? function (d) {\n            let updated, arcData;\n            if ($$.transiting) { // skip while transiting\n                return;\n            }\n            updated = $$.updateAngle(d);\n            if (updated) {\n                arcData = $$.convertToArcData(updated);\n                // transitions\n                $$.unexpandArc(updated.data.id);\n                $$.api.revert();\n                $$.revertLegend();\n                $$.hideTooltip();\n                $$.config.data_onmouseout(arcData, this);\n            }\n        } : null)\n        .on('click', config.interaction_enabled ? function (d, i) {\n            let updated = $$.updateAngle(d), arcData;\n            if (updated) {\n                arcData = $$.convertToArcData(updated);\n                if ($$.toggleShape) {\n                    $$.toggleShape(this, arcData, i);\n                }\n                $$.config.data_onclick.call($$.api, arcData, this);\n            }\n        } : null)\n        .each(() => { $$.transiting = true; })\n        .transition().duration(duration)\n        .attrTween('d', function (d) {\n            let updated = $$.updateAngle(d), interpolate;\n            if (!updated) {\n                return function () { return 'M 0 0'; };\n            }\n            //                if (this._current === d) {\n            //                    this._current = {\n            //                        startAngle: Math.PI*2,\n            //                        endAngle: Math.PI*2,\n            //                    };\n            //                }\n            if (isNaN(this._current.startAngle)) {\n                this._current.startAngle = 0;\n            }\n            if (isNaN(this._current.endAngle)) {\n                this._current.endAngle = this._current.startAngle;\n            }\n            interpolate = d3.interpolate(this._current, updated);\n            this._current = interpolate(0);\n            return function (t) {\n                const interpolated = interpolate(t);\n                interpolated.data = d.data; // data.id will be updated by interporator\n                return $$.getArc(interpolated, true);\n            };\n        })\n        .attr('transform', withTransform ? 'scale(1)' : '')\n        .style('fill', (d) => {\n            return $$.levelColor ? $$.levelColor(d.data.values[0].value) : $$.color(d.data.id);\n        }) // Where gauge reading color would receive customization.\n        .style('opacity', 1)\n        .call($$.endall, () => {\n            $$.transiting = false;\n        });\n    mainArc.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n    main.selectAll('.' + CLASS.chartArc).select('text')\n        .style('opacity', 0)\n        .attr('class', (d) => { return $$.isGaugeType(d.data) ? CLASS.gaugeValue : ''; })\n        .text($$.textForArcLabel.bind($$))\n        .attr('transform', $$.transformForArcLabel.bind($$))\n        .style('font-size', (d) => { return $$.isGaugeType(d.data) ? Math.round($$.radius / 5) + 'px' : ''; })\n      .transition().duration(duration)\n        .style('opacity', (d) => { return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0; });\n    main.select('.' + CLASS.chartArcsTitle)\n        .style('opacity', $$.hasType('donut') || $$.hasType('gauge') ? 1 : 0);\n\n    if ($$.hasType('gauge')) {\n        $$.arcs.select('.' + CLASS.chartArcsBackground)\n            .attr('d', () => {\n                const d = {\n                    data: [{ value: config.gauge_max }],\n                    startAngle: config.gauge_startingAngle,\n                    endAngle: -1 * config.gauge_startingAngle,\n                };\n                return $$.getArc(d, true, true);\n            });\n        $$.arcs.select('.' + CLASS.chartArcsGaugeUnit)\n            .attr('dy', '.75em')\n            .text(config.gauge_label_show ? config.gauge_units : '');\n        $$.arcs.select('.' + CLASS.chartArcsGaugeMin)\n            .attr('dx', -1 * ($$.innerRadius + (($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2))) + 'px')\n            .attr('dy', '1.2em')\n            .text(config.gauge_label_show ? config.gauge_min : '');\n        $$.arcs.select('.' + CLASS.chartArcsGaugeMax)\n            .attr('dx', $$.innerRadius + (($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) + 'px')\n            .attr('dy', '1.2em')\n            .text(config.gauge_label_show ? config.gauge_max : '');\n    }\n};\nconst initGauge = function () {\n    const arcs = this.arcs;\n    if (this.hasType('gauge')) {\n        arcs.append('path')\n            .attr('class', CLASS.chartArcsBackground);\n        arcs.append('text')\n            .attr('class', CLASS.chartArcsGaugeUnit)\n            .style('text-anchor', 'middle')\n            .style('pointer-events', 'none');\n        arcs.append('text')\n            .attr('class', CLASS.chartArcsGaugeMin)\n            .style('text-anchor', 'middle')\n            .style('pointer-events', 'none');\n        arcs.append('text')\n            .attr('class', CLASS.chartArcsGaugeMax)\n            .style('text-anchor', 'middle')\n            .style('pointer-events', 'none');\n    }\n};\nconst getGaugeLabelHeight = function () {\n    return this.config.gauge_label_show ? 20 : 0;\n};\n\nexport {\n    initPie,\n    updateRadius,\n    updateArc,\n    updateAngle,\n    getSvgArc,\n    getSvgArcExpanded,\n    getArc,\n    transformForArcLabel,\n    getArcRatio,\n    convertToArcData,\n    textForArcLabel,\n    expandArc,\n    unexpandArc,\n    expandDuration,\n    shouldExpand,\n    shouldShowArcLabel,\n    meetsArcLabelThreshold,\n    getArcLabelFormat,\n    getArcTitle,\n    updateTargetsForArc,\n    initArc,\n    redrawArc,\n    initGauge,\n    getGaugeLabelHeight,\n};\n","const hasCaches = function (ids) {\n    for (let i = 0; i < ids.length; i++) {\n        if (!(ids[i] in this.cache)) { return false; }\n    }\n    return true;\n};\n\nconst addCache = function (id, target) {\n    this.cache[id] = this.cloneTarget(target);\n};\n\nconst getCaches = function (ids) {\n    let targets = [], i;\n    for (i = 0; i < ids.length; i++) {\n        if (ids[i] in this.cache) { targets.push(this.cloneTarget(this.cache[ids[i]])); }\n    }\n    return targets;\n};\n\nexport {\n    hasCaches,\n    addCache,\n    getCaches,\n};\n","const categoryName = function (i) {\n    const config = this.config;\n    return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i;\n};\n\nexport { categoryName };\n","const getClipPath = function (id) {\n    const isIE9 = window.navigator.appVersion.toLowerCase().indexOf('msie 9.') >= 0;\n    return 'url(' + (isIE9 ? '' : document.URL.split('#')[0]) + '#' + id + ')';\n};\nconst appendClip = function (parent, id) {\n    return parent.append('clipPath').attr('id', id).append('rect');\n};\nconst getAxisClipX = function (forHorizontal) {\n    // axis line width + padding for left\n    const left = Math.max(30, this.margin.left);\n    return forHorizontal ? -(1 + left) : -(left - 1);\n};\nconst getAxisClipY = function (forHorizontal) {\n    return forHorizontal ? -20 : -this.margin.top;\n};\nconst getXAxisClipX = function () {\n    const $$ = this;\n    return $$.getAxisClipX(!$$.config.axis_rotated);\n};\nconst getXAxisClipY = function () {\n    const $$ = this;\n    return $$.getAxisClipY(!$$.config.axis_rotated);\n};\nconst getYAxisClipX = function () {\n    const $$ = this;\n    return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated);\n};\nconst getYAxisClipY = function () {\n    const $$ = this;\n    return $$.getAxisClipY($$.config.axis_rotated);\n};\nconst getAxisClipWidth = function (forHorizontal) {\n    let $$ = this,\n        left = Math.max(30, $$.margin.left),\n        right = Math.max(30, $$.margin.right);\n    // width + axis line width + padding for left/right\n    return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20;\n};\nconst getAxisClipHeight = function (forHorizontal) {\n    // less than 20 is not enough to show the axis label 'outer' without legend\n    return (forHorizontal ? this.margin.bottom : (this.margin.top + this.height)) + 20;\n};\nconst getXAxisClipWidth = function () {\n    const $$ = this;\n    return $$.getAxisClipWidth(!$$.config.axis_rotated);\n};\nconst getXAxisClipHeight = function () {\n    const $$ = this;\n    return $$.getAxisClipHeight(!$$.config.axis_rotated);\n};\nconst getYAxisClipWidth = function () {\n    const $$ = this;\n    return $$.getAxisClipWidth($$.config.axis_rotated) + ($$.config.axis_y_inner ? 20 : 0);\n};\nconst getYAxisClipHeight = function () {\n    const $$ = this;\n    return $$.getAxisClipHeight($$.config.axis_rotated);\n};\n\nexport {\n    getClipPath,\n    appendClip,\n    getAxisClipX,\n    getAxisClipY,\n    getXAxisClipX,\n    getXAxisClipY,\n    getYAxisClipX,\n    getYAxisClipY,\n    getAxisClipWidth,\n    getAxisClipHeight,\n    getXAxisClipWidth,\n    getXAxisClipHeight,\n    getYAxisClipWidth,\n    getYAxisClipHeight,\n};\n","import {\n    notEmpty,\n} from './util';\n\nconst generateColor = function () {\n    let $$ = this, config = $$.config, d3 = $$.d3,\n        colors = config.data_colors,\n        pattern = notEmpty(config.color_pattern) ? config.color_pattern : d3.scale.category10().range(),\n        callback = config.data_color,\n        ids = [];\n\n    return function (d) {\n        let id = d.id || (d.data && d.data.id) || d, color;\n\n        // if callback function is provided\n        if (colors[id] instanceof Function) {\n            color = colors[id](d);\n        }\n        // if specified, choose that color\n        else if (colors[id]) {\n            color = colors[id];\n        }\n        // if not specified, choose from pattern\n        else {\n            if (ids.indexOf(id) < 0) { ids.push(id); }\n            color = pattern[ids.indexOf(id) % pattern.length];\n            colors[id] = color;\n        }\n        return callback instanceof Function ? callback(color, d) : color;\n    };\n};\nconst generateLevelColor = function () {\n    let $$ = this, config = $$.config,\n        colors = config.color_pattern,\n        threshold = config.color_threshold,\n        asValue = threshold.unit === 'value',\n        values = threshold.values && threshold.values.length ? threshold.values : [],\n        max = threshold.max || 100;\n    return notEmpty(config.color_threshold) ? function (value) {\n        let i, v, color = colors[colors.length - 1];\n        for (i = 0; i < values.length; i++) {\n            v = asValue ? value : (value * 100 / max);\n            if (v < values[i]) {\n                color = colors[i];\n                break;\n            }\n        }\n        return color;\n    } : null;\n};\n\nexport {\n    generateColor,\n    generateLevelColor\n};\n","import { isDefined } from './util';\n\nconst getDefaultConfig = function () {\n    const config = {\n        bindto: '#chart',\n        svg_classname: undefined,\n        size_width: undefined,\n        size_height: undefined,\n        padding_left: undefined,\n        padding_right: undefined,\n        padding_top: undefined,\n        padding_bottom: undefined,\n        resize_auto: true,\n        zoom_enabled: false,\n        zoom_extent: undefined,\n        zoom_privileged: false,\n        zoom_rescale: false,\n        zoom_onzoom() {},\n        zoom_onzoomstart() {},\n        zoom_onzoomend() {},\n        zoom_x_min: undefined,\n        zoom_x_max: undefined,\n        interaction_brighten: true,\n        interaction_enabled: true,\n        onmouseover() {},\n        onmouseout() {},\n        onresize() {},\n        onresized() {},\n        oninit() {},\n        onrendered() {},\n        transition_duration: 350,\n        data_x: undefined,\n        data_xs: {},\n        data_xFormat: '%Y-%m-%d',\n        data_xLocaltime: true,\n        data_xSort: true,\n        data_idConverter(id) { return id; },\n        data_names: {},\n        data_classes: {},\n        data_groups: [],\n        data_axes: {},\n        data_type: undefined,\n        data_types: {},\n        data_labels: {},\n        data_order: 'desc',\n        data_regions: {},\n        data_color: undefined,\n        data_colors: {},\n        data_hide: false,\n        data_filter: undefined,\n        data_selection_enabled: false,\n        data_selection_grouped: false,\n        data_selection_isselectable() { return true; },\n        data_selection_multiple: true,\n        data_selection_draggable: false,\n        data_onclick() {},\n        data_onmouseover() {},\n        data_onmouseout() {},\n        data_onselected() {},\n        data_onunselected() {},\n        data_url: undefined,\n        data_headers: undefined,\n        data_json: undefined,\n        data_rows: undefined,\n        data_columns: undefined,\n        data_mimeType: undefined,\n        data_keys: undefined,\n        // configuration for no plot-able data supplied.\n        data_empty_label_text: '',\n        // subchart\n        subchart_show: false,\n        subchart_size_height: 60,\n        subchart_axis_x_show: true,\n        subchart_onbrush() {},\n        // color\n        color_pattern: [],\n        color_threshold: {},\n        // legend\n        legend_show: true,\n        legend_hide: false,\n        legend_position: 'bottom',\n        legend_inset_anchor: 'top-left',\n        legend_inset_x: 10,\n        legend_inset_y: 0,\n        legend_inset_step: undefined,\n        legend_item_onclick: undefined,\n        legend_item_onmouseover: undefined,\n        legend_item_onmouseout: undefined,\n        legend_equally: false,\n        legend_padding: 0,\n        legend_item_tile_width: 10,\n        legend_item_tile_height: 10,\n        // axis\n        axis_rotated: false,\n        axis_x_show: true,\n        axis_x_type: 'indexed',\n        axis_x_localtime: true,\n        axis_x_categories: [],\n        axis_x_tick_centered: false,\n        axis_x_tick_format: undefined,\n        axis_x_tick_culling: {},\n        axis_x_tick_culling_max: 10,\n        axis_x_tick_count: undefined,\n        axis_x_tick_fit: true,\n        axis_x_tick_values: null,\n        axis_x_tick_rotate: 0,\n        axis_x_tick_outer: true,\n        axis_x_tick_multiline: true,\n        axis_x_tick_width: null,\n        axis_x_max: undefined,\n        axis_x_min: undefined,\n        axis_x_padding: {},\n        axis_x_height: undefined,\n        axis_x_extent: undefined,\n        axis_x_label: {},\n        axis_y_show: true,\n        axis_y_type: undefined,\n        axis_y_max: undefined,\n        axis_y_min: undefined,\n        axis_y_inverted: false,\n        axis_y_center: undefined,\n        axis_y_inner: undefined,\n        axis_y_label: {},\n        axis_y_tick_format: undefined,\n        axis_y_tick_outer: true,\n        axis_y_tick_values: null,\n        axis_y_tick_rotate: 0,\n        axis_y_tick_count: undefined,\n        axis_y_tick_time_value: undefined,\n        axis_y_tick_time_interval: undefined,\n        axis_y_padding: {},\n        axis_y_default: undefined,\n        axis_y2_show: false,\n        axis_y2_max: undefined,\n        axis_y2_min: undefined,\n        axis_y2_inverted: false,\n        axis_y2_center: undefined,\n        axis_y2_inner: undefined,\n        axis_y2_label: {},\n        axis_y2_tick_format: undefined,\n        axis_y2_tick_outer: true,\n        axis_y2_tick_values: null,\n        axis_y2_tick_count: undefined,\n        axis_y2_padding: {},\n        axis_y2_default: undefined,\n        // grid\n        grid_x_show: false,\n        grid_x_type: 'tick',\n        grid_x_lines: [],\n        grid_y_show: false,\n        // not used\n        // grid_y_type: 'tick',\n        grid_y_lines: [],\n        grid_y_ticks: 10,\n        grid_focus_show: true,\n        grid_lines_front: true,\n        // point - point of each data\n        point_show: true,\n        point_r: 2.5,\n        point_sensitivity: 10,\n        point_focus_expand_enabled: true,\n        point_focus_expand_r: undefined,\n        point_select_r: undefined,\n        // line\n        line_connectNull: false,\n        line_step_type: 'step',\n        // bar\n        bar_width: undefined,\n        bar_width_ratio: 0.6,\n        bar_width_max: undefined,\n        bar_zerobased: true,\n        // area\n        area_zerobased: true,\n        area_above: false,\n        // pie\n        pie_label_show: true,\n        pie_label_format: undefined,\n        pie_label_threshold: 0.05,\n        pie_label_ratio: undefined,\n        pie_expand: {},\n        pie_expand_duration: 50,\n        // gauge\n        gauge_fullCircle: false,\n        gauge_label_show: true,\n        gauge_label_format: undefined,\n        gauge_min: 0,\n        gauge_max: 100,\n        gauge_startingAngle: -1 * Math.PI / 2,\n        gauge_units: undefined,\n        gauge_width: undefined,\n        gauge_expand: {},\n        gauge_expand_duration: 50,\n        // donut\n        donut_label_show: true,\n        donut_label_format: undefined,\n        donut_label_threshold: 0.05,\n        donut_label_ratio: undefined,\n        donut_width: undefined,\n        donut_title: '',\n        donut_expand: {},\n        donut_expand_duration: 50,\n        // spline\n        spline_interpolation_type: 'cardinal',\n        // region - region to change style\n        regions: [],\n        // tooltip - show when mouseover on each data\n        tooltip_show: true,\n        tooltip_grouped: true,\n        tooltip_format_title: undefined,\n        tooltip_format_name: undefined,\n        tooltip_format_value: undefined,\n        tooltip_position: undefined,\n        tooltip_contents(d, defaultTitleFormat, defaultValueFormat, color) {\n            return this.getTooltipContent ? this.getTooltipContent(d, defaultTitleFormat, defaultValueFormat, color) : '';\n        },\n        tooltip_init_show: false,\n        tooltip_init_x: 0,\n        tooltip_init_position: { top: '0px', left: '50px' },\n        tooltip_onshow() {},\n        tooltip_onhide() {},\n        // title\n        title_text: undefined,\n        title_padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        },\n        title_position: 'top-center',\n        // TouchEvent configuration\n        touch_tap_radius: 20,  // touch movement must be less than this to be a 'tap'\n        touch_tap_delay: 500,  //clicks are suppressed for this many ms after a tap\n    };\n\n    Object.keys(this.additionalConfig).forEach(function (key) {\n        config[key] = this.additionalConfig[key];\n    }, this);\n\n    return config;\n};\nconst additionalConfig = {};\n\nconst loadConfig = function (config) {\n    let this_config = this.config, target, keys, read;\n    function find() {\n        const key = keys.shift();\n//        console.log(\"key =>\", key, \", target =>\", target);\n        if (key && target && typeof target === 'object' && key in target) {\n            target = target[key];\n            return find();\n        }\n        else if (!key) {\n            return target;\n        }\n        else {\n            return undefined;\n        }\n    }\n    Object.keys(this_config).forEach((key) => {\n        target = config;\n        keys = key.split('_');\n        read = find();\n//        console.log(\"CONFIG : \", key, read);\n        if (isDefined(read)) {\n            this_config[key] = read;\n        }\n    });\n};\n\nexport {\n    getDefaultConfig,\n    additionalConfig,\n    loadConfig,\n};\n","import {\n    isUndefined,\n    isValue,\n    notEmpty,\n    isDefined,\n} from './util';\n\nconst convertUrlToData = function (url, mimeType, headers, keys, done) {\n    let $$ = this, type = mimeType ? mimeType : 'csv';\n    const req = $$.d3.xhr(url);\n    if (headers) {\n        Object.keys(headers).forEach((header) => {\n            req.header(header, headers[header]);\n        });\n    }\n    req.get((error, data) => {\n        let d;\n        if (!data) {\n            throw new Error(error.responseURL + ' ' + error.status + ' (' + error.statusText + ')');\n        }\n        if (type === 'json') {\n            d = $$.convertJsonToData(JSON.parse(data.response), keys);\n        } else if (type === 'tsv') {\n            d = $$.convertTsvToData(data.response);\n        } else {\n            d = $$.convertCsvToData(data.response);\n        }\n        done.call($$, d);\n    });\n};\nconst convertXsvToData = function (xsv, parser) {\n    let rows = parser.parseRows(xsv), d;\n    if (rows.length === 1) {\n        d = [{}];\n        rows[0].forEach((id) => {\n            d[0][id] = null;\n        });\n    } else {\n        d = parser.parse(xsv);\n    }\n    return d;\n};\nconst convertCsvToData = function (csv) {\n    return this.convertXsvToData(csv, this.d3.csv);\n};\nconst convertTsvToData = function (tsv) {\n    return this.convertXsvToData(tsv, this.d3.tsv);\n};\nconst convertJsonToData = function (json, keys) {\n    let $$ = this,\n        new_rows = [], targetKeys, data;\n    if (keys) { // when keys specified, json would be an array that includes objects\n        if (keys.x) {\n            targetKeys = keys.value.concat(keys.x);\n            $$.config.data_x = keys.x;\n        } else {\n            targetKeys = keys.value;\n        }\n        new_rows.push(targetKeys);\n        json.forEach((o) => {\n            const new_row = [];\n            targetKeys.forEach((key) => {\n                // convert undefined to null because undefined data will be removed in convertDataToTargets()\n                let v = $$.findValueInJson(o, key);\n                if (isUndefined(v)) {\n                    v = null;\n                }\n                new_row.push(v);\n            });\n            new_rows.push(new_row);\n        });\n        data = $$.convertRowsToData(new_rows);\n    } else {\n        Object.keys(json).forEach((key) => {\n            new_rows.push([key].concat(json[key]));\n        });\n        data = $$.convertColumnsToData(new_rows);\n    }\n    return data;\n};\nconst findValueInJson = function (object, path) {\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\n    path = path.replace(/^\\./, '');           // strip a leading dot\n    const pathArray = path.split('.');\n    for (let i = 0; i < pathArray.length; ++i) {\n        const k = pathArray[i];\n        if (k in object) {\n            object = object[k];\n        } else {\n            return;\n        }\n    }\n    return object;\n};\nconst convertRowsToData = function (rows) {\n    let keys = rows[0], new_row = {}, new_rows = [], i, j;\n    for (i = 1; i < rows.length; i++) {\n        new_row = {};\n        for (j = 0; j < rows[i].length; j++) {\n            if (isUndefined(rows[i][j])) {\n                throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\n            }\n            new_row[keys[j]] = rows[i][j];\n        }\n        new_rows.push(new_row);\n    }\n    return new_rows;\n};\nconst convertColumnsToData = function (columns) {\n    let new_rows = [], i, j, key;\n    for (i = 0; i < columns.length; i++) {\n        key = columns[i][0];\n        for (j = 1; j < columns[i].length; j++) {\n            if (isUndefined(new_rows[j - 1])) {\n                new_rows[j - 1] = {};\n            }\n            if (isUndefined(columns[i][j])) {\n                throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\n            }\n            new_rows[j - 1][key] = columns[i][j];\n        }\n    }\n    return new_rows;\n};\nconst convertDataToTargets = function (data, appendXs) {\n    let $$ = this, config = $$.config,\n        ids = $$.d3.keys(data[0]).filter($$.isNotX, $$),\n        xs = $$.d3.keys(data[0]).filter($$.isX, $$),\n        targets;\n\n    // save x for update data by load when custom x and c3.x API\n    ids.forEach((id) => {\n        const xKey = $$.getXKey(id);\n\n        if ($$.isCustomX() || $$.isTimeSeries()) {\n            // if included in input data\n            if (xs.indexOf(xKey) >= 0) {\n                $$.data.xs[id] = (appendXs && $$.data.xs[id] ? $$.data.xs[id] : []).concat(\n                    data.map((d) => { return d[xKey]; })\n                        .filter(isValue)\n                        .map((rawX, i) => { return $$.generateTargetX(rawX, id, i); })\n                );\n            }\n            // if not included in input data, find from preloaded data of other id's x\n            else if (config.data_x) {\n                $$.data.xs[id] = $$.getOtherTargetXs();\n            }\n            // if not included in input data, find from preloaded data\n            else if (notEmpty(config.data_xs)) {\n                $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\n            }\n            // MEMO: if no x included, use same x of current will be used\n        } else {\n            $$.data.xs[id] = data.map((d, i) => { return i; });\n        }\n    });\n\n\n    // check x is defined\n    ids.forEach((id) => {\n        if (!$$.data.xs[id]) {\n            throw new Error('x is not defined for id = \"' + id + '\".');\n        }\n    });\n\n    // convert to target\n    targets = ids.map((id, index) => {\n        const convertedId = config.data_idConverter(id);\n        return {\n            id: convertedId,\n            id_org: id,\n            values: data.map((d, i) => {\n                let xKey = $$.getXKey(id), rawX = d[xKey],\n                    value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null, x;\n                // use x as categories if custom x and categorized\n                if ($$.isCustomX() && $$.isCategorized() && index === 0 && !isUndefined(rawX)) {\n                    if (index === 0 && i === 0) {\n                        config.axis_x_categories = [];\n                    }\n                    x = config.axis_x_categories.indexOf(rawX);\n                    if (x === -1) {\n                        x = config.axis_x_categories.length;\n                        config.axis_x_categories.push(rawX);\n                    }\n                } else {\n                    x = $$.generateTargetX(rawX, id, i);\n                }\n                // mark as x = undefined if value is undefined and filter to remove after mapped\n                if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\n                    x = undefined;\n                }\n                return { x, value, id: convertedId };\n            }).filter((v) => { return isDefined(v.x); }),\n        };\n    });\n\n    // finish targets\n    targets.forEach((t) => {\n        let i;\n        // sort values by its x\n        if (config.data_xSort) {\n            t.values = t.values.sort((v1, v2) => {\n                let x1 = v1.x || v1.x === 0 ? v1.x : Infinity,\n                    x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\n                return x1 - x2;\n            });\n        }\n        // indexing each value\n        i = 0;\n        t.values.forEach((v) => {\n            v.index = i++;\n        });\n        // this needs to be sorted because its index and value.index is identical\n        $$.data.xs[t.id].sort((v1, v2) => {\n            return v1 - v2;\n        });\n    });\n\n    // cache information about values\n    $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n    $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n\n    // set target types\n    if (config.data_type) {\n        $$.setTargetType($$.mapToIds(targets).filter((id) => { return !(id in config.data_types); }), config.data_type);\n    }\n\n    // cache as original id keyed\n    targets.forEach((d) => {\n        $$.addCache(d.id_org, d);\n    });\n\n    return targets;\n};\n\nexport {\n    convertUrlToData,\n    convertXsvToData,\n    convertCsvToData,\n    convertTsvToData,\n    convertJsonToData,\n    findValueInJson,\n    convertRowsToData,\n    convertColumnsToData,\n    convertDataToTargets,\n};\n","import {\n    notEmpty,\n    hasValue,\n    isValue,\n    isFunction,\n} from './util';\n\nimport { CLASS } from './class';\n\nconst isX = function (key) {\n    let $$ = this, config = $$.config;\n    return (config.data_x && key === config.data_x) || (notEmpty(config.data_xs) && hasValue(config.data_xs, key));\n};\nconst isNotX = function (key) {\n    return !this.isX(key);\n};\nconst getXKey = function (id) {\n    let $$ = this, config = $$.config;\n    return config.data_x ? config.data_x : notEmpty(config.data_xs) ? config.data_xs[id] : null;\n};\nconst getXValuesOfXKey = function (key, targets) {\n    let $$ = this,\n        xValues, ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\n    ids.forEach((id) => {\n        if ($$.getXKey(id) === key) {\n            xValues = $$.data.xs[id];\n        }\n    });\n    return xValues;\n};\nconst getIndexByX = function (x) {\n    let $$ = this,\n        data = $$.filterByX($$.data.targets, x);\n    return data.length ? data[0].index : null;\n};\nconst getXValue = function (id, i) {\n    const $$ = this;\n    return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i]) ? $$.data.xs[id][i] : i;\n};\nconst getOtherTargetXs = function () {\n    let $$ = this,\n        idsForX = Object.keys($$.data.xs);\n    return idsForX.length ? $$.data.xs[idsForX[0]] : null;\n};\nconst getOtherTargetX = function (index) {\n    const xs = this.getOtherTargetXs();\n    return xs && index < xs.length ? xs[index] : null;\n};\nconst addXs = function (xs) {\n    const $$ = this;\n    Object.keys(xs).forEach((id) => {\n        $$.config.data_xs[id] = xs[id];\n    });\n};\nconst hasMultipleX = function (xs) {\n    return this.d3.set(Object.keys(xs).map((id) => { return xs[id]; })).size() > 1;\n};\nconst isMultipleX = function () {\n    return notEmpty(this.config.data_xs) || !this.config.data_xSort || this.hasType('scatter');\n};\nconst addName = function (data) {\n    let $$ = this, name;\n    if (data) {\n        name = $$.config.data_names[data.id];\n        data.name = name !== undefined ? name : data.id;\n    }\n    return data;\n};\nconst getValueOnIndex = function (values, index) {\n    const valueOnIndex = values.filter((v) => { return v.index === index; });\n    return valueOnIndex.length ? valueOnIndex[0] : null;\n};\nconst updateTargetX = function (targets, x) {\n    const $$ = this;\n    targets.forEach((t) => {\n        t.values.forEach((v, i) => {\n            v.x = $$.generateTargetX(x[i], t.id, i);\n        });\n        $$.data.xs[t.id] = x;\n    });\n};\nconst updateTargetXs = function (targets, xs) {\n    const $$ = this;\n    targets.forEach((t) => {\n        if (xs[t.id]) {\n            $$.updateTargetX([t], xs[t.id]);\n        }\n    });\n};\nconst generateTargetX = function (rawX, id, index) {\n    let $$ = this, x;\n    if ($$.isTimeSeries()) {\n        x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\n    }\n    else if ($$.isCustomX() && !$$.isCategorized()) {\n        x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\n    }\n    else {\n        x = index;\n    }\n    return x;\n};\nconst cloneTarget = function (target) {\n    return {\n        id: target.id,\n        id_org: target.id_org,\n        values: target.values.map((d) => {\n            return { x: d.x, value: d.value, id: d.id };\n        }),\n    };\n};\nconst updateXs = function () {\n    const $$ = this;\n    if ($$.data.targets.length) {\n        $$.xs = [];\n        $$.data.targets[0].values.forEach((v) => {\n            $$.xs[v.index] = v.x;\n        });\n    }\n};\nconst getPrevX = function (i) {\n    const x = this.xs[i - 1];\n    return typeof x !== 'undefined' ? x : null;\n};\nconst getNextX = function (i) {\n    const x = this.xs[i + 1];\n    return typeof x !== 'undefined' ? x : null;\n};\nconst getMaxDataCount = function () {\n    const $$ = this;\n    return $$.d3.max($$.data.targets, (t) => { return t.values.length; });\n};\nconst getMaxDataCountTarget = function (targets) {\n    let length = targets.length, max = 0, maxTarget;\n    if (length > 1) {\n        targets.forEach((t) => {\n            if (t.values.length > max) {\n                maxTarget = t;\n                max = t.values.length;\n            }\n        });\n    } else {\n        maxTarget = length ? targets[0] : null;\n    }\n    return maxTarget;\n};\nconst getEdgeX = function (targets) {\n    const $$ = this;\n    return !targets.length ? [0, 0] : [\n        $$.d3.min(targets, (t) => { return t.values[0].x; }),\n        $$.d3.max(targets, (t) => { return t.values[t.values.length - 1].x; }),\n    ];\n};\nconst mapToIds = function (targets) {\n    return targets.map((d) => { return d.id; });\n};\nconst mapToTargetIds = function (ids) {\n    const $$ = this;\n    return ids ? [].concat(ids) : $$.mapToIds($$.data.targets);\n};\nconst hasTarget = function (targets, id) {\n    let ids = this.mapToIds(targets), i;\n    for (i = 0; i < ids.length; i++) {\n        if (ids[i] === id) {\n            return true;\n        }\n    }\n    return false;\n};\nconst isTargetToShow = function (targetId) {\n    return this.hiddenTargetIds.indexOf(targetId) < 0;\n};\nconst isLegendToShow = function (targetId) {\n    return this.hiddenLegendIds.indexOf(targetId) < 0;\n};\nconst filterTargetsToShow = function (targets) {\n    const $$ = this;\n    return targets.filter((t) => { return $$.isTargetToShow(t.id); });\n};\nconst mapTargetsToUniqueXs = function (targets) {\n    const $$ = this;\n    let xs = $$.d3.set($$.d3.merge(targets.map((t) => { return t.values.map((v) => { return +v.x; }); }))).values();\n    xs = $$.isTimeSeries() ? xs.map((x) => { return new Date(+x); }) : xs.map((x) => { return +x; });\n    return xs.sort((a, b) => { return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN; });\n};\nconst addHiddenTargetIds = function (targetIds) {\n    this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds);\n};\nconst removeHiddenTargetIds = function (targetIds) {\n    this.hiddenTargetIds = this.hiddenTargetIds.filter((id) => { return targetIds.indexOf(id) < 0; });\n};\nconst addHiddenLegendIds = function (targetIds) {\n    this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds);\n};\nconst removeHiddenLegendIds = function (targetIds) {\n    this.hiddenLegendIds = this.hiddenLegendIds.filter((id) => { return targetIds.indexOf(id) < 0; });\n};\nconst getValuesAsIdKeyed = function (targets) {\n    const ys = {};\n    targets.forEach((t) => {\n        ys[t.id] = [];\n        t.values.forEach((v) => {\n            ys[t.id].push(v.value);\n        });\n    });\n    return ys;\n};\nconst checkValueInTargets = function (targets, checker) {\n    let ids = Object.keys(targets), i, j, values;\n    for (i = 0; i < ids.length; i++) {\n        values = targets[ids[i]].values;\n        for (j = 0; j < values.length; j++) {\n            if (checker(values[j].value)) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\nconst hasNegativeValueInTargets = function (targets) {\n    return this.checkValueInTargets(targets, (v) => { return v < 0; });\n};\nconst hasPositiveValueInTargets = function (targets) {\n    return this.checkValueInTargets(targets, (v) => { return v > 0; });\n};\nconst isOrderDesc = function () {\n    const config = this.config;\n    return typeof (config.data_order) === 'string' && config.data_order.toLowerCase() === 'desc';\n};\nconst isOrderAsc = function () {\n    const config = this.config;\n    return typeof (config.data_order) === 'string' && config.data_order.toLowerCase() === 'asc';\n};\nconst orderTargets = function (targets) {\n    let $$ = this, config = $$.config, orderAsc = $$.isOrderAsc(), orderDesc = $$.isOrderDesc();\n    if (orderAsc || orderDesc) {\n        targets.sort((t1, t2) => {\n            const reducer = function (p, c) { return p + Math.abs(c.value); };\n            let t1Sum = t1.values.reduce(reducer, 0),\n                t2Sum = t2.values.reduce(reducer, 0);\n            return orderAsc ? t2Sum - t1Sum : t1Sum - t2Sum;\n        });\n    } else if (isFunction(config.data_order)) {\n        targets.sort(config.data_order);\n    } // TODO: accept name array for order\n    return targets;\n};\nconst filterByX = function (targets, x) {\n    return this.d3.merge(targets.map((t) => { return t.values; })).filter((v) => { return v.x - x === 0; });\n};\nconst filterRemoveNull = function (data) {\n    return data.filter((d) => { return isValue(d.value); });\n};\nconst filterByXDomain = function (targets, xDomain) {\n    return targets.map((t) => {\n        return {\n            id: t.id,\n            id_org: t.id_org,\n            values: t.values.filter((v) => {\n                return xDomain[0] <= v.x && v.x <= xDomain[1];\n            }),\n        };\n    });\n};\nconst hasDataLabel = function () {\n    const config = this.config;\n    if (typeof config.data_labels === 'boolean' && config.data_labels) {\n        return true;\n    } else if (typeof config.data_labels === 'object' && notEmpty(config.data_labels)) {\n        return true;\n    }\n    return false;\n};\nconst getDataLabelLength = function (min, max, key) {\n    let $$ = this,\n        lengths = [0, 0], paddingCoef = 1.3;\n    $$.selectChart.select('svg').selectAll('.dummy')\n        .data([min, max])\n        .enter().append('text')\n        .text((d) => { return $$.dataLabelFormat(d.id)(d); })\n        .each(function (d, i) {\n            lengths[i] = this.getBoundingClientRect()[key] * paddingCoef;\n        })\n        .remove();\n    return lengths;\n};\nconst isNoneArc = function (d) {\n    return this.hasTarget(this.data.targets, d.id);\n};\nconst isArc = function (d) {\n    return 'data' in d && this.hasTarget(this.data.targets, d.data.id);\n};\nconst findSameXOfValues = function (values, index) {\n    let i, targetX = values[index].x, sames = [];\n    for (i = index - 1; i >= 0; i--) {\n        if (targetX !== values[i].x) { break; }\n        sames.push(values[i]);\n    }\n    for (i = index; i < values.length; i++) {\n        if (targetX !== values[i].x) { break; }\n        sames.push(values[i]);\n    }\n    return sames;\n};\n\nconst findClosestFromTargets = function (targets, pos) {\n    let $$ = this, candidates;\n\n    // map to array of closest points of each target\n    candidates = targets.map((target) => {\n        return $$.findClosest(target.values, pos);\n    });\n\n    // decide closest point and return\n    return $$.findClosest(candidates, pos);\n};\nconst findClosest = function (values, pos) {\n    let $$ = this, minDist = $$.config.point_sensitivity, closest;\n\n    // find mouseovering bar\n    values.filter((v) => { return v && $$.isBarType(v.id); }).forEach((v) => {\n        const shape = $$.main.select('.' + CLASS.bars + $$.getTargetSelectorSuffix(v.id) + ' .' + CLASS.bar + '-' + v.index).node();\n        if (!closest && $$.isWithinBar(shape)) {\n            closest = v;\n        }\n    });\n\n    // find closest point from non-bar\n    values.filter((v) => { return v && !$$.isBarType(v.id); }).forEach((v) => {\n        const d = $$.dist(v, pos);\n        if (d < minDist) {\n            minDist = d;\n            closest = v;\n        }\n    });\n\n    return closest;\n};\nconst dist = function (data, pos) {\n    let $$ = this, config = $$.config,\n        xIndex = config.axis_rotated ? 1 : 0,\n        yIndex = config.axis_rotated ? 0 : 1,\n        y = $$.circleY(data, data.index),\n        x = $$.x(data.x);\n    return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2));\n};\nconst convertValuesToStep = function (values) {\n    let converted = [].concat(values), i;\n\n    if (!this.isCategorized()) {\n        return values;\n    }\n\n    for (i = values.length + 1; 0 < i; i--) {\n        converted[i] = converted[i - 1];\n    }\n\n    converted[0] = {\n        x: converted[0].x - 1,\n        value: converted[0].value,\n        id: converted[0].id,\n    };\n    converted[values.length + 1] = {\n        x: converted[values.length].x + 1,\n        value: converted[values.length].value,\n        id: converted[values.length].id,\n    };\n\n    return converted;\n};\nconst updateDataAttributes = function (name, attrs) {\n    let $$ = this, config = $$.config, current = config['data_' + name];\n    if (typeof attrs === 'undefined') { return current; }\n    Object.keys(attrs).forEach((id) => {\n        current[id] = attrs[id];\n    });\n    $$.redraw({ withLegend: true });\n    return current;\n};\n\nexport {\n    isX,\n    isNotX,\n    getXKey,\n    getXValuesOfXKey,\n    getIndexByX,\n    getXValue,\n    getOtherTargetXs,\n    getOtherTargetX,\n    addXs,\n    hasMultipleX,\n    isMultipleX,\n    addName,\n    getValueOnIndex,\n    updateTargetX,\n    updateTargetXs,\n    generateTargetX,\n    cloneTarget,\n    updateXs,\n    getPrevX,\n    getNextX,\n    getMaxDataCount,\n    getMaxDataCountTarget,\n    getEdgeX,\n    mapToIds,\n    mapToTargetIds,\n    hasTarget,\n    isTargetToShow,\n    isLegendToShow,\n    filterTargetsToShow,\n    mapTargetsToUniqueXs,\n    addHiddenTargetIds,\n    removeHiddenTargetIds,\n    addHiddenLegendIds,\n    removeHiddenLegendIds,\n    getValuesAsIdKeyed,\n    checkValueInTargets,\n    hasNegativeValueInTargets,\n    hasPositiveValueInTargets,\n    isOrderDesc,\n    isOrderAsc,\n    orderTargets,\n    filterByX,\n    filterRemoveNull,\n    filterByXDomain,\n    hasDataLabel,\n    getDataLabelLength,\n    isNoneArc,\n    isArc,\n    findSameXOfValues,\n    findClosestFromTargets,\n    findClosest,\n    dist,\n    convertValuesToStep,\n    updateDataAttributes,\n};\n","import { CLASS } from './class';\n\nconst load = function (targets, args) {\n    const $$ = this;\n    if (targets) {\n        // filter loading targets if needed\n        if (args.filter) {\n            targets = targets.filter(args.filter);\n        }\n        // set type if args.types || args.type specified\n        if (args.type || args.types) {\n            targets.forEach((t) => {\n                const type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\n                $$.setTargetType(t.id, type);\n            });\n        }\n        // Update/Add data\n        $$.data.targets.forEach((d) => {\n            for (let i = 0; i < targets.length; i++) {\n                if (d.id === targets[i].id) {\n                    d.values = targets[i].values;\n                    targets.splice(i, 1);\n                    break;\n                }\n            }\n        });\n        $$.data.targets = $$.data.targets.concat(targets); // add remained\n    }\n\n    // Set targets\n    $$.updateTargets($$.data.targets);\n\n    // Redraw with new targets\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n\n    if (args.done) { args.done(); }\n};\nconst loadFromArgs = function (args) {\n    const $$ = this;\n    if (args.data) {\n        $$.load($$.convertDataToTargets(args.data), args);\n    }\n    else if (args.url) {\n        $$.convertUrlToData(args.url, args.mimeType, args.headers, args.keys, (data) => {\n            $$.load($$.convertDataToTargets(data), args);\n        });\n    }\n    else if (args.json) {\n        $$.load($$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)), args);\n    }\n    else if (args.rows) {\n        $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\n    }\n    else if (args.columns) {\n        $$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)), args);\n    }\n    else {\n        $$.load(null, args);\n    }\n};\nconst unload = function (targetIds, done) {\n    const $$ = this;\n    if (!done) {\n        done = function () {};\n    }\n    // filter existing target\n    targetIds = targetIds.filter((id) => { return $$.hasTarget($$.data.targets, id); });\n    // If no target, call done and return\n    if (!targetIds || targetIds.length === 0) {\n        done();\n        return;\n    }\n    $$.svg.selectAll(targetIds.map((id) => { return $$.selectorTarget(id); }))\n        .transition()\n        .style('opacity', 0)\n        .remove()\n        .call($$.endall, done);\n    targetIds.forEach((id) => {\n        // Reset fadein for future load\n        $$.withoutFadeIn[id] = false;\n        // Remove target's elements\n        if ($$.legend) {\n            $$.legend.selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id)).remove();\n        }\n        // Remove target\n        $$.data.targets = $$.data.targets.filter((t) => {\n            return t.id !== id;\n        });\n    });\n};\n\nexport {\n    load,\n    loadFromArgs,\n    unload,\n};\n","import {\n    isValue,\n    diffDomain,\n    notEmpty,\n    isDefined,\n} from './util';\n\nconst getYDomainMin = function (targets) {\n    let $$ = this, config = $$.config,\n        ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets),\n        j, k, baseId, idsInGroup, id, hasNegativeValue;\n    if (config.data_groups.length > 0) {\n        hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n        for (j = 0; j < config.data_groups.length; j++) {\n            // Determine baseId\n            idsInGroup = config.data_groups[j].filter((id) => { return ids.indexOf(id) >= 0; });\n            if (idsInGroup.length === 0) { continue; }\n            baseId = idsInGroup[0];\n            // Consider negative values\n            if (hasNegativeValue && ys[baseId]) {\n                ys[baseId].forEach((v, i) => {\n                    ys[baseId][i] = v < 0 ? v : 0;\n                });\n            }\n            // Compute min\n            for (k = 1; k < idsInGroup.length; k++) {\n                id = idsInGroup[k];\n                if (!ys[id]) { continue; }\n                ys[id].forEach((v, i) => {\n                    if ($$.axis.getId(id) === $$.axis.getId(baseId) && ys[baseId] && !(hasNegativeValue && +v > 0)) {\n                        ys[baseId][i] += +v;\n                    }\n                });\n            }\n        }\n    }\n    return $$.d3.min(Object.keys(ys).map((key) => { return $$.d3.min(ys[key]); }));\n};\nconst getYDomainMax = function (targets) {\n    let $$ = this, config = $$.config,\n        ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets),\n        j, k, baseId, idsInGroup, id, hasPositiveValue;\n    if (config.data_groups.length > 0) {\n        hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n        for (j = 0; j < config.data_groups.length; j++) {\n            // Determine baseId\n            idsInGroup = config.data_groups[j].filter((id) => { return ids.indexOf(id) >= 0; });\n            if (idsInGroup.length === 0) { continue; }\n            baseId = idsInGroup[0];\n            // Consider positive values\n            if (hasPositiveValue && ys[baseId]) {\n                ys[baseId].forEach((v, i) => {\n                    ys[baseId][i] = v > 0 ? v : 0;\n                });\n            }\n            // Compute max\n            for (k = 1; k < idsInGroup.length; k++) {\n                id = idsInGroup[k];\n                if (!ys[id]) { continue; }\n                ys[id].forEach((v, i) => {\n                    if ($$.axis.getId(id) === $$.axis.getId(baseId) && ys[baseId] && !(hasPositiveValue && +v < 0)) {\n                        ys[baseId][i] += +v;\n                    }\n                });\n            }\n        }\n    }\n    return $$.d3.max(Object.keys(ys).map((key) => { return $$.d3.max(ys[key]); }));\n};\nconst getYDomain = function (targets, axisId, xDomain) {\n    let $$ = this, config = $$.config,\n        targetsByAxisId = targets.filter((t) => { return $$.axis.getId(t.id) === axisId; }),\n        yTargets = xDomain ? $$.filterByXDomain(targetsByAxisId, xDomain) : targetsByAxisId,\n        yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min,\n        yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max,\n        yDomainMin = $$.getYDomainMin(yTargets),\n        yDomainMax = $$.getYDomainMax(yTargets),\n        domain, domainLength, padding, padding_top, padding_bottom,\n        center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center,\n        yDomainAbs, lengths, diff, ratio, isAllPositive, isAllNegative,\n        isZeroBased = ($$.hasType('bar', yTargets) && config.bar_zerobased) || ($$.hasType('area', yTargets) && config.area_zerobased),\n        isInverted = axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted,\n        showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated,\n        showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\n\n    // MEMO: avoid inverting domain unexpectedly\n    yDomainMin = isValue(yMin) ? yMin : isValue(yMax) ? (yDomainMin < yMax ? yDomainMin : yMax - 10) : yDomainMin;\n    yDomainMax = isValue(yMax) ? yMax : isValue(yMin) ? (yMin < yDomainMax ? yDomainMax : yMin + 10) : yDomainMax;\n\n    if (yTargets.length === 0) { // use current domain if target of axisId is none\n        return axisId === 'y2' ? $$.y2.domain() : $$.y.domain();\n    }\n    if (isNaN(yDomainMin)) { // set minimum to zero when not number\n        yDomainMin = 0;\n    }\n    if (isNaN(yDomainMax)) { // set maximum to have same value as yDomainMin\n        yDomainMax = yDomainMin;\n    }\n    if (yDomainMin === yDomainMax) {\n        yDomainMin < 0 ? yDomainMax = 0 : yDomainMin = 0;\n    }\n    isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\n    isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\n\n    // Cancel zerobased if axis_*_min / axis_*_max specified\n    if ((isValue(yMin) && isAllPositive) || (isValue(yMax) && isAllNegative)) {\n        isZeroBased = false;\n    }\n\n    // Bar/Area chart should be 0-based if all positive|negative\n    if (isZeroBased) {\n        if (isAllPositive) { yDomainMin = 0; }\n        if (isAllNegative) { yDomainMax = 0; }\n    }\n\n    domainLength = Math.abs(yDomainMax - yDomainMin);\n    padding = padding_top = padding_bottom = domainLength * 0.1;\n\n    if (typeof center !== 'undefined') {\n        yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\n        yDomainMax = center + yDomainAbs;\n        yDomainMin = center - yDomainAbs;\n    }\n    // add padding for data label\n    if (showHorizontalDataLabel) {\n        lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\n        diff = diffDomain($$.y.range());\n        ratio = [lengths[0] / diff, lengths[1] / diff];\n        padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\n        padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\n    } else if (showVerticalDataLabel) {\n        lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\n        padding_top += $$.axis.convertPixelsToAxisPadding(lengths[1], domainLength);\n        padding_bottom += $$.axis.convertPixelsToAxisPadding(lengths[0], domainLength);\n    }\n    if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\n        padding_top = $$.axis.getPadding(config.axis_y_padding, 'top', padding_top, domainLength);\n        padding_bottom = $$.axis.getPadding(config.axis_y_padding, 'bottom', padding_bottom, domainLength);\n    }\n    if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\n        padding_top = $$.axis.getPadding(config.axis_y2_padding, 'top', padding_top, domainLength);\n        padding_bottom = $$.axis.getPadding(config.axis_y2_padding, 'bottom', padding_bottom, domainLength);\n    }\n    // Bar/Area chart should be 0-based if all positive|negative\n    if (isZeroBased) {\n        if (isAllPositive) { padding_bottom = yDomainMin; }\n        if (isAllNegative) { padding_top = -yDomainMax; }\n    }\n    domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\n    return isInverted ? domain.reverse() : domain;\n};\nconst getXDomainMin = function (targets) {\n    let $$ = this, config = $$.config;\n    return isDefined(config.axis_x_min) ?\n        ($$.isTimeSeries() ? this.parseDate(config.axis_x_min) : config.axis_x_min) :\n    $$.d3.min(targets, (t) => { return $$.d3.min(t.values, (v) => { return v.x; }); });\n};\nconst getXDomainMax = function (targets) {\n    let $$ = this, config = $$.config;\n    return isDefined(config.axis_x_max) ?\n        ($$.isTimeSeries() ? this.parseDate(config.axis_x_max) : config.axis_x_max) :\n    $$.d3.max(targets, (t) => { return $$.d3.max(t.values, (v) => { return v.x; }); });\n};\nconst getXDomainPadding = function (domain) {\n    let $$ = this, config = $$.config,\n        diff = domain[1] - domain[0],\n        maxDataCount, padding, paddingLeft, paddingRight;\n    if ($$.isCategorized()) {\n        padding = 0;\n    } else if ($$.hasType('bar')) {\n        maxDataCount = $$.getMaxDataCount();\n        padding = maxDataCount > 1 ? (diff / (maxDataCount - 1)) / 2 : 0.5;\n    } else {\n        padding = diff * 0.01;\n    }\n    if (typeof config.axis_x_padding === 'object' && notEmpty(config.axis_x_padding)) {\n        paddingLeft = isValue(config.axis_x_padding.left) ? config.axis_x_padding.left : padding;\n        paddingRight = isValue(config.axis_x_padding.right) ? config.axis_x_padding.right : padding;\n    } else if (typeof config.axis_x_padding === 'number') {\n        paddingLeft = paddingRight = config.axis_x_padding;\n    } else {\n        paddingLeft = paddingRight = padding;\n    }\n    return { left: paddingLeft, right: paddingRight };\n};\nconst getXDomain = function (targets) {\n    let $$ = this,\n        xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)],\n        firstX = xDomain[0], lastX = xDomain[1],\n        padding = $$.getXDomainPadding(xDomain),\n        min = 0, max = 0;\n    // show center of x domain if min and max are the same\n    if ((firstX - lastX) === 0 && !$$.isCategorized()) {\n        if ($$.isTimeSeries()) {\n            firstX = new Date(firstX.getTime() * 0.5);\n            lastX = new Date(lastX.getTime() * 1.5);\n        } else {\n            firstX = firstX === 0 ? 1 : (firstX * 0.5);\n            lastX = lastX === 0 ? -1 : (lastX * 1.5);\n        }\n    }\n    if (firstX || firstX === 0) {\n        min = $$.isTimeSeries() ? new Date(firstX.getTime() - padding.left) : firstX - padding.left;\n    }\n    if (lastX || lastX === 0) {\n        max = $$.isTimeSeries() ? new Date(lastX.getTime() + padding.right) : lastX + padding.right;\n    }\n    return [min, max];\n};\nconst updateXDomain = function (targets, withUpdateXDomain, withUpdateOrgXDomain, withTrim, domain) {\n    let $$ = this, config = $$.config;\n\n    if (withUpdateOrgXDomain) {\n        $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\n        $$.orgXDomain = $$.x.domain();\n        if (config.zoom_enabled) { $$.zoom.scale($$.x).updateScaleExtent(); }\n        $$.subX.domain($$.x.domain());\n        if ($$.brush) { $$.brush.scale($$.subX); }\n    }\n    if (withUpdateXDomain) {\n        $$.x.domain(domain ? domain : (!$$.brush || $$.brush.empty()) ? $$.orgXDomain : $$.brush.extent());\n        if (config.zoom_enabled) { $$.zoom.scale($$.x).updateScaleExtent(); }\n    }\n\n    // Trim domain when too big by zoom mousemove event\n    if (withTrim) { $$.x.domain($$.trimXDomain($$.x.orgDomain())); }\n\n    return $$.x.domain();\n};\nconst trimXDomain = function (domain) {\n    let zoomDomain = this.getZoomDomain(),\n        min = zoomDomain[0], max = zoomDomain[1];\n    if (domain[0] <= min) {\n        domain[1] = +domain[1] + (min - domain[0]);\n        domain[0] = min;\n    }\n    if (max <= domain[1]) {\n        domain[0] = +domain[0] - (domain[1] - max);\n        domain[1] = max;\n    }\n    return domain;\n};\n\nexport {\n    getYDomainMin,\n    getYDomainMax,\n    getYDomain,\n    getXDomainMin,\n    getXDomainMax,\n    getXDomainPadding,\n    getXDomain,\n    updateXDomain,\n    trimXDomain,\n};\n","import { CLASS } from './class';\nimport { getPathBox } from './util';\n\nconst drag = function (mouse) {\n    let $$ = this, config = $$.config, main = $$.main, d3 = $$.d3;\n    let sx, sy, mx, my, minX, maxX, minY, maxY;\n\n    if ($$.hasArcType()) { return; }\n    if (!config.data_selection_enabled) { return; } // do nothing if not selectable\n    if (config.zoom_enabled && !$$.zoom.altDomain) { return; } // skip if zoomable because of conflict drag dehavior\n    if (!config.data_selection_multiple) { return; } // skip when single selection because drag is used for multiple selection\n\n    sx = $$.dragStart[0];\n    sy = $$.dragStart[1];\n    mx = mouse[0];\n    my = mouse[1];\n    minX = Math.min(sx, mx);\n    maxX = Math.max(sx, mx);\n    minY = (config.data_selection_grouped) ? $$.margin.top : Math.min(sy, my);\n    maxY = (config.data_selection_grouped) ? $$.height : Math.max(sy, my);\n\n    main.select('.' + CLASS.dragarea)\n        .attr('x', minX)\n        .attr('y', minY)\n        .attr('width', maxX - minX)\n        .attr('height', maxY - minY);\n    // TODO: binary search when multiple xs\n    main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape)\n        .filter((d) => { return config.data_selection_isselectable(d); })\n        .each(function (d, i) {\n            let shape = d3.select(this),\n                isSelected = shape.classed(CLASS.SELECTED),\n                isIncluded = shape.classed(CLASS.INCLUDED),\n                _x, _y, _w, _h, toggle, isWithin = false, box;\n            if (shape.classed(CLASS.circle)) {\n                _x = shape.attr('cx') * 1;\n                _y = shape.attr('cy') * 1;\n                toggle = $$.togglePoint;\n                isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\n            }\n            else if (shape.classed(CLASS.bar)) {\n                box = getPathBox(this);\n                _x = box.x;\n                _y = box.y;\n                _w = box.width;\n                _h = box.height;\n                toggle = $$.togglePath;\n                isWithin = !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\n            } else {\n                // line/area selection not supported yet\n                return;\n            }\n            if (isWithin ^ isIncluded) {\n                shape.classed(CLASS.INCLUDED, !isIncluded);\n                // TODO: included/unincluded callback here\n                shape.classed(CLASS.SELECTED, !isSelected);\n                toggle.call($$, !isSelected, shape, d, i);\n            }\n        });\n};\n\nconst dragstart = function (mouse) {\n    let $$ = this, config = $$.config;\n    if ($$.hasArcType()) { return; }\n    if (!config.data_selection_enabled) { return; } // do nothing if not selectable\n    $$.dragStart = mouse;\n    $$.main.select('.' + CLASS.chart).append('rect')\n        .attr('class', CLASS.dragarea)\n        .style('opacity', 0.1);\n    $$.dragging = true;\n};\n\nconst dragend = function () {\n    let $$ = this, config = $$.config;\n    if ($$.hasArcType()) { return; }\n    if (!config.data_selection_enabled) { return; } // do nothing if not selectable\n    $$.main.select('.' + CLASS.dragarea)\n        .transition().duration(100)\n        .style('opacity', 0)\n        .remove();\n    $$.main.selectAll('.' + CLASS.shape)\n        .classed(CLASS.INCLUDED, false);\n    $$.dragging = false;\n};\n\nexport {\n    drag,\n    dragstart,\n    dragend,\n};\n","import {\n    diffDomain,\n} from './util';\n\nimport { CLASS } from './class';\n\nconst generateFlow = function (args) {\n    let $$ = this,\n        config = $$.config,\n        d3 = $$.d3;\n\n    return function () {\n        let targets = args.targets,\n            flow = args.flow,\n            drawBar = args.drawBar,\n            drawLine = args.drawLine,\n            drawArea = args.drawArea,\n            cx = args.cx,\n            cy = args.cy,\n            xv = args.xv,\n            xForText = args.xForText,\n            yForText = args.yForText,\n            duration = args.duration;\n\n        let translateX, scaleX = 1,\n            transform,\n            flowIndex = flow.index,\n            flowLength = flow.length,\n            flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex),\n            flowEnd = $$.getValueOnIndex($$.data.targets[0].values, flowIndex + flowLength),\n            orgDomain = $$.x.domain(),\n            domain,\n            durationForFlow = flow.duration || duration,\n            done = flow.done || function () {},\n            wait = $$.generateWait();\n\n        let xgrid = $$.xgrid || d3.selectAll([]),\n            xgridLines = $$.xgridLines || d3.selectAll([]),\n            mainRegion = $$.mainRegion || d3.selectAll([]),\n            mainText = $$.mainText || d3.selectAll([]),\n            mainBar = $$.mainBar || d3.selectAll([]),\n            mainLine = $$.mainLine || d3.selectAll([]),\n            mainArea = $$.mainArea || d3.selectAll([]),\n            mainCircle = $$.mainCircle || d3.selectAll([]);\n\n        // set flag\n        $$.flowing = true;\n\n        // remove head data after rendered\n        $$.data.targets.forEach((d) => {\n            d.values.splice(0, flowLength);\n        });\n\n        // update x domain to generate axis elements for flow\n        domain = $$.updateXDomain(targets, true, true);\n        // update elements related to x scale\n        if ($$.updateXGrid) { $$.updateXGrid(true); }\n\n        // generate transform to flow\n        if (!flow.orgDataCount) { // if empty\n            if ($$.data.targets[0].values.length !== 1) {\n                translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n            } else {\n                if ($$.isTimeSeries()) {\n                    flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\n                    flowEnd = $$.getValueOnIndex($$.data.targets[0].values, $$.data.targets[0].values.length - 1);\n                    translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n                } else {\n                    translateX = diffDomain(domain) / 2;\n                }\n            }\n        } else if (flow.orgDataCount === 1 || (flowStart && flowStart.x) === (flowEnd && flowEnd.x)) {\n            translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n        } else {\n            if ($$.isTimeSeries()) {\n                translateX = ($$.x(orgDomain[0]) - $$.x(domain[0]));\n            } else {\n                translateX = ($$.x(flowStart.x) - $$.x(flowEnd.x));\n            }\n        }\n        scaleX = (diffDomain(orgDomain) / diffDomain(domain));\n        transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\n\n        $$.hideXGridFocus();\n\n        d3.transition().ease('linear').duration(durationForFlow).each(() => {\n            wait.add($$.axes.x.transition().call($$.xAxis));\n            wait.add(mainBar.transition().attr('transform', transform));\n            wait.add(mainLine.transition().attr('transform', transform));\n            wait.add(mainArea.transition().attr('transform', transform));\n            wait.add(mainCircle.transition().attr('transform', transform));\n            wait.add(mainText.transition().attr('transform', transform));\n            wait.add(mainRegion.filter($$.isRegionOnX).transition().attr('transform', transform));\n            wait.add(xgrid.transition().attr('transform', transform));\n            wait.add(xgridLines.transition().attr('transform', transform));\n        })\n            .call(wait, () => {\n                let i, shapes = [],\n                    texts = [],\n                    eventRects = [];\n\n                // remove flowed elements\n                if (flowLength) {\n                    for (i = 0; i < flowLength; i++) {\n                        shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\n                        texts.push('.' + CLASS.text + '-' + (flowIndex + i));\n                        eventRects.push('.' + CLASS.eventRect + '-' + (flowIndex + i));\n                    }\n                    $$.svg.selectAll('.' + CLASS.shapes).selectAll(shapes).remove();\n                    $$.svg.selectAll('.' + CLASS.texts).selectAll(texts).remove();\n                    $$.svg.selectAll('.' + CLASS.eventRects).selectAll(eventRects).remove();\n                    $$.svg.select('.' + CLASS.xgrid).remove();\n                }\n\n                // draw again for removing flowed elements and reverting attr\n                xgrid\n                    .attr('transform', null)\n                    .attr($$.xgridAttr);\n                xgridLines\n                    .attr('transform', null);\n                xgridLines.select('line')\n                    .attr('x1', config.axis_rotated ? 0 : xv)\n                    .attr('x2', config.axis_rotated ? $$.width : xv);\n                xgridLines.select('text')\n                    .attr('x', config.axis_rotated ? $$.width : 0)\n                    .attr('y', xv);\n                mainBar\n                    .attr('transform', null)\n                    .attr('d', drawBar);\n                mainLine\n                    .attr('transform', null)\n                    .attr('d', drawLine);\n                mainArea\n                    .attr('transform', null)\n                    .attr('d', drawArea);\n                mainCircle\n                    .attr('transform', null)\n                    .attr('cx', cx)\n                    .attr('cy', cy);\n                mainText\n                    .attr('transform', null)\n                    .attr('x', xForText)\n                    .attr('y', yForText)\n                    .style('fill-opacity', $$.opacityForText.bind($$));\n                mainRegion\n                    .attr('transform', null);\n                mainRegion.select('rect').filter($$.isRegionOnX)\n                    .attr('x', $$.regionX.bind($$))\n                    .attr('width', $$.regionWidth.bind($$));\n\n                if (config.interaction_enabled) {\n                    $$.redrawEventRect();\n                }\n\n                // callback for end of flow\n                done();\n\n                $$.flowing = false;\n            });\n    };\n};\n\nexport { generateFlow };\n","import { isValue } from './util';\n\nconst getYFormat = function (forArc) {\n    let $$ = this,\n        formatForY = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat,\n        formatForY2 = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\n    return function (v, ratio, id) {\n        const format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\n        return format.call($$, v, ratio);\n    };\n};\nconst yFormat = function (v) {\n    let $$ = this, config = $$.config,\n        format = config.axis_y_tick_format ? config.axis_y_tick_format : $$.defaultValueFormat;\n    return format(v);\n};\nconst y2Format = function (v) {\n    let $$ = this, config = $$.config,\n        format = config.axis_y2_tick_format ? config.axis_y2_tick_format : $$.defaultValueFormat;\n    return format(v);\n};\nconst defaultValueFormat = function (v) {\n    return isValue(v) ? +v : '';\n};\nconst defaultArcValueFormat = function (v, ratio) {\n    return (ratio * 100).toFixed(1) + '%';\n};\nconst dataLabelFormat = function (targetId) {\n    let $$ = this, data_labels = $$.config.data_labels,\n        format, defaultFormat = function (v) { return isValue(v) ? +v : ''; };\n    // find format according to axis id\n    if (typeof data_labels.format === 'function') {\n        format = data_labels.format;\n    } else if (typeof data_labels.format === 'object') {\n        if (data_labels.format[targetId]) {\n            format = data_labels.format[targetId] === true ? defaultFormat : data_labels.format[targetId];\n        } else {\n            format = function () { return ''; };\n        }\n    } else {\n        format = defaultFormat;\n    }\n    return format;\n};\n\nexport {\n    getYFormat,\n    yFormat,\n    y2Format,\n    defaultValueFormat,\n    defaultArcValueFormat,\n    dataLabelFormat,\n};\n","import { CLASS } from './class';\nimport { isValue } from './util';\n\nconst initGrid = function () {\n    let $$ = this, config = $$.config, d3 = $$.d3;\n    $$.grid = $$.main.append('g')\n        .attr('clip-path', $$.clipPathForGrid)\n        .attr('class', CLASS.grid);\n    if (config.grid_x_show) {\n        $$.grid.append('g').attr('class', CLASS.xgrids);\n    }\n    if (config.grid_y_show) {\n        $$.grid.append('g').attr('class', CLASS.ygrids);\n    }\n    if (config.grid_focus_show) {\n        $$.grid.append('g')\n            .attr('class', CLASS.xgridFocus)\n            .append('line')\n            .attr('class', CLASS.xgridFocus);\n    }\n    $$.xgrid = d3.selectAll([]);\n    if (!config.grid_lines_front) { $$.initGridLines(); }\n};\nconst initGridLines = function () {\n    let $$ = this, d3 = $$.d3;\n    $$.gridLines = $$.main.append('g')\n        .attr('clip-path', $$.clipPathForGrid)\n        .attr('class', CLASS.grid + ' ' + CLASS.gridLines);\n    $$.gridLines.append('g').attr('class', CLASS.xgridLines);\n    $$.gridLines.append('g').attr('class', CLASS.ygridLines);\n    $$.xgridLines = d3.selectAll([]);\n};\nconst updateXGrid = function (withoutUpdate) {\n    let $$ = this, config = $$.config, d3 = $$.d3,\n        xgridData = $$.generateGridData(config.grid_x_type, $$.x),\n        tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\n\n    $$.xgridAttr = config.axis_rotated ? {\n        'x1': 0,\n        'x2': $$.width,\n        'y1': function (d) { return $$.x(d) - tickOffset; },\n        'y2': function (d) { return $$.x(d) - tickOffset; },\n    } : {\n        'x1': function (d) { return $$.x(d) + tickOffset; },\n        'x2': function (d) { return $$.x(d) + tickOffset; },\n        'y1': 0,\n        'y2': $$.height,\n    };\n\n    $$.xgrid = $$.main.select('.' + CLASS.xgrids).selectAll('.' + CLASS.xgrid)\n        .data(xgridData);\n    $$.xgrid.enter().append('line').attr('class', CLASS.xgrid);\n    if (!withoutUpdate) {\n        $$.xgrid.attr($$.xgridAttr)\n            .style('opacity', function () { return +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1') === (config.axis_rotated ? $$.height : 0) ? 0 : 1; });\n    }\n    $$.xgrid.exit().remove();\n};\n\nconst updateYGrid = function () {\n    let $$ = this, config = $$.config,\n        gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\n    $$.ygrid = $$.main.select('.' + CLASS.ygrids).selectAll('.' + CLASS.ygrid)\n        .data(gridValues);\n    $$.ygrid.enter().append('line')\n        .attr('class', CLASS.ygrid);\n    $$.ygrid.attr('x1', config.axis_rotated ? $$.y : 0)\n        .attr('x2', config.axis_rotated ? $$.y : $$.width)\n        .attr('y1', config.axis_rotated ? 0 : $$.y)\n        .attr('y2', config.axis_rotated ? $$.height : $$.y);\n    $$.ygrid.exit().remove();\n    $$.smoothLines($$.ygrid, 'grid');\n};\n\nconst gridTextAnchor = function (d) {\n    return d.position ? d.position : 'end';\n};\nconst gridTextDx = function (d) {\n    return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4;\n};\nconst xGridTextX = function (d) {\n    return d.position === 'start' ? -this.height : d.position === 'middle' ? -this.height / 2 : 0;\n};\nconst yGridTextX = function (d) {\n    return d.position === 'start' ? 0 : d.position === 'middle' ? this.width / 2 : this.width;\n};\nconst updateGrid = function (duration) {\n    let $$ = this, main = $$.main, config = $$.config,\n        xgridLine, ygridLine, yv;\n\n    // hide if arc type\n    $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\n    main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\n    if (config.grid_x_show) {\n        $$.updateXGrid();\n    }\n    $$.xgridLines = main.select('.' + CLASS.xgridLines).selectAll('.' + CLASS.xgridLine)\n        .data(config.grid_x_lines);\n    // enter\n    xgridLine = $$.xgridLines.enter().append('g')\n        .attr('class', (d) => { return CLASS.xgridLine + (d.class ? ' ' + d.class : ''); });\n    xgridLine.append('line')\n        .style('opacity', 0);\n    xgridLine.append('text')\n        .attr('text-anchor', $$.gridTextAnchor)\n        .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\n        .attr('dx', $$.gridTextDx)\n        .attr('dy', -5)\n        .style('opacity', 0);\n    // udpate\n    // done in d3.transition() of the end of this function\n    // exit\n    $$.xgridLines.exit().transition().duration(duration)\n        .style('opacity', 0)\n        .remove();\n\n    // Y-Grid\n    if (config.grid_y_show) {\n        $$.updateYGrid();\n    }\n    $$.ygridLines = main.select('.' + CLASS.ygridLines).selectAll('.' + CLASS.ygridLine)\n        .data(config.grid_y_lines);\n    // enter\n    ygridLine = $$.ygridLines.enter().append('g')\n        .attr('class', (d) => { return CLASS.ygridLine + (d.class ? ' ' + d.class : ''); });\n    ygridLine.append('line')\n        .style('opacity', 0);\n    ygridLine.append('text')\n        .attr('text-anchor', $$.gridTextAnchor)\n        .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\n        .attr('dx', $$.gridTextDx)\n        .attr('dy', -5)\n        .style('opacity', 0);\n    // update\n    yv = $$.yv.bind($$);\n    $$.ygridLines.select('line')\n      .transition().duration(duration)\n        .attr('x1', config.axis_rotated ? yv : 0)\n        .attr('x2', config.axis_rotated ? yv : $$.width)\n        .attr('y1', config.axis_rotated ? 0 : yv)\n        .attr('y2', config.axis_rotated ? $$.height : yv)\n        .style('opacity', 1);\n    $$.ygridLines.select('text')\n      .transition().duration(duration)\n        .attr('x', config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$))\n        .attr('y', yv)\n        .text((d) => { return d.text; })\n        .style('opacity', 1);\n    // exit\n    $$.ygridLines.exit().transition().duration(duration)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawGrid = function (withTransition) {\n    let $$ = this, config = $$.config, xv = $$.xv.bind($$),\n        lines = $$.xgridLines.select('line'),\n        texts = $$.xgridLines.select('text');\n    return [\n        (withTransition ? lines.transition() : lines)\n            .attr('x1', config.axis_rotated ? 0 : xv)\n            .attr('x2', config.axis_rotated ? $$.width : xv)\n            .attr('y1', config.axis_rotated ? xv : 0)\n            .attr('y2', config.axis_rotated ? xv : $$.height)\n            .style('opacity', 1),\n        (withTransition ? texts.transition() : texts)\n            .attr('x', config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$))\n            .attr('y', xv)\n            .text((d) => { return d.text; })\n            .style('opacity', 1),\n    ];\n};\nconst showXGridFocus = function (selectedData) {\n    let $$ = this, config = $$.config,\n        dataToShow = selectedData.filter((d) => { return d && isValue(d.value); }),\n        focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus),\n        xx = $$.xx.bind($$);\n    if (!config.tooltip_show) { return; }\n    // Hide when scatter plot exists\n    if ($$.hasType('scatter') || $$.hasArcType()) { return; }\n    focusEl\n        .style('visibility', 'visible')\n        .data([dataToShow[0]])\n        .attr(config.axis_rotated ? 'y1' : 'x1', xx)\n        .attr(config.axis_rotated ? 'y2' : 'x2', xx);\n    $$.smoothLines(focusEl, 'grid');\n};\nconst hideXGridFocus = function () {\n    this.main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\n};\nconst updateXgridFocus = function () {\n    let $$ = this, config = $$.config;\n    $$.main.select('line.' + CLASS.xgridFocus)\n        .attr('x1', config.axis_rotated ? 0 : -10)\n        .attr('x2', config.axis_rotated ? $$.width : -10)\n        .attr('y1', config.axis_rotated ? -10 : 0)\n        .attr('y2', config.axis_rotated ? -10 : $$.height);\n};\nconst generateGridData = function (type, scale) {\n    let $$ = this,\n        gridData = [], xDomain, firstYear, lastYear, i,\n        tickNum = $$.main.select('.' + CLASS.axisX).selectAll('.tick').size();\n    if (type === 'year') {\n        xDomain = $$.getXDomain();\n        firstYear = xDomain[0].getFullYear();\n        lastYear = xDomain[1].getFullYear();\n        for (i = firstYear; i <= lastYear; i++) {\n            gridData.push(new Date(i + '-01-01 00:00:00'));\n        }\n    } else {\n        gridData = scale.ticks(10);\n        if (gridData.length > tickNum) { // use only int\n            gridData = gridData.filter((d) => { return ('' + d).indexOf('.') < 0; });\n        }\n    }\n    return gridData;\n};\nconst getGridFilterToRemove = function (params) {\n    return params ? function (line) {\n        let found = false;\n        [].concat(params).forEach((param) => {\n            if ((('value' in param && line.value === param.value) || ('class' in param && line.class === param.class))) {\n                found = true;\n            }\n        });\n        return found;\n    } : function () { return true; };\n};\nconst removeGridLines = function (params, forX) {\n    let $$ = this, config = $$.config,\n        toRemove = $$.getGridFilterToRemove(params),\n        toShow = function (line) { return !toRemove(line); },\n        classLines = forX ? CLASS.xgridLines : CLASS.ygridLines,\n        classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\n    $$.main.select('.' + classLines).selectAll('.' + classLine).filter(toRemove)\n        .transition().duration(config.transition_duration)\n        .style('opacity', 0).remove();\n    if (forX) {\n        config.grid_x_lines = config.grid_x_lines.filter(toShow);\n    } else {\n        config.grid_y_lines = config.grid_y_lines.filter(toShow);\n    }\n};\n\nexport {\n    initGrid,\n    initGridLines,\n    updateXGrid,\n    updateYGrid,\n    gridTextAnchor,\n    gridTextDx,\n    xGridTextX,\n    yGridTextX,\n    updateGrid,\n    redrawGrid,\n    showXGridFocus,\n    hideXGridFocus,\n    updateXgridFocus,\n    generateGridData,\n    getGridFilterToRemove,\n    removeGridLines,\n};\n","import { CLASS } from './class';\n\nconst initEventRect = function () {\n    const $$ = this;\n    $$.main.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.eventRects)\n        .style('fill-opacity', 0);\n};\nconst redrawEventRect = function () {\n    let $$ = this, config = $$.config,\n        eventRectUpdate, maxDataCountTarget,\n        isMultipleX = $$.isMultipleX();\n\n    // rects for mouseover\n    const eventRects = $$.main.select('.' + CLASS.eventRects)\n            .style('cursor', config.zoom_enabled ? config.axis_rotated ? 'ns-resize' : 'ew-resize' : null)\n            .classed(CLASS.eventRectsMultiple, isMultipleX)\n            .classed(CLASS.eventRectsSingle, !isMultipleX);\n\n    // clear old rects\n    eventRects.selectAll('.' + CLASS.eventRect).remove();\n\n    // open as public variable\n    $$.eventRect = eventRects.selectAll('.' + CLASS.eventRect);\n\n    if (isMultipleX) {\n        eventRectUpdate = $$.eventRect.data([0]);\n        // enter : only one rect will be added\n        $$.generateEventRectsForMultipleXs(eventRectUpdate.enter());\n        // update\n        $$.updateEventRect(eventRectUpdate);\n        // exit : not needed because always only one rect exists\n    }\n    else {\n        // Set data and update $$.eventRect\n        maxDataCountTarget = $$.getMaxDataCountTarget($$.data.targets);\n        eventRects.datum(maxDataCountTarget ? maxDataCountTarget.values : []);\n        $$.eventRect = eventRects.selectAll('.' + CLASS.eventRect);\n        eventRectUpdate = $$.eventRect.data((d) => { return d; });\n        // enter\n        $$.generateEventRectsForSingleX(eventRectUpdate.enter());\n        // update\n        $$.updateEventRect(eventRectUpdate);\n        // exit\n        eventRectUpdate.exit().remove();\n    }\n};\nconst updateEventRect = function (eventRectUpdate) {\n    let $$ = this, config = $$.config,\n        x, y, w, h, rectW, rectX;\n\n    // set update selection if null\n    eventRectUpdate = eventRectUpdate || $$.eventRect.data((d) => { return d; });\n\n    if ($$.isMultipleX()) {\n        // TODO: rotated not supported yet\n        x = 0;\n        y = 0;\n        w = $$.width;\n        h = $$.height;\n    }\n    else {\n        if (($$.isCustomX() || $$.isTimeSeries()) && !$$.isCategorized()) {\n            // update index for x that is used by prevX and nextX\n            $$.updateXs();\n\n            rectW = function (d) {\n                let prevX = $$.getPrevX(d.index), nextX = $$.getNextX(d.index);\n\n                // if there this is a single data point make the eventRect full width (or height)\n                if (prevX === null && nextX === null) {\n                    return config.axis_rotated ? $$.height : $$.width;\n                }\n\n                if (prevX === null) { prevX = $$.x.domain()[0]; }\n                if (nextX === null) { nextX = $$.x.domain()[1]; }\n\n                return Math.max(0, ($$.x(nextX) - $$.x(prevX)) / 2);\n            };\n            rectX = function (d) {\n                let prevX = $$.getPrevX(d.index), nextX = $$.getNextX(d.index),\n                    thisX = $$.data.xs[d.id][d.index];\n\n                // if there this is a single data point position the eventRect at 0\n                if (prevX === null && nextX === null) {\n                    return 0;\n                }\n\n                if (prevX === null) { prevX = $$.x.domain()[0]; }\n\n                return ($$.x(thisX) + $$.x(prevX)) / 2;\n            };\n        } else {\n            rectW = $$.getEventRectWidth();\n            rectX = function (d) {\n                return $$.x(d.x) - (rectW / 2);\n            };\n        }\n        x = config.axis_rotated ? 0 : rectX;\n        y = config.axis_rotated ? rectX : 0;\n        w = config.axis_rotated ? $$.width : rectW;\n        h = config.axis_rotated ? rectW : $$.height;\n    }\n\n    eventRectUpdate\n        .attr('class', $$.classEvent.bind($$))\n        .attr('x', x)\n        .attr('y', y)\n        .attr('width', w)\n        .attr('height', h);\n};\nconst generateEventRectsForSingleX = function (eventRectEnter) {\n    let $$ = this, d3 = $$.d3, config = $$.config,\n        tap = false, tapX;\n\n    function click(shape, d) {\n        let index = d.index;\n        if ($$.hasArcType() || !$$.toggleShape) { return; }\n        if ($$.cancelClick) {\n            $$.cancelClick = false;\n            return;\n        }\n        if ($$.isStepType(d) && config.line_step_type === 'step-after' && d3.mouse(shape)[0] < $$.x($$.getXValue(d.id, index))) {\n            index -= 1;\n        }\n        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n            if (config.data_selection_grouped || $$.isWithinShape(this, d)) {\n                $$.toggleShape(this, d, index);\n                $$.config.data_onclick.call($$.api, d, this);\n            }\n        });\n    }\n\n    eventRectEnter.append('rect')\n        .attr('class', $$.classEvent.bind($$))\n        .style('cursor', config.data_selection_enabled && config.data_selection_grouped ? 'pointer' : null)\n        .on('mouseover', (d) => {\n            const index = d.index;\n\n            if ($$.dragging || $$.flowing) { return; } // do nothing while dragging/flowing\n            if ($$.hasArcType()) { return; }\n\n            // Expand shapes for selection\n            if (config.point_focus_expand_enabled) { $$.expandCircles(index, null, true); }\n            $$.expandBars(index, null, true);\n\n            // Call event handler\n            $$.main.selectAll('.' + CLASS.shape + '-' + index).each((d) => {\n                config.data_onmouseover.call($$.api, d);\n            });\n        })\n        .on('mouseout', (d) => {\n            const index = d.index;\n            if (!$$.config) { return; } // chart is destroyed\n            if ($$.hasArcType()) { return; }\n            $$.hideXGridFocus();\n            $$.hideTooltip();\n            // Undo expanded shapes\n            $$.unexpandCircles();\n            $$.unexpandBars();\n            // Call event handler\n            $$.main.selectAll('.' + CLASS.shape + '-' + index).each((d) => {\n                config.data_onmouseout.call($$.api, d);\n            });\n        })\n        .on('mousemove', function (d) {\n            let selectedData, index = d.index,\n                eventRect = $$.svg.select('.' + CLASS.eventRect + '-' + index);\n\n            if ($$.dragging || $$.flowing) { return; } // do nothing while dragging/flowing\n            if ($$.hasArcType()) { return; }\n\n            if ($$.isStepType(d) && $$.config.line_step_type === 'step-after' && d3.mouse(this)[0] < $$.x($$.getXValue(d.id, index))) {\n                index -= 1;\n            }\n\n            // Show tooltip\n            selectedData = $$.filterTargetsToShow($$.data.targets).map((t) => {\n                return $$.addName($$.getValueOnIndex(t.values, index));\n            });\n\n            if (config.tooltip_grouped) {\n                $$.showTooltip(selectedData, this);\n                $$.showXGridFocus(selectedData);\n            }\n\n            if (config.tooltip_grouped && (!config.data_selection_enabled || config.data_selection_grouped)) {\n                return;\n            }\n\n            $$.main.selectAll('.' + CLASS.shape + '-' + index)\n                .each(function () {\n                    d3.select(this).classed(CLASS.EXPANDED, true);\n                    if (config.data_selection_enabled) {\n                        eventRect.style('cursor', config.data_selection_grouped ? 'pointer' : null);\n                    }\n                    if (!config.tooltip_grouped) {\n                        $$.hideXGridFocus();\n                        $$.hideTooltip();\n                        if (!config.data_selection_grouped) {\n                            $$.unexpandCircles(index);\n                            $$.unexpandBars(index);\n                        }\n                    }\n                })\n                .filter(function (d) {\n                    return $$.isWithinShape(this, d);\n                })\n                .each(function (d) {\n                    if (config.data_selection_enabled && (config.data_selection_grouped || config.data_selection_isselectable(d))) {\n                        eventRect.style('cursor', 'pointer');\n                    }\n                    if (!config.tooltip_grouped) {\n                        $$.showTooltip([d], this);\n                        $$.showXGridFocus([d]);\n                        if (config.point_focus_expand_enabled) { $$.expandCircles(index, d.id, true); }\n                        $$.expandBars(index, d.id, true);\n                    }\n                });\n        })\n        .on('click', function (d) {\n            // click event was simulated via a 'tap' touch event, cancel regular click\n            if (tap) {\n                return;\n            }\n\n            click(this, d);\n        })\n        .on('touchstart', (d) => {\n            // store current X selection for comparison during touch end event\n            tapX = d.x;\n        })\n        .on('touchend', function (d) {\n            const finalX = d.x;\n\n            // If end is not the same as the start, event doesn't count as a tap\n            if (tapX !== finalX) {\n                return;\n            }\n\n\n            click(this, d);\n\n            // indictate tap event fired to prevent click;\n            tap = true;\n            setTimeout(() => { tap = false; }, config.touch_tap_delay);\n        })\n\n        .call(\n            config.data_selection_draggable && $$.drag ? (\n                d3.behavior.drag().origin(Object)\n                    .on('drag', function () { $$.drag(d3.mouse(this)); })\n                    .on('dragstart', function () { $$.dragstart(d3.mouse(this)); })\n                    .on('dragend', () => { $$.dragend(); })\n            ) : () => {}\n        );\n};\n\nconst generateEventRectsForMultipleXs = function (eventRectEnter) {\n    let $$ = this, d3 = $$.d3, config = $$.config,\n        tap = false, tapX, tapY;\n\n    function mouseout() {\n        $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\n        $$.hideXGridFocus();\n        $$.hideTooltip();\n        $$.unexpandCircles();\n        $$.unexpandBars();\n    }\n\n    function click(shape) {\n        const targetsToShow = $$.filterTargetsToShow($$.data.targets);\n        let mouse, closest;\n        if ($$.hasArcType(targetsToShow)) { return; }\n\n        mouse = d3.mouse(shape);\n        closest = $$.findClosestFromTargets(targetsToShow, mouse);\n        if (!closest) { return; }\n        // select if selection enabled\n        if ($$.isBarType(closest.id) || $$.dist(closest, mouse) < config.point_sensitivity) {\n            $$.main.selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id)).selectAll('.' + CLASS.shape + '-' + closest.index).each(function () {\n                if (config.data_selection_grouped || $$.isWithinShape(this, closest)) {\n                    $$.toggleShape(this, closest, closest.index);\n                    $$.config.data_onclick.call($$.api, closest, this);\n                }\n            });\n        }\n    }\n\n    eventRectEnter.append('rect')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', $$.width)\n        .attr('height', $$.height)\n        .attr('class', CLASS.eventRect)\n        .on('mouseout', () => {\n            if (!$$.config) { return; } // chart is destroyed\n            if ($$.hasArcType()) { return; }\n            mouseout();\n        })\n        .on('mousemove', function () {\n            const targetsToShow = $$.filterTargetsToShow($$.data.targets);\n            let mouse, closest, sameXData, selectedData;\n\n            if ($$.dragging) { return; } // do nothing when dragging\n            if ($$.hasArcType(targetsToShow)) { return; }\n\n            mouse = d3.mouse(this);\n            closest = $$.findClosestFromTargets(targetsToShow, mouse);\n\n            if ($$.mouseover && (!closest || closest.id !== $$.mouseover.id)) {\n                config.data_onmouseout.call($$.api, $$.mouseover);\n                $$.mouseover = undefined;\n            }\n\n            if (!closest) {\n                mouseout();\n                return;\n            }\n\n            if ($$.isScatterType(closest) || !config.tooltip_grouped) {\n                sameXData = [closest];\n            } else {\n                sameXData = $$.filterByX(targetsToShow, closest.x);\n            }\n\n            // show tooltip when cursor is close to some point\n            selectedData = sameXData.map((d) => {\n                return $$.addName(d);\n            });\n            $$.showTooltip(selectedData, this);\n\n            // expand points\n            if (config.point_focus_expand_enabled) {\n                $$.expandCircles(closest.index, closest.id, true);\n            }\n            $$.expandBars(closest.index, closest.id, true);\n\n            // Show xgrid focus line\n            $$.showXGridFocus(selectedData);\n\n            // Show cursor as pointer if point is close to mouse position\n            if ($$.isBarType(closest.id) || $$.dist(closest, mouse) < config.point_sensitivity) {\n                $$.svg.select('.' + CLASS.eventRect).style('cursor', 'pointer');\n                if (!$$.mouseover) {\n                    config.data_onmouseover.call($$.api, closest);\n                    $$.mouseover = closest;\n                }\n            }\n        })\n        .on('click', function () {\n            // click event was simulated via a 'tap' touch event, cancel regular click\n            if (tap) {\n                return;\n            }\n\n            click(this);\n        })\n        .on('touchstart', function () {\n            const mouse = d3.mouse(this);\n            // store starting coordinates for distance comparision during touch end event\n            tapX = mouse[0];\n            tapY = mouse[1];\n        })\n        .on('touchend', function () {\n            let mouse = d3.mouse(this),\n                x = mouse[0],\n                y = mouse[1];\n\n            // If end is too far from start, event doesn't count as a tap\n            if (Math.abs(x - tapX) > config.touch_tap_radius || Math.abs(y - tapY) > config.touch_tap_radius) {\n                return;\n            }\n\n            click(this);\n\n            // indictate tap event fired to prevent click;\n            tap = true;\n            setTimeout(() => { tap = false; }, config.touch_tap_delay);\n        })\n        .call(\n            config.data_selection_draggable && $$.drag ? (\n                d3.behavior.drag().origin(Object)\n                    .on('drag', function () { $$.drag(d3.mouse(this)); })\n                    .on('dragstart', function () { $$.dragstart(d3.mouse(this)); })\n                    .on('dragend', () => { $$.dragend(); })\n            ) : () => {}\n        );\n};\nconst dispatchEvent = function (type, index, mouse) {\n    let $$ = this,\n        selector = '.' + CLASS.eventRect + (!$$.isMultipleX() ? '-' + index : ''),\n        eventRect = $$.main.select(selector).node(),\n        box = eventRect.getBoundingClientRect(),\n        x = box.left + (mouse ? mouse[0] : 0),\n        y = box.top + (mouse ? mouse[1] : 0),\n        event = document.createEvent('MouseEvents');\n\n    event.initMouseEvent(type, true, true, window, 0, x, y, x, y,\n                         false, false, false, false, 0, null);\n    eventRect.dispatchEvent(event);\n};\n\nexport {\n    initEventRect,\n    redrawEventRect,\n    updateEventRect,\n    generateEventRectsForSingleX,\n    generateEventRectsForMultipleXs,\n    dispatchEvent,\n};\n","import { CLASS } from './class';\nimport {\n    isEmpty,\n    isDefined,\n    getOption,\n} from './util';\n\nconst initLegend = function () {\n    const $$ = this;\n    $$.legendItemTextBox = {};\n    $$.legendHasRendered = false;\n    $$.legend = $$.svg.append('g').attr('transform', $$.getTranslate('legend'));\n    if (!$$.config.legend_show) {\n        $$.legend.style('visibility', 'hidden');\n        $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\n        return;\n    }\n    // MEMO: call here to update legend box and tranlate for all\n    // MEMO: translate will be upated by this, so transform not needed in updateLegend()\n    $$.updateLegendWithDefaults();\n};\nconst updateLegendWithDefaults = function () {\n    const $$ = this;\n    $$.updateLegend($$.mapToIds($$.data.targets), { withTransform: false, withTransitionForTransform: false, withTransition: false });\n};\nconst updateSizeForLegend = function (legendHeight, legendWidth) {\n    let $$ = this, config = $$.config, insetLegendPosition = {\n            top: $$.isLegendTop ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5 : $$.currentHeight - legendHeight - $$.getCurrentPaddingBottom() - config.legend_inset_y,\n            left: $$.isLegendLeft ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5 : $$.currentWidth - legendWidth - $$.getCurrentPaddingRight() - config.legend_inset_x + 0.5,\n        };\n\n    $$.margin3 = {\n        top: $$.isLegendRight ? 0 : $$.isLegendInset ? insetLegendPosition.top : $$.currentHeight - legendHeight,\n        right: NaN,\n        bottom: 0,\n        left: $$.isLegendRight ? $$.currentWidth - legendWidth : $$.isLegendInset ? insetLegendPosition.left : 0,\n    };\n};\nconst transformLegend = function (withTransition) {\n    const $$ = this;\n    (withTransition ? $$.legend.transition() : $$.legend).attr('transform', $$.getTranslate('legend'));\n};\nconst updateLegendStep = function (step) {\n    this.legendStep = step;\n};\nconst updateLegendItemWidth = function (w) {\n    this.legendItemWidth = w;\n};\nconst updateLegendItemHeight = function (h) {\n    this.legendItemHeight = h;\n};\nconst getLegendWidth = function () {\n    const $$ = this;\n    return $$.config.legend_show ? $$.isLegendRight || $$.isLegendInset ? $$.legendItemWidth * ($$.legendStep + 1) : $$.currentWidth : 0;\n};\nconst getLegendHeight = function () {\n    let $$ = this, h = 0;\n    if ($$.config.legend_show) {\n        if ($$.isLegendRight) {\n            h = $$.currentHeight;\n        } else {\n            h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\n        }\n    }\n    return h;\n};\nconst opacityForLegend = function (legendItem) {\n    return legendItem.classed(CLASS.legendItemHidden) ? null : 1;\n};\nconst opacityForUnfocusedLegend = function (legendItem) {\n    return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3;\n};\nconst toggleFocusLegend = function (targetIds, focus) {\n    const $$ = this;\n    targetIds = $$.mapToTargetIds(targetIds);\n    $$.legend.selectAll('.' + CLASS.legendItem)\n        .filter((id) => { return targetIds.indexOf(id) >= 0; })\n        .classed(CLASS.legendItemFocused, focus)\n      .transition().duration(100)\n        .style('opacity', function () {\n            const opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\n            return opacity.call($$, $$.d3.select(this));\n        });\n};\nconst revertLegend = function () {\n    let $$ = this, d3 = $$.d3;\n    $$.legend.selectAll('.' + CLASS.legendItem)\n        .classed(CLASS.legendItemFocused, false)\n        .transition().duration(100)\n        .style('opacity', function () { return $$.opacityForLegend(d3.select(this)); });\n};\nconst showLegend = function (targetIds) {\n    let $$ = this, config = $$.config;\n    if (!config.legend_show) {\n        config.legend_show = true;\n        $$.legend.style('visibility', 'visible');\n        if (!$$.legendHasRendered) {\n            $$.updateLegendWithDefaults();\n        }\n    }\n    $$.removeHiddenLegendIds(targetIds);\n    $$.legend.selectAll($$.selectorLegends(targetIds))\n        .style('visibility', 'visible')\n        .transition()\n        .style('opacity', function () { return $$.opacityForLegend($$.d3.select(this)); });\n};\nconst hideLegend = function (targetIds) {\n    let $$ = this, config = $$.config;\n    if (config.legend_show && isEmpty(targetIds)) {\n        config.legend_show = false;\n        $$.legend.style('visibility', 'hidden');\n    }\n    $$.addHiddenLegendIds(targetIds);\n    $$.legend.selectAll($$.selectorLegends(targetIds))\n        .style('opacity', 0)\n        .style('visibility', 'hidden');\n};\nconst clearLegendItemTextBoxCache = function () {\n    this.legendItemTextBox = {};\n};\nconst updateLegend = function (targetIds, options, transitions) {\n    let $$ = this, config = $$.config;\n    let xForLegend, xForLegendText, xForLegendRect, yForLegend, yForLegendText, yForLegendRect, x1ForLegendTile, x2ForLegendTile, yForLegendTile;\n    let paddingTop = 4, paddingRight = 10, maxWidth = 0, maxHeight = 0, posMin = 10, tileWidth = config.legend_item_tile_width + 5;\n    let l, totalLength = 0, offsets = {}, widths = {}, heights = {}, margins = [0], steps = {}, step = 0;\n    let withTransition, withTransitionForTransform;\n    let texts, rects, tiles, background;\n\n    // Skip elements when their name is set to null\n    targetIds = targetIds.filter((id) => {\n        return !isDefined(config.data_names[id]) || config.data_names[id] !== null;\n    });\n\n    options = options || {};\n    withTransition = getOption(options, 'withTransition', true);\n    withTransitionForTransform = getOption(options, 'withTransitionForTransform', true);\n\n    function getTextBox(textElement, id) {\n        if (!$$.legendItemTextBox[id]) {\n            $$.legendItemTextBox[id] = $$.getTextRect(textElement.textContent, CLASS.legendItem, textElement);\n        }\n        return $$.legendItemTextBox[id];\n    }\n\n    function updatePositions(textElement, id, index) {\n        let reset = index === 0, isLast = index === targetIds.length - 1,\n            box = getTextBox(textElement, id),\n            itemWidth = box.width + tileWidth + (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) + config.legend_padding,\n            itemHeight = box.height + paddingTop,\n            itemLength = $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth,\n            areaLength = $$.isLegendRight || $$.isLegendInset ? $$.getLegendHeight() : $$.getLegendWidth(),\n            margin, maxLength;\n\n        // MEMO: care about condifion of step, totalLength\n        function updateValues(id, withoutStep) {\n            if (!withoutStep) {\n                margin = (areaLength - totalLength - itemLength) / 2;\n                if (margin < posMin) {\n                    margin = (areaLength - itemLength) / 2;\n                    totalLength = 0;\n                    step++;\n                }\n            }\n            steps[id] = step;\n            margins[step] = $$.isLegendInset ? 10 : margin;\n            offsets[id] = totalLength;\n            totalLength += itemLength;\n        }\n\n        if (reset) {\n            totalLength = 0;\n            step = 0;\n            maxWidth = 0;\n            maxHeight = 0;\n        }\n\n        if (config.legend_show && !$$.isLegendToShow(id)) {\n            widths[id] = heights[id] = steps[id] = offsets[id] = 0;\n            return;\n        }\n\n        widths[id] = itemWidth;\n        heights[id] = itemHeight;\n\n        if (!maxWidth || itemWidth >= maxWidth) { maxWidth = itemWidth; }\n        if (!maxHeight || itemHeight >= maxHeight) { maxHeight = itemHeight; }\n        maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\n\n        if (config.legend_equally) {\n            Object.keys(widths).forEach((id) => { widths[id] = maxWidth; });\n            Object.keys(heights).forEach((id) => { heights[id] = maxHeight; });\n            margin = (areaLength - maxLength * targetIds.length) / 2;\n            if (margin < posMin) {\n                totalLength = 0;\n                step = 0;\n                targetIds.forEach((id) => { updateValues(id); });\n            }\n            else {\n                updateValues(id, true);\n            }\n        } else {\n            updateValues(id);\n        }\n    }\n\n    if ($$.isLegendInset) {\n        step = config.legend_inset_step ? config.legend_inset_step : targetIds.length;\n        $$.updateLegendStep(step);\n    }\n\n    if ($$.isLegendRight) {\n        xForLegend = function (id) { return maxWidth * steps[id]; };\n        yForLegend = function (id) { return margins[steps[id]] + offsets[id]; };\n    } else if ($$.isLegendInset) {\n        xForLegend = function (id) { return maxWidth * steps[id] + 10; };\n        yForLegend = function (id) { return margins[steps[id]] + offsets[id]; };\n    } else {\n        xForLegend = function (id) { return margins[steps[id]] + offsets[id]; };\n        yForLegend = function (id) { return maxHeight * steps[id]; };\n    }\n    xForLegendText = function (id, i) { return xForLegend(id, i) + 4 + config.legend_item_tile_width; };\n    yForLegendText = function (id, i) { return yForLegend(id, i) + 9; };\n    xForLegendRect = function (id, i) { return xForLegend(id, i); };\n    yForLegendRect = function (id, i) { return yForLegend(id, i) - 5; };\n    x1ForLegendTile = function (id, i) { return xForLegend(id, i) - 2; };\n    x2ForLegendTile = function (id, i) { return xForLegend(id, i) - 2 + config.legend_item_tile_width; };\n    yForLegendTile = function (id, i) { return yForLegend(id, i) + 4; };\n\n    // Define g for legend area\n    l = $$.legend.selectAll('.' + CLASS.legendItem)\n        .data(targetIds)\n        .enter().append('g')\n        .attr('class', (id) => { return $$.generateClass(CLASS.legendItem, id); })\n        .style('visibility', (id) => { return $$.isLegendToShow(id) ? 'visible' : 'hidden'; })\n        .style('cursor', 'pointer')\n        .on('click', (id) => {\n            if (config.legend_item_onclick) {\n                config.legend_item_onclick.call($$, id);\n            } else {\n                if ($$.d3.event.altKey) {\n                    $$.api.hide();\n                    $$.api.show(id);\n                } else {\n                    $$.api.toggle(id);\n                    $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\n                }\n            }\n        })\n        .on('mouseover', function (id) {\n            if (config.legend_item_onmouseover) {\n                config.legend_item_onmouseover.call($$, id);\n            }\n            else {\n                $$.d3.select(this).classed(CLASS.legendItemFocused, true);\n                if (!$$.transiting && $$.isTargetToShow(id)) {\n                    $$.api.focus(id);\n                }\n            }\n        })\n        .on('mouseout', function (id) {\n            if (config.legend_item_onmouseout) {\n                config.legend_item_onmouseout.call($$, id);\n            }\n            else {\n                $$.d3.select(this).classed(CLASS.legendItemFocused, false);\n                $$.api.revert();\n            }\n        });\n    l.append('text')\n        .text((id) => { return isDefined(config.data_names[id]) ? config.data_names[id] : id; })\n        .each(function (id, i) { updatePositions(this, id, i); })\n        .style('pointer-events', 'none')\n        .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200)\n        .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\n    l.append('rect')\n        .attr('class', CLASS.legendItemEvent)\n        .style('fill-opacity', 0)\n        .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200)\n        .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\n    l.append('line')\n        .attr('class', CLASS.legendItemTile)\n        .style('stroke', $$.color)\n        .style('pointer-events', 'none')\n        .attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200)\n        .attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\n        .attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200)\n        .attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\n        .attr('stroke-width', config.legend_item_tile_height);\n\n    // Set background for inset legend\n    background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\n    if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\n        background = $$.legend.insert('g', '.' + CLASS.legendItem)\n            .attr('class', CLASS.legendBackground)\n            .append('rect');\n    }\n\n    texts = $$.legend.selectAll('text')\n        .data(targetIds)\n        .text((id) => { return isDefined(config.data_names[id]) ? config.data_names[id] : id; }) // MEMO: needed for update\n        .each(function (id, i) { updatePositions(this, id, i); });\n    (withTransition ? texts.transition() : texts)\n        .attr('x', xForLegendText)\n        .attr('y', yForLegendText);\n\n    rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent)\n        .data(targetIds);\n    (withTransition ? rects.transition() : rects)\n        .attr('width', (id) => { return widths[id]; })\n        .attr('height', (id) => { return heights[id]; })\n        .attr('x', xForLegendRect)\n        .attr('y', yForLegendRect);\n\n    tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile)\n            .data(targetIds);\n    (withTransition ? tiles.transition() : tiles)\n            .style('stroke', $$.color)\n            .attr('x1', x1ForLegendTile)\n            .attr('y1', yForLegendTile)\n            .attr('x2', x2ForLegendTile)\n            .attr('y2', yForLegendTile);\n\n    if (background) {\n        (withTransition ? background.transition() : background)\n            .attr('height', $$.getLegendHeight() - 12)\n            .attr('width', maxWidth * (step + 1) + 10);\n    }\n\n    // toggle legend state\n    $$.legend.selectAll('.' + CLASS.legendItem)\n        .classed(CLASS.legendItemHidden, (id) => { return !$$.isTargetToShow(id); });\n\n    // Update all to reflect change of legend\n    $$.updateLegendItemWidth(maxWidth);\n    $$.updateLegendItemHeight(maxHeight);\n    $$.updateLegendStep(step);\n    // Update size and scale\n    $$.updateSizes();\n    $$.updateScales();\n    $$.updateSvgSize();\n    // Update g positions\n    $$.transformAll(withTransitionForTransform, transitions);\n    $$.legendHasRendered = true;\n};\n\nexport {\n    initLegend,\n    updateLegendWithDefaults,\n    updateSizeForLegend,\n    transformLegend,\n    updateLegendStep,\n    updateLegendItemWidth,\n    updateLegendItemHeight,\n    getLegendWidth,\n    getLegendHeight,\n    opacityForLegend,\n    opacityForUnfocusedLegend,\n    toggleFocusLegend,\n    revertLegend,\n    showLegend,\n    hideLegend,\n    clearLegendItemTextBoxCache,\n    updateLegend,\n};\n","import { CLASS } from './class';\nimport { isValue } from './util';\n\nconst initRegion = function () {\n    const $$ = this;\n    $$.region = $$.main.append('g')\n        .attr('clip-path', $$.clipPath)\n        .attr('class', CLASS.regions);\n};\nconst updateRegion = function (duration) {\n    let $$ = this, config = $$.config;\n\n    // hide if arc type\n    $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\n    $$.mainRegion = $$.main.select('.' + CLASS.regions).selectAll('.' + CLASS.region)\n        .data(config.regions);\n    $$.mainRegion.enter().append('g')\n      .append('rect')\n        .style('fill-opacity', 0);\n    $$.mainRegion\n        .attr('class', $$.classRegion.bind($$));\n    $$.mainRegion.exit().transition().duration(duration)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawRegion = function (withTransition) {\n    let $$ = this,\n        regions = $$.mainRegion.selectAll('rect').each(function () {\n            // data is binded to g and it's not transferred to rect (child node) automatically,\n            // then data of each rect has to be updated manually.\n            // TODO: there should be more efficient way to solve this?\n            const parentData = $$.d3.select(this.parentNode).datum();\n            $$.d3.select(this).datum(parentData);\n        }),\n        x = $$.regionX.bind($$),\n        y = $$.regionY.bind($$),\n        w = $$.regionWidth.bind($$),\n        h = $$.regionHeight.bind($$);\n    return [\n        (withTransition ? regions.transition() : regions)\n            .attr('x', x)\n            .attr('y', y)\n            .attr('width', w)\n            .attr('height', h)\n            .style('fill-opacity', (d) => { return isValue(d.opacity) ? d.opacity : 0.1; }),\n    ];\n};\nconst regionX = function (d) {\n    let $$ = this, config = $$.config,\n        xPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        xPos = config.axis_rotated ? ('start' in d ? yScale(d.start) : 0) : 0;\n    } else {\n        xPos = config.axis_rotated ? 0 : ('start' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start) : 0);\n    }\n    return xPos;\n};\nconst regionY = function (d) {\n    let $$ = this, config = $$.config,\n        yPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        yPos = config.axis_rotated ? 0 : ('end' in d ? yScale(d.end) : 0);\n    } else {\n        yPos = config.axis_rotated ? ('start' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start) : 0) : 0;\n    }\n    return yPos;\n};\nconst regionWidth = function (d) {\n    let $$ = this, config = $$.config,\n        start = $$.regionX(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        end = config.axis_rotated ? ('end' in d ? yScale(d.end) : $$.width) : $$.width;\n    } else {\n        end = config.axis_rotated ? $$.width : ('end' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end) : $$.width);\n    }\n    return end < start ? 0 : end - start;\n};\nconst regionHeight = function (d) {\n    let $$ = this, config = $$.config,\n        start = this.regionY(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        end = config.axis_rotated ? $$.height : ('start' in d ? yScale(d.start) : $$.height);\n    } else {\n        end = config.axis_rotated ? ('end' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end) : $$.height) : $$.height;\n    }\n    return end < start ? 0 : end - start;\n};\nconst isRegionOnX = function (d) {\n    return !d.axis || d.axis === 'x';\n};\n\nexport {\n    initRegion,\n    updateRegion,\n    redrawRegion,\n    regionX,\n    regionY,\n    regionWidth,\n    regionHeight,\n    isRegionOnX,\n};\n","const getScale = function (min, max, forTimeseries) {\n    return (forTimeseries ? this.d3.time.scale() : this.d3.scale.linear()).range([min, max]);\n};\nconst getX = function (min, max, domain, offset) {\n    let $$ = this,\n        scale = $$.getScale(min, max, $$.isTimeSeries()),\n        _scale = domain ? scale.domain(domain) : scale, key;\n    // Define customized scale if categorized axis\n    if ($$.isCategorized()) {\n        offset = offset || function () { return 0; };\n        scale = function (d, raw) {\n            const v = _scale(d) + offset(d);\n            return raw ? v : Math.ceil(v);\n        };\n    } else {\n        scale = function (d, raw) {\n            const v = _scale(d);\n            return raw ? v : Math.ceil(v);\n        };\n    }\n    // define functions\n    for (key in _scale) {\n        scale[key] = _scale[key];\n    }\n    scale.orgDomain = function () {\n        return _scale.domain();\n    };\n    // define custom domain() for categorized axis\n    if ($$.isCategorized()) {\n        scale.domain = function (domain) {\n            if (!arguments.length) {\n                domain = this.orgDomain();\n                return [domain[0], domain[1] + 1];\n            }\n            _scale.domain(domain);\n            return scale;\n        };\n    }\n    return scale;\n};\nconst getY = function (min, max, domain) {\n    const scale = this.getScale(min, max, this.isTimeSeriesY());\n    if (domain) { scale.domain(domain); }\n    return scale;\n};\nconst getYScale = function (id) {\n    return this.axis.getId(id) === 'y2' ? this.y2 : this.y;\n};\nconst getSubYScale = function (id) {\n    return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY;\n};\nconst updateScales = function () {\n    let $$ = this, config = $$.config,\n        forInit = !$$.x;\n    // update edges\n    $$.xMin = config.axis_rotated ? 1 : 0;\n    $$.xMax = config.axis_rotated ? $$.height : $$.width;\n    $$.yMin = config.axis_rotated ? 0 : $$.height;\n    $$.yMax = config.axis_rotated ? $$.width : 1;\n    $$.subXMin = $$.xMin;\n    $$.subXMax = $$.xMax;\n    $$.subYMin = config.axis_rotated ? 0 : $$.height2;\n    $$.subYMax = config.axis_rotated ? $$.width2 : 1;\n    // update scales\n    $$.x = $$.getX($$.xMin, $$.xMax, forInit ? undefined : $$.x.orgDomain(), () => { return $$.xAxis.tickOffset(); });\n    $$.y = $$.getY($$.yMin, $$.yMax, forInit ? config.axis_y_default : $$.y.domain());\n    $$.y2 = $$.getY($$.yMin, $$.yMax, forInit ? config.axis_y2_default : $$.y2.domain());\n    $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, (d) => { return d % 1 ? 0 : $$.subXAxis.tickOffset(); });\n    $$.subY = $$.getY($$.subYMin, $$.subYMax, forInit ? config.axis_y_default : $$.subY.domain());\n    $$.subY2 = $$.getY($$.subYMin, $$.subYMax, forInit ? config.axis_y2_default : $$.subY2.domain());\n    // update axes\n    $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\n    $$.xAxisTickValues = $$.axis.getXAxisTickValues();\n    $$.yAxisTickValues = $$.axis.getYAxisTickValues();\n    $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\n\n    $$.xAxis = $$.axis.getXAxis($$.x, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\n    $$.subXAxis = $$.axis.getXAxis($$.subX, $$.subXOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\n    $$.yAxis = $$.axis.getYAxis($$.y, $$.yOrient, config.axis_y_tick_format, $$.yAxisTickValues, config.axis_y_tick_outer);\n    $$.y2Axis = $$.axis.getYAxis($$.y2, $$.y2Orient, config.axis_y2_tick_format, $$.y2AxisTickValues, config.axis_y2_tick_outer);\n\n    // Set initialized scales to brush and zoom\n    if (!forInit) {\n        if ($$.brush) { $$.brush.scale($$.subX); }\n        if (config.zoom_enabled) { $$.zoom.scale($$.x); }\n    }\n    // update for arc\n    if ($$.updateArc) { $$.updateArc(); }\n};\n\nexport {\n    getScale,\n    getX,\n    getY,\n    getYScale,\n    getSubYScale,\n    updateScales,\n};\n","import { CLASS } from './class';\n\nconst selectPoint = function (target, d, i) {\n    let $$ = this, config = $$.config,\n        cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$),\n        cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$),\n        r = $$.pointSelectR.bind($$);\n    config.data_onselected.call($$.api, d, target.node());\n    // add selected-circle on low layer g\n    $$.main.select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id)).selectAll('.' + CLASS.selectedCircle + '-' + i)\n        .data([d])\n        .enter().append('circle')\n        .attr('class', () => { return $$.generateClass(CLASS.selectedCircle, i); })\n        .attr('cx', cx)\n        .attr('cy', cy)\n        .attr('stroke', () => { return $$.color(d); })\n        .attr('r', (d) => { return $$.pointSelectR(d) * 1.4; })\n        .transition().duration(100)\n        .attr('r', r);\n};\nconst unselectPoint = function (target, d, i) {\n    const $$ = this;\n    $$.config.data_onunselected.call($$.api, d, target.node());\n    // remove selected-circle from low layer g\n    $$.main.select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id)).selectAll('.' + CLASS.selectedCircle + '-' + i)\n        .transition().duration(100).attr('r', 0)\n        .remove();\n};\nconst togglePoint = function (selected, target, d, i) {\n    selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\n};\nconst selectPath = function (target, d) {\n    const $$ = this;\n    $$.config.data_onselected.call($$, d, target.node());\n    if ($$.config.interaction_brighten) {\n        target.transition().duration(100)\n            .style('fill', () => { return $$.d3.rgb($$.color(d)).brighter(0.75); });\n    }\n};\nconst unselectPath = function (target, d) {\n    const $$ = this;\n    $$.config.data_onunselected.call($$, d, target.node());\n    if ($$.config.interaction_brighten) {\n        target.transition().duration(100)\n            .style('fill', () => { return $$.color(d); });\n    }\n};\nconst togglePath = function (selected, target, d, i) {\n    selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\n};\nconst getToggle = function (that, d) {\n    let $$ = this, toggle;\n    if (that.nodeName === 'circle') {\n        if ($$.isStepType(d)) {\n            // circle is hidden in step chart, so treat as within the click area\n            toggle = function () {}; // TODO: how to select step chart?\n        } else {\n            toggle = $$.togglePoint;\n        }\n    }\n    else if (that.nodeName === 'path') {\n        toggle = $$.togglePath;\n    }\n    return toggle;\n};\nconst toggleShape = function (that, d, i) {\n    let $$ = this, d3 = $$.d3, config = $$.config,\n        shape = d3.select(that), isSelected = shape.classed(CLASS.SELECTED),\n        toggle = $$.getToggle(that, d).bind($$);\n\n    if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\n        if (!config.data_selection_multiple) {\n            $$.main.selectAll('.' + CLASS.shapes + (config.data_selection_grouped ? $$.getTargetSelectorSuffix(d.id) : '')).selectAll('.' + CLASS.shape).each(function (d, i) {\n                const shape = d3.select(this);\n                if (shape.classed(CLASS.SELECTED)) { toggle(false, shape.classed(CLASS.SELECTED, false), d, i); }\n            });\n        }\n        shape.classed(CLASS.SELECTED, !isSelected);\n        toggle(!isSelected, shape, d, i);\n    }\n};\n\nexport {\n    selectPoint,\n    unselectPoint,\n    togglePoint,\n    selectPath,\n    unselectPath,\n    togglePath,\n    getToggle,\n    toggleShape,\n};\n","import { CLASS } from './class';\nimport { isValue } from './util';\n\nconst initBar = function () {\n    const $$ = this;\n    $$.main.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.chartBars);\n};\nconst updateTargetsForBar = function (targets) {\n    let $$ = this, config = $$.config,\n        mainBarUpdate, mainBarEnter,\n        classChartBar = $$.classChartBar.bind($$),\n        classBars = $$.classBars.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainBarUpdate = $$.main.select('.' + CLASS.chartBars).selectAll('.' + CLASS.chartBar)\n        .data(targets)\n        .attr('class', (d) => { return classChartBar(d) + classFocus(d); });\n    mainBarEnter = mainBarUpdate.enter().append('g')\n        .attr('class', classChartBar)\n        .style('opacity', 0)\n        .style('pointer-events', 'none');\n    // Bars for each data\n    mainBarEnter.append('g')\n        .attr('class', classBars)\n        .style('cursor', (d) => { return config.data_selection_isselectable(d) ? 'pointer' : null; });\n};\nconst updateBar = function (durationForExit) {\n    let $$ = this,\n        barData = $$.barData.bind($$),\n        classBar = $$.classBar.bind($$),\n        initialOpacity = $$.initialOpacity.bind($$),\n        color = function (d) { return $$.color(d.id); };\n    $$.mainBar = $$.main.selectAll('.' + CLASS.bars).selectAll('.' + CLASS.bar)\n        .data(barData);\n    $$.mainBar.enter().append('path')\n        .attr('class', classBar)\n        .style('stroke', color)\n        .style('fill', color);\n    $$.mainBar\n        .style('opacity', initialOpacity);\n    $$.mainBar.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawBar = function (drawBar, withTransition) {\n    return [\n        (withTransition ? this.mainBar.transition(Math.random().toString()) : this.mainBar)\n            .attr('d', drawBar)\n            .style('fill', this.color)\n            .style('opacity', 1),\n    ];\n};\nconst getBarW = function (axis, barTargetsNum) {\n    let $$ = this, config = $$.config,\n        w = typeof config.bar_width === 'number' ? config.bar_width : barTargetsNum ? (axis.tickInterval() * config.bar_width_ratio) / barTargetsNum : 0;\n    return config.bar_width_max && w > config.bar_width_max ? config.bar_width_max : w;\n};\nconst getBars = function (i, id) {\n    const $$ = this;\n    return (id ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id)) : $$.main).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''));\n};\nconst expandBars = function (i, id, reset) {\n    const $$ = this;\n    if (reset) { $$.unexpandBars(); }\n    $$.getBars(i, id).classed(CLASS.EXPANDED, true);\n};\nconst unexpandBars = function (i) {\n    const $$ = this;\n    $$.getBars(i).classed(CLASS.EXPANDED, false);\n};\nconst generateDrawBar = function (barIndices, isSub) {\n    let $$ = this, config = $$.config,\n        getPoints = $$.generateGetBarPoints(barIndices, isSub);\n    return function (d, i) {\n        // 4 points that make a bar\n        const points = getPoints(d, i);\n\n        // switch points if axis is rotated, not applicable for sub chart\n        const indexX = config.axis_rotated ? 1 : 0;\n        const indexY = config.axis_rotated ? 0 : 1;\n\n        const path = 'M ' + points[0][indexX] + ',' + points[0][indexY] + ' ' +\n                'L' + points[1][indexX] + ',' + points[1][indexY] + ' ' +\n                'L' + points[2][indexX] + ',' + points[2][indexY] + ' ' +\n                'L' + points[3][indexX] + ',' + points[3][indexY] + ' ' +\n                'z';\n\n        return path;\n    };\n};\nconst generateGetBarPoints = function (barIndices, isSub) {\n    let $$ = this,\n        axis = isSub ? $$.subXAxis : $$.xAxis,\n        barTargetsNum = barIndices.__max__ + 1,\n        barW = $$.getBarW(axis, barTargetsNum),\n        barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub),\n        barY = $$.getShapeY(!!isSub),\n        barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub),\n        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n    return function (d, i) {\n        let y0 = yScale.call($$, d.id)(0),\n            offset = barOffset(d, i) || y0, // offset is for stacked bar chart\n            posX = barX(d), posY = barY(d);\n        // fix posY not to overflow opposite quadrant\n        if ($$.config.axis_rotated) {\n            if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) { posY = y0; }\n        }\n        // 4 points that make a bar\n        return [\n            [posX, offset],\n            [posX, posY - (y0 - offset)],\n            [posX + barW, posY - (y0 - offset)],\n            [posX + barW, offset],\n        ];\n    };\n};\nconst isWithinBar = function (that) {\n    let mouse = this.d3.mouse(that), box = that.getBoundingClientRect(),\n        seg0 = that.pathSegList.getItem(0), seg1 = that.pathSegList.getItem(1),\n        x = Math.min(seg0.x, seg1.x), y = Math.min(seg0.y, seg1.y),\n        w = box.width, h = box.height, offset = 2,\n        sx = x - offset, ex = x + w + offset, sy = y + h + offset, ey = y - offset;\n    return sx < mouse[0] && mouse[0] < ex && ey < mouse[1] && mouse[1] < sy;\n};\n\nexport {\n    initBar,\n    updateTargetsForBar,\n    updateBar,\n    redrawBar,\n    getBarW,\n    getBars,\n    expandBars,\n    unexpandBars,\n    generateDrawBar,\n    generateGetBarPoints,\n    isWithinBar,\n};\n","import { CLASS } from './class';\nimport { isUndefined } from './util';\n\nconst getShapeIndices = function (typeFilter) {\n    let $$ = this, config = $$.config,\n        indices = {}, i = 0, j, k;\n    $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach((d) => {\n        for (j = 0; j < config.data_groups.length; j++) {\n            if (config.data_groups[j].indexOf(d.id) < 0) { continue; }\n            for (k = 0; k < config.data_groups[j].length; k++) {\n                if (config.data_groups[j][k] in indices) {\n                    indices[d.id] = indices[config.data_groups[j][k]];\n                    break;\n                }\n            }\n        }\n        if (isUndefined(indices[d.id])) { indices[d.id] = i++; }\n    });\n    indices.__max__ = i - 1;\n    return indices;\n};\nconst getShapeX = function (offset, targetsNum, indices, isSub) {\n    let $$ = this, scale = isSub ? $$.subX : $$.x;\n    return function (d) {\n        const index = d.id in indices ? indices[d.id] : 0;\n        return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0;\n    };\n};\nconst getShapeY = function (isSub) {\n    const $$ = this;\n    return function (d) {\n        const scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\n        return scale(d.value);\n    };\n};\nconst getShapeOffset = function (typeFilter, indices, isSub) {\n    let $$ = this,\n        targets = $$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))),\n        targetIds = targets.map((t) => { return t.id; });\n    return function (d, i) {\n        let scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id),\n            y0 = scale(0), offset = y0;\n        targets.forEach((t) => {\n            const values = $$.isStepType(d) ? $$.convertValuesToStep(t.values) : t.values;\n            if (t.id === d.id || indices[t.id] !== indices[d.id]) { return; }\n            if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\n                // check if the x values line up\n                if (typeof values[i] === 'undefined' || +values[i].x !== +d.x) {  // \"+\" for timeseries\n                    // if not, try to find the value that does line up\n                    i = -1;\n                    values.forEach((v, j) => {\n                        if (v.x === d.x) {\n                            i = j;\n                        }\n                    });\n                }\n                if (i in values && values[i].value * d.value >= 0) {\n                    offset += scale(values[i].value) - y0;\n                }\n            }\n        });\n        return offset;\n    };\n};\nconst isWithinShape = function (that, d) {\n    let $$ = this,\n        shape = $$.d3.select(that), isWithin;\n    if (!$$.isTargetToShow(d.id)) {\n        isWithin = false;\n    }\n    else if (that.nodeName === 'circle') {\n        isWithin = $$.isStepType(d) ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value)) : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\n    }\n    else if (that.nodeName === 'path') {\n        isWithin = shape.classed(CLASS.bar) ? $$.isWithinBar(that) : true;\n    }\n    return isWithin;\n};\n\n\nconst getInterpolate = function (d) {\n    let $$ = this,\n        interpolation = $$.isInterpolationType($$.config.spline_interpolation_type) ? $$.config.spline_interpolation_type : 'cardinal';\n    return $$.isSplineType(d) ? interpolation : $$.isStepType(d) ? $$.config.line_step_type : 'linear';\n};\n\nexport {\n    getShapeIndices,\n    getShapeX,\n    getShapeY,\n    getShapeOffset,\n    isWithinShape,\n    getInterpolate,\n};\n","import { CLASS } from './class';\nimport { isDefined, isUndefined, isValue, isFunction } from './util';\n\nconst initLine = function () {\n    const $$ = this;\n    $$.main.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.chartLines);\n};\nconst updateTargetsForLine = function (targets) {\n    let $$ = this, config = $$.config,\n        mainLineUpdate, mainLineEnter,\n        classChartLine = $$.classChartLine.bind($$),\n        classLines = $$.classLines.bind($$),\n        classAreas = $$.classAreas.bind($$),\n        classCircles = $$.classCircles.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainLineUpdate = $$.main.select('.' + CLASS.chartLines).selectAll('.' + CLASS.chartLine)\n        .data(targets)\n        .attr('class', (d) => { return classChartLine(d) + classFocus(d); });\n    mainLineEnter = mainLineUpdate.enter().append('g')\n        .attr('class', classChartLine)\n        .style('opacity', 0)\n        .style('pointer-events', 'none');\n    // Lines for each data\n    mainLineEnter.append('g')\n        .attr('class', classLines);\n    // Areas\n    mainLineEnter.append('g')\n        .attr('class', classAreas);\n    // Circles for each data point on lines\n    mainLineEnter.append('g')\n        .attr('class', (d) => { return $$.generateClass(CLASS.selectedCircles, d.id); });\n    mainLineEnter.append('g')\n        .attr('class', classCircles)\n        .style('cursor', (d) => { return config.data_selection_isselectable(d) ? 'pointer' : null; });\n    // Update date for selected circles\n    targets.forEach((t) => {\n        $$.main.selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id)).selectAll('.' + CLASS.selectedCircle).each((d) => {\n            d.value = t.values[d.index].value;\n        });\n    });\n    // MEMO: can not keep same color...\n    // mainLineUpdate.exit().remove();\n};\nconst updateLine = function (durationForExit) {\n    const $$ = this;\n    $$.mainLine = $$.main.selectAll('.' + CLASS.lines).selectAll('.' + CLASS.line)\n        .data($$.lineData.bind($$));\n    $$.mainLine.enter().append('path')\n        .attr('class', $$.classLine.bind($$))\n        .style('stroke', $$.color);\n    $$.mainLine\n        .style('opacity', $$.initialOpacity.bind($$))\n        .style('shape-rendering', (d) => { return $$.isStepType(d) ? 'crispEdges' : ''; })\n        .attr('transform', null);\n    $$.mainLine.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawLine = function (drawLine, withTransition) {\n    return [\n        (withTransition ? this.mainLine.transition(Math.random().toString()) : this.mainLine)\n            .attr('d', drawLine)\n            .style('stroke', this.color)\n            .style('opacity', 1),\n    ];\n};\nconst generateDrawLine = function (lineIndices, isSub) {\n    let $$ = this, config = $$.config,\n        line = $$.d3.svg.line(),\n        getPoints = $$.generateGetLinePoints(lineIndices, isSub),\n        yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n        xValue = function (d) { return (isSub ? $$.subxx : $$.xx).call($$, d); },\n        yValue = function (d, i) {\n            return config.data_groups.length > 0 ? getPoints(d, i)[0][1] : yScaleGetter.call($$, d.id)(d.value);\n        };\n\n    line = config.axis_rotated ? line.x(yValue).y(xValue) : line.x(xValue).y(yValue);\n    if (!config.line_connectNull) { line = line.defined((d) => { return d.value != null; }); }\n    return function (d) {\n        let values = config.line_connectNull ? $$.filterRemoveNull(d.values) : d.values,\n            x = isSub ? $$.x : $$.subX, y = yScaleGetter.call($$, d.id), x0 = 0, y0 = 0, path;\n        if ($$.isLineType(d)) {\n            if (config.data_regions[d.id]) {\n                path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\n            } else {\n                if ($$.isStepType(d)) { values = $$.convertValuesToStep(values); }\n                path = line.interpolate($$.getInterpolate(d))(values);\n            }\n        } else {\n            if (values[0]) {\n                x0 = x(values[0].x);\n                y0 = y(values[0].value);\n            }\n            path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\n        }\n        return path ? path : 'M 0 0';\n    };\n};\nconst generateGetLinePoints = function (lineIndices, isSub) { // partial duplication of generateGetBarPoints\n    let $$ = this, config = $$.config,\n        lineTargetsNum = lineIndices.__max__ + 1,\n        x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub),\n        y = $$.getShapeY(!!isSub),\n        lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub),\n        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n    return function (d, i) {\n        let y0 = yScale.call($$, d.id)(0),\n            offset = lineOffset(d, i) || y0, // offset is for stacked area chart\n            posX = x(d), posY = y(d);\n        // fix posY not to overflow opposite quadrant\n        if (config.axis_rotated) {\n            if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) { posY = y0; }\n        }\n        // 1 point that marks the line position\n        return [\n            [posX, posY - (y0 - offset)],\n            [posX, posY - (y0 - offset)], // needed for compatibility\n            [posX, posY - (y0 - offset)], // needed for compatibility\n            [posX, posY - (y0 - offset)],  // needed for compatibility\n        ];\n    };\n};\n\n\nconst lineWithRegions = function (d, x, y, _regions) {\n    let $$ = this, config = $$.config,\n        prev = -1, i, j,\n        s = 'M', sWithRegion,\n        xp, yp, dx, dy, dd, diff, diffx2,\n        xOffset = $$.isCategorized() ? 0.5 : 0,\n        xValue, yValue,\n        regions = [];\n\n    function isWithinRegions(x, regions) {\n        let i;\n        for (i = 0; i < regions.length; i++) {\n            if (regions[i].start < x && x <= regions[i].end) { return true; }\n        }\n        return false;\n    }\n\n    // Check start/end of regions\n    if (isDefined(_regions)) {\n        for (i = 0; i < _regions.length; i++) {\n            regions[i] = {};\n            if (isUndefined(_regions[i].start)) {\n                regions[i].start = d[0].x;\n            } else {\n                regions[i].start = $$.isTimeSeries() ? $$.parseDate(_regions[i].start) : _regions[i].start;\n            }\n            if (isUndefined(_regions[i].end)) {\n                regions[i].end = d[d.length - 1].x;\n            } else {\n                regions[i].end = $$.isTimeSeries() ? $$.parseDate(_regions[i].end) : _regions[i].end;\n            }\n        }\n    }\n\n    // Set scales\n    xValue = config.axis_rotated ? function (d) { return y(d.value); } : function (d) { return x(d.x); };\n    yValue = config.axis_rotated ? function (d) { return x(d.x); } : function (d) { return y(d.value); };\n\n    // Define svg generator function for region\n    function generateM(points) {\n        return 'M' + points[0][0] + ' ' + points[0][1] + ' ' + points[1][0] + ' ' + points[1][1];\n    }\n    if ($$.isTimeSeries()) {\n        sWithRegion = function (d0, d1, j, diff) {\n            let x0 = d0.x.getTime(), x_diff = d1.x - d0.x,\n                xv0 = new Date(x0 + x_diff * j),\n                xv1 = new Date(x0 + x_diff * (j + diff)),\n                points;\n            if (config.axis_rotated) {\n                points = [[y(yp(j)), x(xv0)], [y(yp(j + diff)), x(xv1)]];\n            } else {\n                points = [[x(xv0), y(yp(j))], [x(xv1), y(yp(j + diff))]];\n            }\n            return generateM(points);\n        };\n    } else {\n        sWithRegion = function (d0, d1, j, diff) {\n            let points;\n            if (config.axis_rotated) {\n                points = [[y(yp(j), true), x(xp(j))], [y(yp(j + diff), true), x(xp(j + diff))]];\n            } else {\n                points = [[x(xp(j), true), y(yp(j))], [x(xp(j + diff), true), y(yp(j + diff))]];\n            }\n            return generateM(points);\n        };\n    }\n\n    // Generate\n    for (i = 0; i < d.length; i++) {\n        // Draw as normal\n        if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\n            s += ' ' + xValue(d[i]) + ' ' + yValue(d[i]);\n        }\n        // Draw with region // TODO: Fix for horizotal charts\n        else {\n            xp = $$.getScale(d[i - 1].x + xOffset, d[i].x + xOffset, $$.isTimeSeries());\n            yp = $$.getScale(d[i - 1].value, d[i].value);\n\n            dx = x(d[i].x) - x(d[i - 1].x);\n            dy = y(d[i].value) - y(d[i - 1].value);\n            dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n            diff = 2 / dd;\n            diffx2 = diff * 2;\n\n            for (j = diff; j <= 1; j += diffx2) {\n                s += sWithRegion(d[i - 1], d[i], j, diff);\n            }\n        }\n        prev = d[i].x;\n    }\n\n    return s;\n};\n\n\nconst updateArea = function (durationForExit) {\n    let $$ = this, d3 = $$.d3;\n    $$.mainArea = $$.main.selectAll('.' + CLASS.areas).selectAll('.' + CLASS.area)\n        .data($$.lineData.bind($$));\n    $$.mainArea.enter().append('path')\n        .attr('class', $$.classArea.bind($$))\n        .style('fill', $$.color)\n        .style('opacity', function () { $$.orgAreaOpacity = +d3.select(this).style('opacity'); return 0; });\n    $$.mainArea\n        .style('opacity', $$.orgAreaOpacity);\n    $$.mainArea.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawArea = function (drawArea, withTransition) {\n    return [\n        (withTransition ? this.mainArea.transition(Math.random().toString()) : this.mainArea)\n            .attr('d', drawArea)\n            .style('fill', this.color)\n            .style('opacity', this.orgAreaOpacity),\n    ];\n};\nconst generateDrawArea = function (areaIndices, isSub) {\n    let $$ = this, config = $$.config, area = $$.d3.svg.area(),\n        getPoints = $$.generateGetAreaPoints(areaIndices, isSub),\n        yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n        xValue = function (d) { return (isSub ? $$.subxx : $$.xx).call($$, d); },\n        value0 = function (d, i) {\n            return config.data_groups.length > 0 ? getPoints(d, i)[0][1] : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id));\n        },\n        value1 = function (d, i) {\n            return config.data_groups.length > 0 ? getPoints(d, i)[1][1] : yScaleGetter.call($$, d.id)(d.value);\n        };\n\n    area = config.axis_rotated ? area.x0(value0).x1(value1).y(xValue) : area.x(xValue).y0(config.area_above ? 0 : value0).y1(value1);\n    if (!config.line_connectNull) {\n        area = area.defined((d) => { return d.value !== null; });\n    }\n\n    return function (d) {\n        let values = config.line_connectNull ? $$.filterRemoveNull(d.values) : d.values,\n            x0 = 0, y0 = 0, path;\n        if ($$.isAreaType(d)) {\n            if ($$.isStepType(d)) { values = $$.convertValuesToStep(values); }\n            path = area.interpolate($$.getInterpolate(d))(values);\n        } else {\n            if (values[0]) {\n                x0 = $$.x(values[0].x);\n                y0 = $$.getYScale(d.id)(values[0].value);\n            }\n            path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\n        }\n        return path ? path : 'M 0 0';\n    };\n};\nconst getAreaBaseValue = function () {\n    return 0;\n};\nconst generateGetAreaPoints = function (areaIndices, isSub) { // partial duplication of generateGetBarPoints\n    let $$ = this, config = $$.config,\n        areaTargetsNum = areaIndices.__max__ + 1,\n        x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub),\n        y = $$.getShapeY(!!isSub),\n        areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub),\n        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n    return function (d, i) {\n        let y0 = yScale.call($$, d.id)(0),\n            offset = areaOffset(d, i) || y0, // offset is for stacked area chart\n            posX = x(d), posY = y(d);\n        // fix posY not to overflow opposite quadrant\n        if (config.axis_rotated) {\n            if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) { posY = y0; }\n        }\n        // 1 point that marks the area position\n        return [\n            [posX, offset],\n            [posX, posY - (y0 - offset)],\n            [posX, posY - (y0 - offset)], // needed for compatibility\n            [posX, offset], // needed for compatibility\n        ];\n    };\n};\n\n\nconst updateCircle = function () {\n    const $$ = this;\n    $$.mainCircle = $$.main.selectAll('.' + CLASS.circles).selectAll('.' + CLASS.circle)\n        .data($$.lineOrScatterData.bind($$));\n    $$.mainCircle.enter().append('circle')\n        .attr('class', $$.classCircle.bind($$))\n        .attr('r', $$.pointR.bind($$))\n        .style('fill', $$.color);\n    $$.mainCircle\n        .style('opacity', $$.initialOpacityForCircle.bind($$));\n    $$.mainCircle.exit().remove();\n};\nconst redrawCircle = function (cx, cy, withTransition) {\n    const selectedCircles = this.main.selectAll('.' + CLASS.selectedCircle);\n    return [\n        (withTransition ? this.mainCircle.transition(Math.random().toString()) : this.mainCircle)\n            .style('opacity', this.opacityForCircle.bind(this))\n            .style('fill', this.color)\n            .attr('cx', cx)\n            .attr('cy', cy),\n        (withTransition ? selectedCircles.transition(Math.random().toString()) : selectedCircles)\n            .attr('cx', cx)\n            .attr('cy', cy),\n    ];\n};\nconst circleX = function (d) {\n    return d.x || d.x === 0 ? this.x(d.x) : null;\n};\nconst updateCircleY = function () {\n    let $$ = this, lineIndices, getPoints;\n    if ($$.config.data_groups.length > 0) {\n        lineIndices = $$.getShapeIndices($$.isLineType),\n        getPoints = $$.generateGetLinePoints(lineIndices);\n        $$.circleY = function (d, i) {\n            return getPoints(d, i)[0][1];\n        };\n    } else {\n        $$.circleY = function (d) {\n            return $$.getYScale(d.id)(d.value);\n        };\n    }\n};\nconst getCircles = function (i, id) {\n    const $$ = this;\n    return (id ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id)) : $$.main).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''));\n};\nconst expandCircles = function (i, id, reset) {\n    let $$ = this,\n        r = $$.pointExpandedR.bind($$);\n    if (reset) { $$.unexpandCircles(); }\n    $$.getCircles(i, id)\n        .classed(CLASS.EXPANDED, true)\n        .attr('r', r);\n};\nconst unexpandCircles = function (i) {\n    let $$ = this,\n        r = $$.pointR.bind($$);\n    $$.getCircles(i)\n        .filter(function () { return $$.d3.select(this).classed(CLASS.EXPANDED); })\n        .classed(CLASS.EXPANDED, false)\n        .attr('r', r);\n};\nconst pointR = function (d) {\n    let $$ = this, config = $$.config;\n    return $$.isStepType(d) ? 0 : (isFunction(config.point_r) ? config.point_r(d) : config.point_r);\n};\nconst pointExpandedR = function (d) {\n    let $$ = this, config = $$.config;\n    return config.point_focus_expand_enabled ? (config.point_focus_expand_r ? config.point_focus_expand_r : $$.pointR(d) * 1.75) : $$.pointR(d);\n};\nconst pointSelectR = function (d) {\n    let $$ = this, config = $$.config;\n    return isFunction(config.point_select_r) ? config.point_select_r(d) : ((config.point_select_r) ? config.point_select_r : $$.pointR(d) * 4);\n};\nconst isWithinCircle = function (that, r) {\n    let d3 = this.d3,\n        mouse = d3.mouse(that), d3_this = d3.select(that),\n        cx = +d3_this.attr('cx'), cy = +d3_this.attr('cy');\n    return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r;\n};\nconst isWithinStep = function (that, y) {\n    return Math.abs(y - this.d3.mouse(that)[1]) < 30;\n};\n\nexport {\n    initLine,\n    updateTargetsForLine,\n    updateLine,\n    redrawLine,\n    generateDrawLine,\n    generateGetLinePoints,\n    lineWithRegions,\n    updateArea,\n    redrawArea,\n    generateDrawArea,\n    getAreaBaseValue,\n    generateGetAreaPoints,\n    updateCircle,\n    redrawCircle,\n    circleX,\n    updateCircleY,\n    getCircles,\n    expandCircles,\n    unexpandCircles,\n    pointR,\n    pointExpandedR,\n    pointSelectR,\n    isWithinCircle,\n    isWithinStep,\n};\n","import { isValue, ceil10 } from './util';\nimport { CLASS } from './class';\n\nconst getCurrentWidth = function () {\n    let $$ = this, config = $$.config;\n    return config.size_width ? config.size_width : $$.getParentWidth();\n};\nconst getCurrentHeight = function () {\n    let $$ = this, config = $$.config,\n        h = config.size_height ? config.size_height : $$.getParentHeight();\n    return h > 0 ? h : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1);\n};\nconst getCurrentPaddingTop = function () {\n    let $$ = this,\n        config = $$.config,\n        padding = isValue(config.padding_top) ? config.padding_top : 0;\n    if ($$.title && $$.title.node()) {\n        padding += $$.getTitlePadding();\n    }\n    return padding;\n};\nconst getCurrentPaddingBottom = function () {\n    const config = this.config;\n    return isValue(config.padding_bottom) ? config.padding_bottom : 0;\n};\nconst getCurrentPaddingLeft = function (withoutRecompute) {\n    let $$ = this, config = $$.config;\n    if (isValue(config.padding_left)) {\n        return config.padding_left;\n    } else if (config.axis_rotated) {\n        return !config.axis_x_show ? 1 : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40);\n    } else if (!config.axis_y_show || config.axis_y_inner) { // && !config.axis_rotated\n        return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1;\n    } else {\n        return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute));\n    }\n};\nconst getCurrentPaddingRight = function () {\n    let $$ = this, config = $$.config,\n        defaultPadding = 10, legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\n    if (isValue(config.padding_right)) {\n        return config.padding_right + 1; // 1 is needed not to hide tick line\n    } else if (config.axis_rotated) {\n        return defaultPadding + legendWidthOnRight;\n    } else if (!config.axis_y2_show || config.axis_y2_inner) { // && !config.axis_rotated\n        return 2 + legendWidthOnRight + ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\n    } else {\n        return ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\n    }\n};\n\nconst getParentRectValue = function (key) {\n    let parent = this.selectChart.node(), v;\n    while (parent && parent.tagName !== 'BODY') {\n        try {\n            v = parent.getBoundingClientRect()[key];\n        } catch (e) {\n            if (key === 'width') {\n                // In IE in certain cases getBoundingClientRect\n                // will cause an \"unspecified error\"\n                v = parent.offsetWidth;\n            }\n        }\n        if (v) {\n            break;\n        }\n        parent = parent.parentNode;\n    }\n    return v;\n};\nconst getParentWidth = function () {\n    return this.getParentRectValue('width');\n};\nconst getParentHeight = function () {\n    const h = this.selectChart.style('height');\n    return h.indexOf('px') > 0 ? +h.replace('px', '') : 0;\n};\n\n\nconst getSvgLeft = function (withoutRecompute) {\n    let $$ = this, config = $$.config,\n        hasLeftAxisRect = config.axis_rotated || (!config.axis_rotated && !config.axis_y_inner),\n        leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY,\n        leftAxis = $$.main.select('.' + leftAxisClass).node(),\n        svgRect = leftAxis && hasLeftAxisRect ? leftAxis.getBoundingClientRect() : { right: 0 },\n        chartRect = $$.selectChart.node().getBoundingClientRect(),\n        hasArc = $$.hasArcType(),\n        svgLeft = svgRect.right - chartRect.left - (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\n    return svgLeft > 0 ? svgLeft : 0;\n};\n\n\nconst getAxisWidthByAxisId = function (id, withoutRecompute) {\n    let $$ = this, position = $$.axis.getLabelPositionById(id);\n    return $$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40);\n};\nconst getHorizontalAxisHeight = function (axisId) {\n    let $$ = this, config = $$.config, h = 30;\n    if (axisId === 'x' && !config.axis_x_show) { return 8; }\n    if (axisId === 'x' && config.axis_x_height) { return config.axis_x_height; }\n    if (axisId === 'y' && !config.axis_y_show) {\n        return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1;\n    }\n    if (axisId === 'y2' && !config.axis_y2_show) { return $$.rotated_padding_top; }\n    // Calculate x axis height when tick rotated\n    if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\n        h = 30 + $$.axis.getMaxTickWidth(axisId) * Math.cos(Math.PI * (90 - config.axis_x_tick_rotate) / 180);\n    }\n    // Calculate y axis height when tick rotated\n    if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\n        h = 30 + $$.axis.getMaxTickWidth(axisId) * Math.cos(Math.PI * (90 - config.axis_y_tick_rotate) / 180);\n    }\n    return h + ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) + (axisId === 'y2' ? -10 : 0);\n};\n\nconst getEventRectWidth = function () {\n    return Math.max(0, this.xAxis.tickInterval());\n};\n\nexport {\n    getCurrentWidth,\n    getCurrentHeight,\n    getCurrentPaddingTop,\n    getCurrentPaddingBottom,\n    getCurrentPaddingLeft,\n    getCurrentPaddingRight,\n    getParentRectValue,\n    getParentWidth,\n    getParentHeight,\n    getSvgLeft,\n    getAxisWidthByAxisId,\n    getHorizontalAxisHeight,\n    getEventRectWidth,\n};\n","import { CLASS } from './class';\nimport { isFunction } from './util';\n\nconst initBrush = function () {\n    let $$ = this, d3 = $$.d3;\n    $$.brush = d3.svg.brush().on('brush', () => { $$.redrawForBrush(); });\n    $$.brush.update = function () {\n        if ($$.context) { $$.context.select('.' + CLASS.brush).call(this); }\n        return this;\n    };\n    $$.brush.scale = function (scale) {\n        return $$.config.axis_rotated ? this.y(scale) : this.x(scale);\n    };\n};\nconst initSubchart = function () {\n    let $$ = this, config = $$.config,\n        context = $$.context = $$.svg.append('g').attr('transform', $$.getTranslate('context')),\n        visibility = config.subchart_show ? 'visible' : 'hidden';\n\n    context.style('visibility', visibility);\n\n    // Define g for chart area\n    context.append('g')\n        .attr('clip-path', $$.clipPathForSubchart)\n        .attr('class', CLASS.chart);\n\n    // Define g for bar chart area\n    context.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.chartBars);\n\n    // Define g for line chart area\n    context.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.chartLines);\n\n    // Add extent rect for Brush\n    context.append('g')\n        .attr('clip-path', $$.clipPath)\n        .attr('class', CLASS.brush)\n        .call($$.brush);\n\n    // ATTENTION: This must be called AFTER chart added\n    // Add Axis\n    $$.axes.subx = context.append('g')\n        .attr('class', CLASS.axisX)\n        .attr('transform', $$.getTranslate('subx'))\n        .attr('clip-path', config.axis_rotated ? '' : $$.clipPathForXAxis)\n        .style('visibility', config.subchart_axis_x_show ? visibility : 'hidden');\n};\nconst updateTargetsForSubchart = function (targets) {\n    let $$ = this, context = $$.context, config = $$.config,\n        contextLineEnter, contextLineUpdate, contextBarEnter, contextBarUpdate,\n        classChartBar = $$.classChartBar.bind($$),\n        classBars = $$.classBars.bind($$),\n        classChartLine = $$.classChartLine.bind($$),\n        classLines = $$.classLines.bind($$),\n        classAreas = $$.classAreas.bind($$);\n\n    if (config.subchart_show) {\n        // -- Bar --//\n        contextBarUpdate = context.select('.' + CLASS.chartBars).selectAll('.' + CLASS.chartBar)\n            .data(targets)\n            .attr('class', classChartBar);\n        contextBarEnter = contextBarUpdate.enter().append('g')\n            .style('opacity', 0)\n            .attr('class', classChartBar);\n        // Bars for each data\n        contextBarEnter.append('g')\n            .attr('class', classBars);\n\n        // -- Line --//\n        contextLineUpdate = context.select('.' + CLASS.chartLines).selectAll('.' + CLASS.chartLine)\n            .data(targets)\n            .attr('class', classChartLine);\n        contextLineEnter = contextLineUpdate.enter().append('g')\n            .style('opacity', 0)\n            .attr('class', classChartLine);\n        // Lines for each data\n        contextLineEnter.append('g')\n            .attr('class', classLines);\n        // Area\n        contextLineEnter.append('g')\n            .attr('class', classAreas);\n\n        // -- Brush --//\n        context.selectAll('.' + CLASS.brush + ' rect')\n            .attr(config.axis_rotated ? 'width' : 'height', config.axis_rotated ? $$.width2 : $$.height2);\n    }\n};\nconst updateBarForSubchart = function (durationForExit) {\n    const $$ = this;\n    $$.contextBar = $$.context.selectAll('.' + CLASS.bars).selectAll('.' + CLASS.bar)\n        .data($$.barData.bind($$));\n    $$.contextBar.enter().append('path')\n        .attr('class', $$.classBar.bind($$))\n        .style('stroke', 'none')\n        .style('fill', $$.color);\n    $$.contextBar\n        .style('opacity', $$.initialOpacity.bind($$));\n    $$.contextBar.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawBarForSubchart = function (drawBarOnSub, withTransition, duration) {\n    (withTransition ? this.contextBar.transition(Math.random().toString()).duration(duration) : this.contextBar)\n        .attr('d', drawBarOnSub)\n        .style('opacity', 1);\n};\nconst updateLineForSubchart = function (durationForExit) {\n    const $$ = this;\n    $$.contextLine = $$.context.selectAll('.' + CLASS.lines).selectAll('.' + CLASS.line)\n        .data($$.lineData.bind($$));\n    $$.contextLine.enter().append('path')\n        .attr('class', $$.classLine.bind($$))\n        .style('stroke', $$.color);\n    $$.contextLine\n        .style('opacity', $$.initialOpacity.bind($$));\n    $$.contextLine.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawLineForSubchart = function (drawLineOnSub, withTransition, duration) {\n    (withTransition ? this.contextLine.transition(Math.random().toString()).duration(duration) : this.contextLine)\n        .attr('d', drawLineOnSub)\n        .style('opacity', 1);\n};\nconst updateAreaForSubchart = function (durationForExit) {\n    let $$ = this, d3 = $$.d3;\n    $$.contextArea = $$.context.selectAll('.' + CLASS.areas).selectAll('.' + CLASS.area)\n        .data($$.lineData.bind($$));\n    $$.contextArea.enter().append('path')\n        .attr('class', $$.classArea.bind($$))\n        .style('fill', $$.color)\n        .style('opacity', function () { $$.orgAreaOpacity = +d3.select(this).style('opacity'); return 0; });\n    $$.contextArea\n        .style('opacity', 0);\n    $$.contextArea.exit().transition().duration(durationForExit)\n        .style('opacity', 0)\n        .remove();\n};\nconst redrawAreaForSubchart = function (drawAreaOnSub, withTransition, duration) {\n    (withTransition ? this.contextArea.transition(Math.random().toString()).duration(duration) : this.contextArea)\n        .attr('d', drawAreaOnSub)\n        .style('fill', this.color)\n        .style('opacity', this.orgAreaOpacity);\n};\nconst redrawSubchart = function (withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices) {\n    let $$ = this, d3 = $$.d3, config = $$.config,\n        drawAreaOnSub, drawBarOnSub, drawLineOnSub;\n\n    $$.context.style('visibility', config.subchart_show ? 'visible' : 'hidden');\n\n    // subchart\n    if (config.subchart_show) {\n        // reflect main chart to extent on subchart if zoomed\n        if (d3.event && d3.event.type === 'zoom') {\n            $$.brush.extent($$.x.orgDomain()).update();\n        }\n        // update subchart elements if needed\n        if (withSubchart) {\n            // extent rect\n            if (!$$.brush.empty()) {\n                $$.brush.extent($$.x.orgDomain()).update();\n            }\n            // setup drawer - MEMO: this must be called after axis updated\n            drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\n            drawBarOnSub = $$.generateDrawBar(barIndices, true);\n            drawLineOnSub = $$.generateDrawLine(lineIndices, true);\n\n            $$.updateBarForSubchart(duration);\n            $$.updateLineForSubchart(duration);\n            $$.updateAreaForSubchart(duration);\n\n            $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\n            $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\n            $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\n        }\n    }\n};\nconst redrawForBrush = function () {\n    let $$ = this, x = $$.x;\n    $$.redraw({\n        withTransition: false,\n        withY: $$.config.zoom_rescale,\n        withSubchart: false,\n        withUpdateXDomain: true,\n        withDimension: false,\n    });\n    $$.config.subchart_onbrush.call($$.api, x.orgDomain());\n};\nconst transformContext = function (withTransition, transitions) {\n    let $$ = this, subXAxis;\n    if (transitions && transitions.axisSubX) {\n        subXAxis = transitions.axisSubX;\n    } else {\n        subXAxis = $$.context.select('.' + CLASS.axisX);\n        if (withTransition) { subXAxis = subXAxis.transition(); }\n    }\n    $$.context.attr('transform', $$.getTranslate('context'));\n    subXAxis.attr('transform', $$.getTranslate('subx'));\n};\nconst getDefaultExtent = function () {\n    let $$ = this, config = $$.config,\n        extent = isFunction(config.axis_x_extent) ? config.axis_x_extent($$.getXDomain($$.data.targets)) : config.axis_x_extent;\n    if ($$.isTimeSeries()) {\n        extent = [$$.parseDate(extent[0]), $$.parseDate(extent[1])];\n    }\n    return extent;\n};\n\nexport {\n    initBrush,\n    initSubchart,\n    updateTargetsForSubchart,\n    updateBarForSubchart,\n    redrawBarForSubchart,\n    updateLineForSubchart,\n    redrawLineForSubchart,\n    updateAreaForSubchart,\n    redrawAreaForSubchart,\n    redrawSubchart,\n    redrawForBrush,\n    transformContext,\n    getDefaultExtent,\n};\n","import { CLASS } from './class';\n\nconst initText = function () {\n    const $$ = this;\n    $$.main.select('.' + CLASS.chart).append('g')\n        .attr('class', CLASS.chartTexts);\n    $$.mainText = $$.d3.selectAll([]);\n};\nconst updateTargetsForText = function (targets) {\n    let $$ = this, mainTextUpdate, mainTextEnter,\n        classChartText = $$.classChartText.bind($$),\n        classTexts = $$.classTexts.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainTextUpdate = $$.main.select('.' + CLASS.chartTexts).selectAll('.' + CLASS.chartText)\n        .data(targets)\n        .attr('class', (d) => { return classChartText(d) + classFocus(d); });\n    mainTextEnter = mainTextUpdate.enter().append('g')\n        .attr('class', classChartText)\n        .style('opacity', 0)\n        .style('pointer-events', 'none');\n    mainTextEnter.append('g')\n        .attr('class', classTexts);\n};\nconst updateText = function (durationForExit) {\n    let $$ = this, config = $$.config,\n        barOrLineData = $$.barOrLineData.bind($$),\n        classText = $$.classText.bind($$);\n    $$.mainText = $$.main.selectAll('.' + CLASS.texts).selectAll('.' + CLASS.text)\n        .data(barOrLineData);\n    $$.mainText.enter().append('text')\n        .attr('class', classText)\n        .attr('text-anchor', (d) => { return config.axis_rotated ? (d.value < 0 ? 'end' : 'start') : 'middle'; })\n        .style('stroke', 'none')\n        .style('fill', (d) => { return $$.color(d); })\n        .style('fill-opacity', 0);\n    $$.mainText\n        .text((d, i, j) => { return $$.dataLabelFormat(d.id)(d.value, d.id, i, j); });\n    $$.mainText.exit()\n        .transition().duration(durationForExit)\n        .style('fill-opacity', 0)\n        .remove();\n};\nconst redrawText = function (xForText, yForText, forFlow, withTransition) {\n    return [\n        (withTransition ? this.mainText.transition() : this.mainText)\n            .attr('x', xForText)\n            .attr('y', yForText)\n            .style('fill', this.color)\n            .style('fill-opacity', forFlow ? 0 : this.opacityForText.bind(this)),\n    ];\n};\nconst getTextRect = function (text, cls, element) {\n    let dummy = this.d3.select('body').append('div').classed('c3', true),\n        svg = dummy.append('svg').style('visibility', 'hidden').style('position', 'fixed').style('top', 0).style('left', 0),\n        font = this.d3.select(element).style('font'),\n        rect;\n    svg.selectAll('.dummy')\n        .data([text])\n      .enter().append('text')\n        .classed(cls ? cls : '', true)\n        .style('font', font)\n        .text(text)\n      .each(function () { rect = this.getBoundingClientRect(); });\n    dummy.remove();\n    return rect;\n};\nconst generateXYForText = function (areaIndices, barIndices, lineIndices, forX) {\n    let $$ = this,\n        getAreaPoints = $$.generateGetAreaPoints(areaIndices, false),\n        getBarPoints = $$.generateGetBarPoints(barIndices, false),\n        getLinePoints = $$.generateGetLinePoints(lineIndices, false),\n        getter = forX ? $$.getXForText : $$.getYForText;\n    return function (d, i) {\n        const getPoints = $$.isAreaType(d) ? getAreaPoints : $$.isBarType(d) ? getBarPoints : getLinePoints;\n        return getter.call($$, getPoints(d, i), d, this);\n    };\n};\nconst getXForText = function (points, d, textElement) {\n    let $$ = this,\n        box = textElement.getBoundingClientRect(), xPos, padding;\n    if ($$.config.axis_rotated) {\n        padding = $$.isBarType(d) ? 4 : 6;\n        xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\n    } else {\n        xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\n    }\n    // show labels regardless of the domain if value is null\n    if (d.value === null) {\n        if (xPos > $$.width) {\n            xPos = $$.width - box.width;\n        } else if (xPos < 0) {\n            xPos = 4;\n        }\n    }\n    return xPos;\n};\nconst getYForText = function (points, d, textElement) {\n    let $$ = this,\n        box = textElement.getBoundingClientRect(),\n        yPos;\n    if ($$.config.axis_rotated) {\n        yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\n    } else {\n        yPos = points[2][1];\n        if (d.value < 0 || (d.value === 0 && !$$.hasPositiveValue)) {\n            yPos += box.height;\n            if ($$.isBarType(d) && $$.isSafari()) {\n                yPos -= 3;\n            }\n            else if (!$$.isBarType(d) && $$.isChrome()) {\n                yPos += 3;\n            }\n        } else {\n            yPos += $$.isBarType(d) ? -3 : -6;\n        }\n    }\n    // show labels regardless of the domain if value is null\n    if (d.value === null && !$$.config.axis_rotated) {\n        if (yPos < box.height) {\n            yPos = box.height;\n        } else if (yPos > this.height) {\n            yPos = this.height - 4;\n        }\n    }\n    return yPos;\n};\n\nexport {\n    initText,\n    updateTargetsForText,\n    updateText,\n    redrawText,\n    getTextRect,\n    generateXYForText,\n    getXForText,\n    getYForText,\n};\n","const initTitle = function () {\n    const $$ = this;\n    $$.title = $$.svg.append('text')\n          .text($$.config.title_text)\n          .attr('class', $$.CLASS.title);\n};\nconst redrawTitle = function () {\n    const $$ = this;\n    $$.title\n          .attr('x', $$.xForTitle.bind($$))\n          .attr('y', $$.yForTitle.bind($$));\n};\nconst xForTitle = function () {\n    let $$ = this, config = $$.config, position = config.title_position || 'left', x;\n    if (position.indexOf('right') >= 0) {\n        x = $$.currentWidth - $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width - config.title_padding.right;\n    } else if (position.indexOf('center') >= 0) {\n        x = ($$.currentWidth - $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width) / 2;\n    } else { // left\n        x = config.title_padding.left;\n    }\n    return x;\n};\nconst yForTitle = function () {\n    const $$ = this;\n    return $$.config.title_padding.top + $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).height;\n};\nconst getTitlePadding = function () {\n    const $$ = this;\n    return $$.yForTitle() + $$.config.title_padding.bottom;\n};\n\nexport {\n    initTitle,\n    redrawTitle,\n    xForTitle,\n    yForTitle,\n    getTitlePadding,\n};\n","import { isString, sanitise, isValue } from './util';\nimport { CLASS } from './class';\nimport { c3_chart_internal_fn } from './index';\n\nconst initTooltip = function () {\n    let $$ = this, config = $$.config, i;\n    $$.tooltip = $$.selectChart\n        .style('position', 'relative')\n      .append('div')\n        .attr('class', CLASS.tooltipContainer)\n        .style('position', 'absolute')\n        .style('pointer-events', 'none')\n        .style('display', 'none');\n    // Show tooltip if needed\n    if (config.tooltip_init_show) {\n        if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\n            config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\n            for (i = 0; i < $$.data.targets[0].values.length; i++) {\n                if (($$.data.targets[0].values[i].x - config.tooltip_init_x) === 0) { break; }\n            }\n            config.tooltip_init_x = i;\n        }\n        $$.tooltip.html(config.tooltip_contents.call($$, $$.data.targets.map((d) => {\n            return $$.addName(d.values[config.tooltip_init_x]);\n        }), $$.axis.getXAxisTickFormat(), $$.getYFormat($$.hasArcType()), $$.color));\n        $$.tooltip.style('top', config.tooltip_init_position.top)\n            .style('left', config.tooltip_init_position.left)\n            .style('display', 'block');\n    }\n};\nconst getTooltipContent = function (d, defaultTitleFormat, defaultValueFormat, color) {\n    let $$ = this, config = $$.config,\n        titleFormat = config.tooltip_format_title || defaultTitleFormat,\n        nameFormat = config.tooltip_format_name || function (name) { return name; },\n        valueFormat = config.tooltip_format_value || defaultValueFormat,\n        text, i, title, value, name, bgcolor,\n        orderAsc = $$.isOrderAsc();\n\n    if (config.data_groups.length === 0) {\n        d.sort((a, b) => {\n            let v1 = a ? a.value : null, v2 = b ? b.value : null;\n            return orderAsc ? v1 - v2 : v2 - v1;\n        });\n    } else {\n        const ids = $$.orderTargets($$.data.targets).map((i) => {\n            return i.id;\n        });\n        d.sort((a, b) => {\n            let v1 = a ? a.value : null, v2 = b ? b.value : null;\n            if (v1 > 0 && v2 > 0) {\n                v1 = a ? ids.indexOf(a.id) : null;\n                v2 = b ? ids.indexOf(b.id) : null;\n            }\n            return orderAsc ? v1 - v2 : v2 - v1;\n        });\n    }\n\n    for (i = 0; i < d.length; i++) {\n        if (!(d[i] && (d[i].value || d[i].value === 0))) { continue; }\n\n        if (!text) {\n            title = sanitise(titleFormat ? titleFormat(d[i].x) : d[i].x);\n            text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + (title || title === 0 ? \"<tr><th colspan='2'>\" + title + '</th></tr>' : '');\n        }\n\n        value = sanitise(valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d));\n        if (value !== undefined) {\n            // Skip elements when their name is set to null\n            if (d[i].name === null) { continue; }\n            name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\n            bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\n\n            text += \"<tr class='\" + $$.CLASS.tooltipName + '-' + $$.getTargetSelectorSuffix(d[i].id) + \"'>\";\n            text += \"<td class='name'><span style='background-color:\" + bgcolor + \"'></span>\" + name + '</td>';\n            text += \"<td class='value'>\" + value + '</td>';\n            text += '</tr>';\n        }\n    }\n    return text + '</table>';\n};\nconst tooltipPosition = function (dataToShow, tWidth, tHeight, element) {\n    let $$ = this, config = $$.config, d3 = $$.d3;\n    let svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\n    let forArc = $$.hasArcType(),\n        mouse = d3.mouse(element);\n  // Determin tooltip position\n    if (forArc) {\n        tooltipLeft = (($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2) + mouse[0];\n        tooltipTop = ($$.height / 2) + mouse[1] + 20;\n    } else {\n        svgLeft = $$.getSvgLeft(true);\n        if (config.axis_rotated) {\n            tooltipLeft = svgLeft + mouse[0] + 100;\n            tooltipRight = tooltipLeft + tWidth;\n            chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\n            tooltipTop = $$.x(dataToShow[0].x) + 20;\n        } else {\n            tooltipLeft = svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\n            tooltipRight = tooltipLeft + tWidth;\n            chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\n            tooltipTop = mouse[1] + 15;\n        }\n\n        if (tooltipRight > chartRight) {\n            // 20 is needed for Firefox to keep tooltip width\n            tooltipLeft -= tooltipRight - chartRight + 20;\n        }\n        if (tooltipTop + tHeight > $$.currentHeight) {\n            tooltipTop -= tHeight + 30;\n        }\n    }\n    if (tooltipTop < 0) {\n        tooltipTop = 0;\n    }\n    return { top: tooltipTop, left: tooltipLeft };\n};\nconst showTooltip = function (selectedData, element) {\n    let $$ = this, config = $$.config;\n    let tWidth, tHeight, position;\n    let forArc = $$.hasArcType(),\n        dataToShow = selectedData.filter((d) => { return d && isValue(d.value); }),\n        positionFunction = config.tooltip_position || c3_chart_internal_fn.tooltipPosition;\n    if (dataToShow.length === 0 || !config.tooltip_show) {\n        return;\n    }\n    $$.tooltip.html(config.tooltip_contents.call($$, selectedData, $$.axis.getXAxisTickFormat(), $$.getYFormat(forArc), $$.color)).style('display', 'block');\n\n    // Get tooltip dimensions\n    tWidth = $$.tooltip.property('offsetWidth');\n    tHeight = $$.tooltip.property('offsetHeight');\n\n    position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\n    // Set tooltip\n    $$.tooltip\n        .style('top', position.top + 'px')\n        .style('left', position.left + 'px');\n};\nconst hideTooltip = function () {\n    this.tooltip.style('display', 'none');\n};\n\nexport {\n    initTooltip,\n    getTooltipContent,\n    tooltipPosition,\n    showTooltip,\n    hideTooltip,\n};\n","const transformTo = function (targetIds, type, optionsForRedraw) {\n    let $$ = this,\n        withTransitionForAxis = !$$.hasArcType(),\n        options = optionsForRedraw || { withTransitionForAxis };\n    options.withTransitionForTransform = false;\n    $$.transiting = false;\n    $$.setTargetType(targetIds, type);\n    $$.updateTargets($$.data.targets); // this is needed when transforming to arc\n    $$.updateAndRedraw(options);\n};\n\nexport { transformTo };\n","import { isString } from './util';\n\nconst setTargetType = function (targetIds, type) {\n    let $$ = this, config = $$.config;\n    $$.mapToTargetIds(targetIds).forEach((id) => {\n        $$.withoutFadeIn[id] = (type === config.data_types[id]);\n        config.data_types[id] = type;\n    });\n    if (!targetIds) {\n        config.data_type = type;\n    }\n};\nconst hasType = function (type, targets) {\n    let $$ = this, types = $$.config.data_types, has = false;\n    targets = targets || $$.data.targets;\n    if (targets && targets.length) {\n        targets.forEach((target) => {\n            const t = types[target.id];\n            if ((t && t.indexOf(type) >= 0) || (!t && type === 'line')) {\n                has = true;\n            }\n        });\n    } else if (Object.keys(types).length) {\n        Object.keys(types).forEach((id) => {\n            if (types[id] === type) { has = true; }\n        });\n    } else {\n        has = $$.config.data_type === type;\n    }\n    return has;\n};\nconst hasArcType = function (targets) {\n    return this.hasType('pie', targets) || this.hasType('donut', targets) || this.hasType('gauge', targets);\n};\nconst isLineType = function (d) {\n    let config = this.config, id = isString(d) ? d : d.id;\n    return !config.data_types[id] || ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(config.data_types[id]) >= 0;\n};\nconst isStepType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\n};\nconst isSplineType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0;\n};\nconst isAreaType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return ['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\n};\nconst isBarType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'bar';\n};\nconst isScatterType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'scatter';\n};\nconst isPieType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'pie';\n};\nconst isGaugeType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'gauge';\n};\nconst isDonutType = function (d) {\n    const id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'donut';\n};\nconst isArcType = function (d) {\n    return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d);\n};\nconst lineData = function (d) {\n    return this.isLineType(d) ? [d] : [];\n};\nconst arcData = function (d) {\n    return this.isArcType(d.data) ? [d] : [];\n};\n/* not used\n function scatterData(d) {\n return isScatterType(d) ? d.values : [];\n }\n */\nconst barData = function (d) {\n    return this.isBarType(d) ? d.values : [];\n};\nconst lineOrScatterData = function (d) {\n    return this.isLineType(d) || this.isScatterType(d) ? d.values : [];\n};\nconst barOrLineData = function (d) {\n    return this.isBarType(d) || this.isLineType(d) ? d.values : [];\n};\nconst isInterpolationType = function (type) {\n    return ['linear', 'linear-closed', 'basis', 'basis-open', 'basis-closed', 'bundle', 'cardinal', 'cardinal-open', 'cardinal-closed', 'monotone'].indexOf(type) >= 0;\n};\n\nexport {\n    setTargetType,\n    hasType,\n    hasArcType,\n    isLineType,\n    isStepType,\n    isSplineType,\n    isAreaType,\n    isBarType,\n    isScatterType,\n    isPieType,\n    isGaugeType,\n    isDonutType,\n    isArcType,\n    lineData,\n    arcData,\n    barData,\n    lineOrScatterData,\n    barOrLineData,\n    isInterpolationType,\n};\n","const isSafari = function () {\n    const ua = window.navigator.userAgent;\n    return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0;\n};\nconst isChrome = function () {\n    const ua = window.navigator.userAgent;\n    return ua.indexOf('Chrome') >= 0;\n};\n\nexport { isSafari, isChrome };\n","import { diffDomain } from './util';\nimport { CLASS } from './class';\n\nconst initZoom = function () {\n    let $$ = this, d3 = $$.d3, config = $$.config, startEvent;\n\n    $$.zoom = d3.behavior.zoom()\n        .on('zoomstart', () => {\n            startEvent = d3.event.sourceEvent;\n            $$.zoom.altDomain = d3.event.sourceEvent.altKey ? $$.x.orgDomain() : null;\n            config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\n        })\n        .on('zoom', () => {\n            $$.redrawForZoom.call($$);\n        })\n        .on('zoomend', () => {\n            const event = d3.event.sourceEvent;\n            // if click, do nothing. otherwise, click interaction will be canceled.\n            if (event && startEvent.clientX === event.clientX && startEvent.clientY === event.clientY) {\n                return;\n            }\n            $$.redrawEventRect();\n            $$.updateZoom();\n            config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\n        });\n    $$.zoom.scale = function (scale) {\n        return config.axis_rotated ? this.y(scale) : this.x(scale);\n    };\n    $$.zoom.orgScaleExtent = function () {\n        const extent = config.zoom_extent ? config.zoom_extent : [1, 10];\n        return [extent[0], Math.max($$.getMaxDataCount() / extent[1], extent[1])];\n    };\n    $$.zoom.updateScaleExtent = function () {\n        let ratio = diffDomain($$.x.orgDomain()) / diffDomain($$.getZoomDomain()),\n            extent = this.orgScaleExtent();\n        this.scaleExtent([extent[0] * ratio, extent[1] * ratio]);\n        return this;\n    };\n};\nconst getZoomDomain = function () {\n    let $$ = this, config = $$.config, d3 = $$.d3,\n        min = d3.min([$$.orgXDomain[0], config.zoom_x_min]),\n        max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\n    return [min, max];\n};\nconst updateZoom = function () {\n    let $$ = this, z = $$.config.zoom_enabled ? $$.zoom : function () {};\n    $$.main.select('.' + CLASS.zoomRect).call(z).on('dblclick.zoom', null);\n    $$.main.selectAll('.' + CLASS.eventRect).call(z).on('dblclick.zoom', null);\n};\nconst redrawForZoom = function () {\n    let $$ = this, d3 = $$.d3, config = $$.config, zoom = $$.zoom, x = $$.x;\n    if (!config.zoom_enabled) {\n        return;\n    }\n    if ($$.filterTargetsToShow($$.data.targets).length === 0) {\n        return;\n    }\n    if (d3.event.sourceEvent.type === 'mousemove' && zoom.altDomain) {\n        x.domain(zoom.altDomain);\n        zoom.scale(x).updateScaleExtent();\n        return;\n    }\n    if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\n        x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\n    }\n    $$.redraw({\n        withTransition: false,\n        withY: config.zoom_rescale,\n        withSubchart: false,\n        withEventRect: false,\n        withDimension: false,\n    });\n    if (d3.event.sourceEvent.type === 'mousemove') {\n        $$.cancelClick = true;\n    }\n    config.zoom_onzoom.call($$.api, x.orgDomain());\n};\n\nexport {\n    initZoom,\n    getZoomDomain,\n    updateZoom,\n    redrawForZoom,\n};\n","/**\n * This file is seriously in need of some reorganization.\n */\n\nimport d3 from 'd3';\nimport { Axis } from '../axis/index';\n\nimport {\n    initPie,\n    updateRadius,\n    updateArc,\n    updateAngle,\n    getSvgArc,\n    getSvgArcExpanded,\n    getArc,\n    transformForArcLabel,\n    getArcRatio,\n    convertToArcData,\n    textForArcLabel,\n    expandArc,\n    unexpandArc,\n    expandDuration,\n    shouldExpand,\n    shouldShowArcLabel,\n    meetsArcLabelThreshold,\n    getArcLabelFormat,\n    getArcTitle,\n    updateTargetsForArc,\n    initArc,\n    redrawArc,\n    initGauge,\n    getGaugeLabelHeight,\n} from './arc';\n\nimport {\n    hasCaches,\n    addCache,\n    getCaches,\n} from './cache';\n\nimport { categoryName } from './category';\n\nimport {\n    CLASS,\n    generateClass,\n    classText,\n    classTexts,\n    classShape,\n    classShapes,\n    classLine,\n    classLines,\n    classCircle,\n    classCircles,\n    classBar,\n    classBars,\n    classArc,\n    classArcs,\n    classArea,\n    classAreas,\n    classRegion,\n    classEvent,\n    classTarget,\n    classFocus,\n    classFocused,\n    classDefocused,\n    classChartText,\n    classChartLine,\n    classChartBar,\n    classChartArc,\n    getTargetSelectorSuffix,\n    selectorTarget,\n    selectorTargets,\n    selectorLegend,\n    selectorLegends,\n} from './class';\n\nimport {\n    getClipPath,\n    appendClip,\n    getAxisClipX,\n    getAxisClipY,\n    getXAxisClipX,\n    getXAxisClipY,\n    getYAxisClipX,\n    getYAxisClipY,\n    getAxisClipWidth,\n    getAxisClipHeight,\n    getXAxisClipWidth,\n    getXAxisClipHeight,\n    getYAxisClipWidth,\n    getYAxisClipHeight,\n} from './clip';\n\nimport {\n    generateColor,\n    generateLevelColor\n} from './color';\n\nimport {\n    getDefaultConfig,\n    additionalConfig,\n    loadConfig,\n} from './config';\n\nimport {\n    convertUrlToData,\n    convertXsvToData,\n    convertCsvToData,\n    convertTsvToData,\n    convertJsonToData,\n    findValueInJson,\n    convertRowsToData,\n    convertColumnsToData,\n    convertDataToTargets,\n} from './data.convert';\n\nimport {\n    isX,\n    isNotX,\n    getXKey,\n    getXValuesOfXKey,\n    getIndexByX,\n    getXValue,\n    getOtherTargetXs,\n    getOtherTargetX,\n    addXs,\n    hasMultipleX,\n    isMultipleX,\n    addName,\n    getValueOnIndex,\n    updateTargetX,\n    updateTargetXs,\n    generateTargetX,\n    cloneTarget,\n    updateXs,\n    getPrevX,\n    getNextX,\n    getMaxDataCount,\n    getMaxDataCountTarget,\n    getEdgeX,\n    mapToIds,\n    mapToTargetIds,\n    hasTarget,\n    isTargetToShow,\n    isLegendToShow,\n    filterTargetsToShow,\n    mapTargetsToUniqueXs,\n    addHiddenTargetIds,\n    removeHiddenTargetIds,\n    addHiddenLegendIds,\n    removeHiddenLegendIds,\n    getValuesAsIdKeyed,\n    checkValueInTargets,\n    hasNegativeValueInTargets,\n    hasPositiveValueInTargets,\n    isOrderDesc,\n    isOrderAsc,\n    orderTargets,\n    filterByX,\n    filterRemoveNull,\n    filterByXDomain,\n    hasDataLabel,\n    getDataLabelLength,\n    isNoneArc,\n    isArc,\n    findSameXOfValues,\n    findClosestFromTargets,\n    findClosest,\n    dist,\n    convertValuesToStep,\n    updateDataAttributes,\n} from './data';\n\nimport {\n    load,\n    loadFromArgs,\n    unload,\n} from './data.load';\n\nimport {\n    getYDomainMin,\n    getYDomainMax,\n    getYDomain,\n    getXDomainMin,\n    getXDomainMax,\n    getXDomainPadding,\n    getXDomain,\n    updateXDomain,\n    trimXDomain,\n} from './domain';\n\nimport {\n    drag,\n    dragstart,\n    dragend,\n} from './drag';\n\nimport { generateFlow } from './flow';\n\nimport {\n    getYFormat,\n    yFormat,\n    y2Format,\n    defaultValueFormat,\n    defaultArcValueFormat,\n    dataLabelFormat,\n} from './format';\n\nimport {\n    initGrid,\n    initGridLines,\n    updateXGrid,\n    updateYGrid,\n    gridTextAnchor,\n    gridTextDx,\n    xGridTextX,\n    yGridTextX,\n    updateGrid,\n    redrawGrid,\n    showXGridFocus,\n    hideXGridFocus,\n    updateXgridFocus,\n    generateGridData,\n    getGridFilterToRemove,\n    removeGridLines,\n} from './grid';\n\nimport {\n    initEventRect,\n    redrawEventRect,\n    updateEventRect,\n    generateEventRectsForSingleX,\n    generateEventRectsForMultipleXs,\n    dispatchEvent,\n} from './interaction';\n\nimport {\n    initLegend,\n    updateLegendWithDefaults,\n    updateSizeForLegend,\n    transformLegend,\n    updateLegendStep,\n    updateLegendItemWidth,\n    updateLegendItemHeight,\n    getLegendWidth,\n    getLegendHeight,\n    opacityForLegend,\n    opacityForUnfocusedLegend,\n    toggleFocusLegend,\n    revertLegend,\n    showLegend,\n    hideLegend,\n    clearLegendItemTextBoxCache,\n    updateLegend,\n} from './legend';\n\nimport {\n    initRegion,\n    updateRegion,\n    redrawRegion,\n    regionX,\n    regionY,\n    regionWidth,\n    regionHeight,\n    isRegionOnX,\n} from './region';\n\nimport {\n    getScale,\n    getX,\n    getY,\n    getYScale,\n    getSubYScale,\n    updateScales,\n} from './scale';\n\nimport {\n    selectPoint,\n    unselectPoint,\n    togglePoint,\n    selectPath,\n    unselectPath,\n    togglePath,\n    getToggle,\n    toggleShape,\n} from './selection';\n\nimport {\n    initBar,\n    updateTargetsForBar,\n    updateBar,\n    redrawBar,\n    getBarW,\n    getBars,\n    expandBars,\n    unexpandBars,\n    generateDrawBar,\n    generateGetBarPoints,\n    isWithinBar,\n} from './shape.bar';\n\nimport {\n    getShapeIndices,\n    getShapeX,\n    getShapeY,\n    getShapeOffset,\n    isWithinShape,\n    getInterpolate,\n} from './shape';\n\nimport {\n    initLine,\n    updateTargetsForLine,\n    updateLine,\n    redrawLine,\n    generateDrawLine,\n    generateGetLinePoints,\n    lineWithRegions,\n    updateArea,\n    redrawArea,\n    generateDrawArea,\n    getAreaBaseValue,\n    generateGetAreaPoints,\n    updateCircle,\n    redrawCircle,\n    circleX,\n    updateCircleY,\n    getCircles,\n    expandCircles,\n    unexpandCircles,\n    pointR,\n    pointExpandedR,\n    pointSelectR,\n    isWithinCircle,\n    isWithinStep,\n} from './shape.line';\n\nimport {\n    getCurrentWidth,\n    getCurrentHeight,\n    getCurrentPaddingTop,\n    getCurrentPaddingBottom,\n    getCurrentPaddingLeft,\n    getCurrentPaddingRight,\n    getParentRectValue,\n    getParentWidth,\n    getParentHeight,\n    getSvgLeft,\n    getAxisWidthByAxisId,\n    getHorizontalAxisHeight,\n    getEventRectWidth,\n} from './size';\n\nimport {\n    initBrush,\n    initSubchart,\n    updateTargetsForSubchart,\n    updateBarForSubchart,\n    redrawBarForSubchart,\n    updateLineForSubchart,\n    redrawLineForSubchart,\n    updateAreaForSubchart,\n    redrawAreaForSubchart,\n    redrawSubchart,\n    redrawForBrush,\n    transformContext,\n    getDefaultExtent,\n} from './subchart';\n\nimport {\n    initText,\n    updateTargetsForText,\n    updateText,\n    redrawText,\n    getTextRect,\n    generateXYForText,\n    getXForText,\n    getYForText,\n} from './text';\n\nimport {\n    initTitle,\n    redrawTitle,\n    xForTitle,\n    yForTitle,\n    getTitlePadding,\n} from './title';\n\nimport {\n    initTooltip,\n    getTooltipContent,\n    tooltipPosition,\n    showTooltip,\n    hideTooltip,\n} from './tooltip';\n\nimport { transformTo } from './transform';\n\nimport {\n    setTargetType,\n    hasType,\n    hasArcType,\n    isLineType,\n    isStepType,\n    isSplineType,\n    isAreaType,\n    isBarType,\n    isScatterType,\n    isPieType,\n    isGaugeType,\n    isDonutType,\n    isArcType,\n    lineData,\n    arcData,\n    barData,\n    lineOrScatterData,\n    barOrLineData,\n    isInterpolationType,\n} from './type';\n\nimport {\n    isSafari,\n    isChrome\n} from './ua';\n\nimport {\n    initZoom,\n    getZoomDomain,\n    updateZoom,\n    redrawForZoom,\n} from './zoom';\n\nimport * as util from './util';\n\nexport const {\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n} = util;\n\n// Start ChartInternal!!!!\nfunction ChartInternal(api) {\n    const $$ = this;\n    $$.d3 = d3;\n    $$.api = api;\n    $$.config = $$.getDefaultConfig();\n    $$.data = {};\n    $$.cache = {};\n    $$.axes = {};\n}\n\nconst c3_chart_internal_fn = ChartInternal.prototype;\n\nc3_chart_internal_fn.beforeInit = function () {\n    // can do something\n};\nc3_chart_internal_fn.afterInit = function () {\n    // can do something\n};\nc3_chart_internal_fn.init = function () {\n    let $$ = this,\n        config = $$.config;\n\n    $$.initParams();\n\n    if (config.data_url) {\n        $$.convertUrlToData(config.data_url, config.data_mimeType, config.data_headers, config.data_keys, $$.initWithData);\n    } else if (config.data_json) {\n        $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\n    } else if (config.data_rows) {\n        $$.initWithData($$.convertRowsToData(config.data_rows));\n    } else if (config.data_columns) {\n        $$.initWithData($$.convertColumnsToData(config.data_columns));\n    } else {\n        throw Error('url or json or rows or columns is required.');\n    }\n};\n\nc3_chart_internal_fn.initParams = function () {\n    let $$ = this,\n        d3 = $$.d3,\n        config = $$.config;\n\n    // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\n    $$.clipId = 'c3-' + (+new Date()) + '-clip',\n        $$.clipIdForXAxis = $$.clipId + '-xaxis',\n        $$.clipIdForYAxis = $$.clipId + '-yaxis',\n        $$.clipIdForGrid = $$.clipId + '-grid',\n        $$.clipIdForSubchart = $$.clipId + '-subchart',\n        $$.clipPath = $$.getClipPath($$.clipId),\n        $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis),\n        $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\n    $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid),\n        $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart),\n\n        $$.dragStart = null;\n    $$.dragging = false;\n    $$.flowing = false;\n    $$.cancelClick = false;\n    $$.mouseover = false;\n    $$.transiting = false;\n\n    $$.color = $$.generateColor();\n    $$.levelColor = $$.generateLevelColor();\n\n    $$.dataTimeFormat = config.data_xLocaltime ? d3.time.format : d3.time.format.utc;\n    $$.axisTimeFormat = config.axis_x_localtime ? d3.time.format : d3.time.format.utc;\n    $$.defaultAxisTimeFormat = $$.axisTimeFormat.multi([\n        ['.%L', function (d) {\n            return d.getMilliseconds();\n        }],\n        [':%S', function (d) {\n            return d.getSeconds();\n        }],\n        ['%I:%M', function (d) {\n            return d.getMinutes();\n        }],\n        ['%I %p', function (d) {\n            return d.getHours();\n        }],\n        ['%-m/%-d', function (d) {\n            return d.getDay() && d.getDate() !== 1;\n        }],\n        ['%-m/%-d', function (d) {\n            return d.getDate() !== 1;\n        }],\n        ['%-m/%-d', function (d) {\n            return d.getMonth();\n        }],\n        ['%Y/%-m/%-d', function () {\n            return true;\n        }],\n    ]);\n\n    $$.hiddenTargetIds = [];\n    $$.hiddenLegendIds = [];\n    $$.focusedTargetIds = [];\n    $$.defocusedTargetIds = [];\n\n    $$.xOrient = config.axis_rotated ? 'left' : 'bottom';\n    $$.yOrient = config.axis_rotated ? (config.axis_y_inner ? 'top' : 'bottom') : (config.axis_y_inner ? 'right' : 'left');\n    $$.y2Orient = config.axis_rotated ? (config.axis_y2_inner ? 'bottom' : 'top') : (config.axis_y2_inner ? 'left' : 'right');\n    $$.subXOrient = config.axis_rotated ? 'left' : 'bottom';\n\n    $$.isLegendRight = config.legend_position === 'right';\n    $$.isLegendInset = config.legend_position === 'inset';\n    $$.isLegendTop = config.legend_inset_anchor === 'top-left' || config.legend_inset_anchor === 'top-right';\n    $$.isLegendLeft = config.legend_inset_anchor === 'top-left' || config.legend_inset_anchor === 'bottom-left';\n    $$.legendStep = 0;\n    $$.legendItemWidth = 0;\n    $$.legendItemHeight = 0;\n\n    $$.currentMaxTickWidths = {\n        x: 0,\n        y: 0,\n        y2: 0,\n    };\n\n    $$.rotated_padding_left = 30;\n    $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\n    $$.rotated_padding_top = 5;\n\n    $$.withoutFadeIn = {};\n\n    $$.intervalForObserveInserted = undefined;\n\n    $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\n};\n\nc3_chart_internal_fn.initChartElements = function () {\n    if (this.initBar) { this.initBar(); }\n    if (this.initLine) { this.initLine(); }\n    if (this.initArc) { this.initArc(); }\n    if (this.initGauge) { this.initGauge(); }\n    if (this.initText) { this.initText(); }\n};\n\nc3_chart_internal_fn.initWithData = function (data) {\n    let $$ = this,\n        d3 = $$.d3,\n        config = $$.config;\n    let defs, main, binding = true;\n\n    $$.axis = new Axis($$);\n\n    if ($$.initPie) { $$.initPie(); }\n    if ($$.initBrush) { $$.initBrush(); }\n    if ($$.initZoom) { $$.initZoom(); }\n\n    if (!config.bindto) {\n        $$.selectChart = d3.selectAll([]);\n    } else if (typeof config.bindto.node === 'function') {\n        $$.selectChart = config.bindto;\n    } else {\n        $$.selectChart = d3.select(config.bindto);\n    }\n    if ($$.selectChart.empty()) {\n        $$.selectChart = d3.select(document.createElement('div')).style('opacity', 0);\n        $$.observeInserted($$.selectChart);\n        binding = false;\n    }\n    $$.selectChart.html('').classed('c3', true);\n\n    // Init data as targets\n    $$.data.xs = {};\n    $$.data.targets = $$.convertDataToTargets(data);\n\n    if (config.data_filter) {\n        $$.data.targets = $$.data.targets.filter(config.data_filter);\n    }\n\n    // Set targets to hide if needed\n    if (config.data_hide) {\n        $$.addHiddenTargetIds(config.data_hide === true ? $$.mapToIds($$.data.targets) : config.data_hide);\n    }\n    if (config.legend_hide) {\n        $$.addHiddenLegendIds(config.legend_hide === true ? $$.mapToIds($$.data.targets) : config.legend_hide);\n    }\n\n    // when gauge, hide legend // TODO: fix\n    if ($$.hasType('gauge')) {\n        config.legend_show = false;\n    }\n\n    // Init sizes and scales\n    $$.updateSizes();\n    $$.updateScales();\n\n    // Set domains for each scale\n    $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\n    $$.y.domain($$.getYDomain($$.data.targets, 'y'));\n    $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\n    $$.subX.domain($$.x.domain());\n    $$.subY.domain($$.y.domain());\n    $$.subY2.domain($$.y2.domain());\n\n    // Save original x domain for zoom update\n    $$.orgXDomain = $$.x.domain();\n\n    // Set initialized scales to brush and zoom\n    if ($$.brush) { $$.brush.scale($$.subX); }\n    if (config.zoom_enabled) { $$.zoom.scale($$.x); }\n\n    /* -- Basic Elements --*/\n\n    // Define svgs\n    $$.svg = $$.selectChart.append('svg')\n        .style('overflow', 'hidden')\n        .on('mouseenter', () => {\n            return config.onmouseover.call($$);\n        })\n        .on('mouseleave', () => {\n            return config.onmouseout.call($$);\n        });\n\n    if ($$.config.svg_classname) {\n        $$.svg.attr('class', $$.config.svg_classname);\n    }\n\n    // Define defs\n    defs = $$.svg.append('defs');\n    $$.clipChart = $$.appendClip(defs, $$.clipId);\n    $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\n    $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\n    $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\n    $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\n    $$.updateSvgSize();\n\n    // Define regions\n    main = $$.main = $$.svg.append('g').attr('transform', $$.getTranslate('main'));\n\n    if ($$.initSubchart) { $$.initSubchart(); }\n    if ($$.initTooltip) { $$.initTooltip(); }\n    if ($$.initLegend) { $$.initLegend(); }\n    if ($$.initTitle) { $$.initTitle(); }\n\n    /* -- Main Region --*/\n\n    // text when empty\n    main.append('text')\n        .attr('class', CLASS.text + ' ' + CLASS.empty)\n        .attr('text-anchor', 'middle') // horizontal centering of text at x position in all browsers.\n        .attr('dominant-baseline', 'middle'); // vertical centering of text at y position in all browsers, except IE.\n\n    // Regions\n    $$.initRegion();\n\n    // Grids\n    $$.initGrid();\n\n    // Define g for chart area\n    main.append('g')\n        .attr('clip-path', $$.clipPath)\n        .attr('class', CLASS.chart);\n\n    // Grid lines\n    if (config.grid_lines_front) { $$.initGridLines(); }\n\n    // Cover whole with rects for events\n    $$.initEventRect();\n\n    // Define g for chart\n    $$.initChartElements();\n\n    // if zoom privileged, insert rect to forefront\n    // TODO: is this needed?\n    main.insert('rect', config.zoom_privileged ? null : 'g.' + CLASS.regions)\n        .attr('class', CLASS.zoomRect)\n        .attr('width', $$.width)\n        .attr('height', $$.height)\n        .style('opacity', 0)\n        .on('dblclick.zoom', null);\n\n    // Set default extent if defined\n    if (config.axis_x_extent) { $$.brush.extent($$.getDefaultExtent()); }\n\n    // Add Axis\n    $$.axis.init();\n\n    // Set targets\n    $$.updateTargets($$.data.targets);\n\n    // Draw with targets\n    if (binding) {\n        $$.updateDimension();\n        $$.config.oninit.call($$);\n        $$.redraw({\n            withTransition: false,\n            withTransform: true,\n            withUpdateXDomain: true,\n            withUpdateOrgXDomain: true,\n            withTransitionForAxis: false,\n        });\n    }\n\n    // Bind resize event\n    $$.bindResize();\n\n    // export element of the chart\n    $$.api.element = $$.selectChart.node();\n};\n\nc3_chart_internal_fn.smoothLines = function (el, type) {\n    const $$ = this;\n    if (type === 'grid') {\n        el.each(function () {\n            let g = $$.d3.select(this),\n                x1 = g.attr('x1'),\n                x2 = g.attr('x2'),\n                y1 = g.attr('y1'),\n                y2 = g.attr('y2');\n            g.attr({\n                'x1': Math.ceil(x1),\n                'x2': Math.ceil(x2),\n                'y1': Math.ceil(y1),\n                'y2': Math.ceil(y2),\n            });\n        });\n    }\n};\n\n\nc3_chart_internal_fn.updateSizes = function () {\n    let $$ = this,\n        config = $$.config;\n    let legendHeight = $$.legend ? $$.getLegendHeight() : 0,\n        legendWidth = $$.legend ? $$.getLegendWidth() : 0,\n        legendHeightForBottom = $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight,\n        hasArc = $$.hasArcType(),\n        xAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'),\n        subchartHeight = config.subchart_show && !hasArc ? (config.subchart_size_height + xAxisHeight) : 0;\n\n    $$.currentWidth = $$.getCurrentWidth();\n    $$.currentHeight = $$.getCurrentHeight();\n\n    // for main\n    $$.margin = config.axis_rotated ? {\n        top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\n        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n        bottom: $$.getHorizontalAxisHeight('y') + legendHeightForBottom + $$.getCurrentPaddingBottom(),\n        left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft()),\n    } : {\n        top: 4 + $$.getCurrentPaddingTop(), // for top tick text\n        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n        bottom: xAxisHeight + subchartHeight + legendHeightForBottom + $$.getCurrentPaddingBottom(),\n        left: hasArc ? 0 : $$.getCurrentPaddingLeft(),\n    };\n\n    // for subchart\n    $$.margin2 = config.axis_rotated ? {\n        top: $$.margin.top,\n        right: NaN,\n        bottom: 20 + legendHeightForBottom,\n        left: $$.rotated_padding_left,\n    } : {\n        top: $$.currentHeight - subchartHeight - legendHeightForBottom,\n        right: NaN,\n        bottom: xAxisHeight + legendHeightForBottom,\n        left: $$.margin.left,\n    };\n\n    // for legend\n    $$.margin3 = {\n        top: 0,\n        right: NaN,\n        bottom: 0,\n        left: 0,\n    };\n    if ($$.updateSizeForLegend) { $$.updateSizeForLegend(legendHeight, legendWidth); }\n\n    $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\n    $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\n    if ($$.width < 0) { $$.width = 0; }\n    if ($$.height < 0) { $$.height = 0; }\n\n    $$.width2 = config.axis_rotated ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right : $$.width;\n    $$.height2 = config.axis_rotated ? $$.height : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\n    if ($$.width2 < 0) { $$.width2 = 0; }\n    if ($$.height2 < 0) { $$.height2 = 0; }\n\n    // for arc\n    $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\n    $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\n    if ($$.hasType('gauge') && !config.gauge_fullCircle) {\n        $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\n    }\n    if ($$.updateRadius) { $$.updateRadius(); }\n\n    if ($$.isLegendRight && hasArc) {\n        $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\n    }\n};\n\nc3_chart_internal_fn.updateTargets = function (targets) {\n    const $$ = this;\n\n    /* -- Main --*/\n\n    // -- Text --//\n    $$.updateTargetsForText(targets);\n\n    // -- Bar --//\n    $$.updateTargetsForBar(targets);\n\n    // -- Line --//\n    $$.updateTargetsForLine(targets);\n\n    // -- Arc --//\n    if ($$.hasArcType() && $$.updateTargetsForArc) { $$.updateTargetsForArc(targets); }\n\n    /* -- Sub --*/\n\n    if ($$.updateTargetsForSubchart) { $$.updateTargetsForSubchart(targets); }\n\n    // Fade-in each chart\n    $$.showTargets();\n};\nc3_chart_internal_fn.showTargets = function () {\n    const $$ = this;\n    $$.svg.selectAll('.' + CLASS.target).filter((d) => {\n        return $$.isTargetToShow(d.id);\n    })\n        .transition().duration($$.config.transition_duration)\n        .style('opacity', 1);\n};\n\nc3_chart_internal_fn.redraw = function (options, transitions) {\n    let $$ = this,\n        main = $$.main,\n        d3 = $$.d3,\n        config = $$.config;\n    let areaIndices = $$.getShapeIndices($$.isAreaType),\n        barIndices = $$.getShapeIndices($$.isBarType),\n        lineIndices = $$.getShapeIndices($$.isLineType);\n    let withY, withSubchart, withTransition, withTransitionForExit, withTransitionForAxis,\n        withTransform, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain, withLegend,\n        withEventRect, withDimension, withUpdateXAxis;\n    const hideAxis = $$.hasArcType();\n    let drawArea, drawBar, drawLine, xForText, yForText;\n    let duration, durationForExit, durationForAxis;\n    let waitForDraw, flow;\n    let targetsToShow = $$.filterTargetsToShow($$.data.targets),\n        tickValues, i, intervalForCulling, xDomainForZoom;\n    let xv = $$.xv.bind($$),\n        cx, cy;\n\n    options = options || {};\n    withY = getOption(options, 'withY', true);\n    withSubchart = getOption(options, 'withSubchart', true);\n    withTransition = getOption(options, 'withTransition', true);\n    withTransform = getOption(options, 'withTransform', false);\n    withUpdateXDomain = getOption(options, 'withUpdateXDomain', false);\n    withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', false);\n    withTrimXDomain = getOption(options, 'withTrimXDomain', true);\n    withUpdateXAxis = getOption(options, 'withUpdateXAxis', withUpdateXDomain);\n    withLegend = getOption(options, 'withLegend', false);\n    withEventRect = getOption(options, 'withEventRect', true);\n    withDimension = getOption(options, 'withDimension', true);\n    withTransitionForExit = getOption(options, 'withTransitionForExit', withTransition);\n    withTransitionForAxis = getOption(options, 'withTransitionForAxis', withTransition);\n\n    duration = withTransition ? config.transition_duration : 0;\n    durationForExit = withTransitionForExit ? duration : 0;\n    durationForAxis = withTransitionForAxis ? duration : 0;\n\n    transitions = transitions || $$.axis.generateTransitions(durationForAxis);\n\n    // update legend and transform each g\n    if (withLegend && config.legend_show) {\n        $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\n    } else if (withDimension) {\n        // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\n        // no need to update axis in it because they will be updated in redraw()\n        $$.updateDimension(true);\n    }\n\n    // MEMO: needed for grids calculation\n    if ($$.isCategorized() && targetsToShow.length === 0) {\n        $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\n    }\n\n    if (targetsToShow.length) {\n        $$.updateXDomain(targetsToShow, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain);\n        if (!config.axis_x_tick_values) {\n            tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\n        }\n    } else {\n        $$.xAxis.tickValues([]);\n        $$.subXAxis.tickValues([]);\n    }\n\n    if (config.zoom_rescale && !options.flow) {\n        xDomainForZoom = $$.x.orgDomain();\n    }\n\n    $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\n    $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\n\n    if (!config.axis_y_tick_values && config.axis_y_tick_count) {\n        $$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count));\n    }\n    if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\n        $$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count));\n    }\n\n    // axes\n    $$.axis.redraw(transitions, hideAxis);\n\n    // Update axis label\n    $$.axis.updateLabels(withTransition);\n\n    // show/hide if manual culling needed\n    if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\n        if (config.axis_x_tick_culling && tickValues) {\n            for (i = 1; i < tickValues.length; i++) {\n                if (tickValues.length / i < config.axis_x_tick_culling_max) {\n                    intervalForCulling = i;\n                    break;\n                }\n            }\n            $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function (e) {\n                const index = tickValues.indexOf(e);\n                if (index >= 0) {\n                    d3.select(this).style('display', index % intervalForCulling ? 'none' : 'block');\n                }\n            });\n        } else {\n            $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').style('display', 'block');\n        }\n    }\n\n    // setup drawer - MEMO: these must be called after axis updated\n    drawArea = $$.generateDrawArea ? $$.generateDrawArea(areaIndices, false) : undefined;\n    drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\n    drawLine = $$.generateDrawLine ? $$.generateDrawLine(lineIndices, false) : undefined;\n    xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\n    yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\n\n    // Update sub domain\n    if (withY) {\n        $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\n        $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\n    }\n\n    // xgrid focus\n    $$.updateXgridFocus();\n\n    // Data empty label positioning and text.\n    main.select('text.' + CLASS.text + '.' + CLASS.empty)\n        .attr('x', $$.width / 2)\n        .attr('y', $$.height / 2)\n        .text(config.data_empty_label_text)\n        .transition()\n        .style('opacity', targetsToShow.length ? 0 : 1);\n\n    // grid\n    $$.updateGrid(duration);\n\n    // rect for regions\n    $$.updateRegion(duration);\n\n    // bars\n    $$.updateBar(durationForExit);\n\n    // lines, areas and cricles\n    $$.updateLine(durationForExit);\n    $$.updateArea(durationForExit);\n    $$.updateCircle();\n\n    // text\n    if ($$.hasDataLabel()) {\n        $$.updateText(durationForExit);\n    }\n\n    // title\n    if ($$.redrawTitle) { $$.redrawTitle(); }\n\n    // arc\n    if ($$.redrawArc) { $$.redrawArc(duration, durationForExit, withTransform); }\n\n    // subchart\n    if ($$.redrawSubchart) {\n        $$.redrawSubchart(withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices);\n    }\n\n    // circles for select\n    main.selectAll('.' + CLASS.selectedCircles)\n        .filter($$.isBarType.bind($$))\n        .selectAll('circle')\n        .remove();\n\n    // event rects will redrawn when flow called\n    if (config.interaction_enabled && !options.flow && withEventRect) {\n        $$.redrawEventRect();\n        if ($$.updateZoom) { $$.updateZoom(); }\n    }\n\n    // update circleY based on updated parameters\n    $$.updateCircleY();\n\n    // generate circle x/y functions depending on updated params\n    cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\n    cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\n\n    if (options.flow) {\n        flow = $$.generateFlow({\n            targets: targetsToShow,\n            flow: options.flow,\n            duration: options.flow.duration,\n            drawBar,\n            drawLine,\n            drawArea,\n            cx,\n            cy,\n            xv,\n            xForText,\n            yForText,\n        });\n    }\n\n    if ((duration || flow) && $$.isTabVisible()) { // Only use transition if tab visible. See #938.\n        // transition should be derived from one transition\n        d3.transition().duration(duration).each(() => {\n            const transitionsToWait = [];\n\n                // redraw and gather transitions\n            [\n                $$.redrawBar(drawBar, true),\n                $$.redrawLine(drawLine, true),\n                $$.redrawArea(drawArea, true),\n                $$.redrawCircle(cx, cy, true),\n                $$.redrawText(xForText, yForText, options.flow, true),\n                $$.redrawRegion(true),\n                $$.redrawGrid(true),\n            ].forEach((transitions) => {\n                transitions.forEach((transition) => {\n                    transitionsToWait.push(transition);\n                });\n            });\n\n                // Wait for end of transitions to call flow and onrendered callback\n            waitForDraw = $$.generateWait();\n            transitionsToWait.forEach((t) => {\n                waitForDraw.add(t);\n            });\n        })\n            .call(waitForDraw, () => {\n                if (flow) {\n                    flow();\n                }\n                if (config.onrendered) {\n                    config.onrendered.call($$);\n                }\n            });\n    } else {\n        $$.redrawBar(drawBar);\n        $$.redrawLine(drawLine);\n        $$.redrawArea(drawArea);\n        $$.redrawCircle(cx, cy);\n        $$.redrawText(xForText, yForText, options.flow);\n        $$.redrawRegion();\n        $$.redrawGrid();\n        if (config.onrendered) {\n            config.onrendered.call($$);\n        }\n    }\n\n    // update fadein condition\n    $$.mapToIds($$.data.targets).forEach((id) => {\n        $$.withoutFadeIn[id] = true;\n    });\n};\n\nc3_chart_internal_fn.updateAndRedraw = function (options) {\n    let $$ = this,\n        config = $$.config,\n        transitions;\n    options = options || {};\n    // same with redraw\n    options.withTransition = getOption(options, 'withTransition', true);\n    options.withTransform = getOption(options, 'withTransform', false);\n    options.withLegend = getOption(options, 'withLegend', false);\n    // NOT same with redraw\n    options.withUpdateXDomain = true;\n    options.withUpdateOrgXDomain = true;\n    options.withTransitionForExit = false;\n    options.withTransitionForTransform = getOption(options, 'withTransitionForTransform', options.withTransition);\n    // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\n    $$.updateSizes();\n    // MEMO: called in updateLegend in redraw if withLegend\n    if (!(options.withLegend && config.legend_show)) {\n        transitions = $$.axis.generateTransitions(options.withTransitionForAxis ? config.transition_duration : 0);\n        // Update scales\n        $$.updateScales();\n        $$.updateSvgSize();\n        // Update g positions\n        $$.transformAll(options.withTransitionForTransform, transitions);\n    }\n    // Draw with new sizes & scales\n    $$.redraw(options, transitions);\n};\nc3_chart_internal_fn.redrawWithoutRescale = function () {\n    this.redraw({\n        withY: false,\n        withSubchart: false,\n        withEventRect: false,\n        withTransitionForAxis: false,\n    });\n};\n\nc3_chart_internal_fn.isTimeSeries = function () {\n    return this.config.axis_x_type === 'timeseries';\n};\nc3_chart_internal_fn.isCategorized = function () {\n    return this.config.axis_x_type.indexOf('categor') >= 0;\n};\nc3_chart_internal_fn.isCustomX = function () {\n    let $$ = this,\n        config = $$.config;\n    return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs));\n};\n\nc3_chart_internal_fn.isTimeSeriesY = function () {\n    return this.config.axis_y_type === 'timeseries';\n};\n\nc3_chart_internal_fn.getTranslate = function (target) {\n    let $$ = this,\n        config = $$.config,\n        x, y;\n    if (target === 'main') {\n        x = asHalfPixel($$.margin.left);\n        y = asHalfPixel($$.margin.top);\n    } else if (target === 'context') {\n        x = asHalfPixel($$.margin2.left);\n        y = asHalfPixel($$.margin2.top);\n    } else if (target === 'legend') {\n        x = $$.margin3.left;\n        y = $$.margin3.top;\n    } else if (target === 'x') {\n        x = 0;\n        y = config.axis_rotated ? 0 : $$.height;\n    } else if (target === 'y') {\n        x = 0;\n        y = config.axis_rotated ? $$.height : 0;\n    } else if (target === 'y2') {\n        x = config.axis_rotated ? 0 : $$.width;\n        y = config.axis_rotated ? 1 : 0;\n    } else if (target === 'subx') {\n        x = 0;\n        y = config.axis_rotated ? 0 : $$.height2;\n    } else if (target === 'arc') {\n        x = $$.arcWidth / 2;\n        y = $$.arcHeight / 2;\n    }\n    return 'translate(' + x + ',' + y + ')';\n};\nc3_chart_internal_fn.initialOpacity = function (d) {\n    return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0;\n};\nc3_chart_internal_fn.initialOpacityForCircle = function (d) {\n    return d.value !== null && this.withoutFadeIn[d.id] ? this.opacityForCircle(d) : 0;\n};\nc3_chart_internal_fn.opacityForCircle = function (d) {\n    const opacity = this.config.point_show ? 1 : 0;\n    return isValue(d.value) ? (this.isScatterType(d) ? 0.5 : opacity) : 0;\n};\nc3_chart_internal_fn.opacityForText = function () {\n    return this.hasDataLabel() ? 1 : 0;\n};\nc3_chart_internal_fn.xx = function (d) {\n    return d ? this.x(d.x) : null;\n};\nc3_chart_internal_fn.xv = function (d) {\n    let $$ = this,\n        value = d.value;\n    if ($$.isTimeSeries()) {\n        value = $$.parseDate(d.value);\n    } else if ($$.isCategorized() && typeof d.value === 'string') {\n        value = $$.config.axis_x_categories.indexOf(d.value);\n    }\n    return Math.ceil($$.x(value));\n};\nc3_chart_internal_fn.yv = function (d) {\n    let $$ = this,\n        yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\n    return Math.ceil(yScale(d.value));\n};\nc3_chart_internal_fn.subxx = function (d) {\n    return d ? this.subX(d.x) : null;\n};\n\nc3_chart_internal_fn.transformMain = function (withTransition, transitions) {\n    let $$ = this,\n        xAxis, yAxis, y2Axis;\n    if (transitions && transitions.axisX) {\n        xAxis = transitions.axisX;\n    } else {\n        xAxis = $$.main.select('.' + CLASS.axisX);\n        if (withTransition) { xAxis = xAxis.transition(); }\n    }\n    if (transitions && transitions.axisY) {\n        yAxis = transitions.axisY;\n    } else {\n        yAxis = $$.main.select('.' + CLASS.axisY);\n        if (withTransition) { yAxis = yAxis.transition(); }\n    }\n    if (transitions && transitions.axisY2) {\n        y2Axis = transitions.axisY2;\n    } else {\n        y2Axis = $$.main.select('.' + CLASS.axisY2);\n        if (withTransition) { y2Axis = y2Axis.transition(); }\n    }\n    (withTransition ? $$.main.transition() : $$.main).attr('transform', $$.getTranslate('main'));\n    xAxis.attr('transform', $$.getTranslate('x'));\n    yAxis.attr('transform', $$.getTranslate('y'));\n    y2Axis.attr('transform', $$.getTranslate('y2'));\n    $$.main.select('.' + CLASS.chartArcs).attr('transform', $$.getTranslate('arc'));\n};\nc3_chart_internal_fn.transformAll = function (withTransition, transitions) {\n    const $$ = this;\n    $$.transformMain(withTransition, transitions);\n    if ($$.config.subchart_show) { $$.transformContext(withTransition, transitions); }\n    if ($$.legend) { $$.transformLegend(withTransition); }\n};\n\nc3_chart_internal_fn.updateSvgSize = function () {\n    let $$ = this,\n        brush = $$.svg.select('.c3-brush .background');\n    $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\n    $$.svg.selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid]).select('rect')\n        .attr('width', $$.width)\n        .attr('height', $$.height);\n    $$.svg.select('#' + $$.clipIdForXAxis).select('rect')\n        .attr('x', $$.getXAxisClipX.bind($$))\n        .attr('y', $$.getXAxisClipY.bind($$))\n        .attr('width', $$.getXAxisClipWidth.bind($$))\n        .attr('height', $$.getXAxisClipHeight.bind($$));\n    $$.svg.select('#' + $$.clipIdForYAxis).select('rect')\n        .attr('x', $$.getYAxisClipX.bind($$))\n        .attr('y', $$.getYAxisClipY.bind($$))\n        .attr('width', $$.getYAxisClipWidth.bind($$))\n        .attr('height', $$.getYAxisClipHeight.bind($$));\n    $$.svg.select('#' + $$.clipIdForSubchart).select('rect')\n        .attr('width', $$.width)\n        .attr('height', brush.size() ? brush.attr('height') : 0);\n    $$.svg.select('.' + CLASS.zoomRect)\n        .attr('width', $$.width)\n        .attr('height', $$.height);\n    // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\n    $$.selectChart.style('max-height', $$.currentHeight + 'px');\n};\n\n\nc3_chart_internal_fn.updateDimension = function (withoutAxis) {\n    const $$ = this;\n    if (!withoutAxis) {\n        if ($$.config.axis_rotated) {\n            $$.axes.x.call($$.xAxis);\n            $$.axes.subx.call($$.subXAxis);\n        } else {\n            $$.axes.y.call($$.yAxis);\n            $$.axes.y2.call($$.y2Axis);\n        }\n    }\n    $$.updateSizes();\n    $$.updateScales();\n    $$.updateSvgSize();\n    $$.transformAll(false);\n};\n\nc3_chart_internal_fn.observeInserted = function (selection) {\n    let $$ = this,\n        observer;\n    if (typeof MutationObserver === 'undefined') {\n        window.console.error('MutationObserver not defined.');\n        return;\n    }\n    observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n            if (mutation.type === 'childList' && mutation.previousSibling) {\n                observer.disconnect();\n                // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\n                $$.intervalForObserveInserted = window.setInterval(() => {\n                    // parentNode will NOT be null when completed\n                    if (selection.node().parentNode) {\n                        window.clearInterval($$.intervalForObserveInserted);\n                        $$.updateDimension();\n                        if ($$.brush) { $$.brush.update(); }\n                        $$.config.oninit.call($$);\n                        $$.redraw({\n                            withTransform: true,\n                            withUpdateXDomain: true,\n                            withUpdateOrgXDomain: true,\n                            withTransition: false,\n                            withTransitionForTransform: false,\n                            withLegend: true,\n                        });\n                        selection.transition().style('opacity', 1);\n                    }\n                }, 10);\n            }\n        });\n    });\n    observer.observe(selection.node(), { attributes: true, childList: true, characterData: true });\n};\n\nc3_chart_internal_fn.bindResize = function () {\n    let $$ = this,\n        config = $$.config;\n\n    $$.resizeFunction = $$.generateResize();\n\n    $$.resizeFunction.add(() => {\n        config.onresize.call($$);\n    });\n    if (config.resize_auto) {\n        $$.resizeFunction.add(() => {\n            if ($$.resizeTimeout !== undefined) {\n                window.clearTimeout($$.resizeTimeout);\n            }\n            $$.resizeTimeout = window.setTimeout(() => {\n                delete $$.resizeTimeout;\n                $$.api.flush();\n            }, 100);\n        });\n    }\n    $$.resizeFunction.add(() => {\n        config.onresized.call($$);\n    });\n\n    if (window.attachEvent) {\n        window.attachEvent('onresize', $$.resizeFunction);\n    } else if (window.addEventListener) {\n        window.addEventListener('resize', $$.resizeFunction, false);\n    } else {\n        // fallback to this, if this is a very old browser\n        let wrapper = window.onresize;\n        if (!wrapper) {\n            // create a wrapper that will call all charts\n            wrapper = $$.generateResize();\n        } else if (!wrapper.add || !wrapper.remove) {\n            // there is already a handler registered, make sure we call it too\n            wrapper = $$.generateResize();\n            wrapper.add(window.onresize);\n        }\n        // add this graph to the wrapper, we will be removed if the user calls destroy\n        wrapper.add($$.resizeFunction);\n        window.onresize = wrapper;\n    }\n};\n\nc3_chart_internal_fn.generateResize = function () {\n    const resizeFunctions = [];\n\n    function callResizeFunctions() {\n        resizeFunctions.forEach((f) => {\n            f();\n        });\n    }\n    callResizeFunctions.add = function (f) {\n        resizeFunctions.push(f);\n    };\n    callResizeFunctions.remove = function (f) {\n        for (let i = 0; i < resizeFunctions.length; i++) {\n            if (resizeFunctions[i] === f) {\n                resizeFunctions.splice(i, 1);\n                break;\n            }\n        }\n    };\n    return callResizeFunctions;\n};\n\nc3_chart_internal_fn.endall = function (transition, callback) {\n    let n = 0;\n    transition\n        .each(() => { ++n; })\n        .each('end', function () {\n            if (!--n) { callback.apply(this, arguments); }\n        });\n};\nc3_chart_internal_fn.generateWait = function () {\n    let transitionsToWait = [],\n        f = function (transition, callback) {\n            const timer = setInterval(() => {\n                let done = 0;\n                transitionsToWait.forEach((t) => {\n                    if (t.empty()) {\n                        done += 1;\n                        return;\n                    }\n                    try {\n                        t.transition();\n                    } catch (e) {\n                        done += 1;\n                    }\n                });\n                if (done === transitionsToWait.length) {\n                    clearInterval(timer);\n                    if (callback) { callback(); }\n                }\n            }, 10);\n        };\n    f.add = function (transition) {\n        transitionsToWait.push(transition);\n    };\n    return f;\n};\n\nc3_chart_internal_fn.parseDate = function (date) {\n    let $$ = this,\n        parsedDate;\n    if (date instanceof Date) {\n        parsedDate = date;\n    } else if (typeof date === 'string') {\n        parsedDate = $$.dataTimeFormat($$.config.data_xFormat).parse(date);\n    } else if (typeof date === 'number' && !isNaN(date)) {\n        parsedDate = new Date(+date);\n    }\n    if (!parsedDate || isNaN(+parsedDate)) {\n        window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\n    }\n    return parsedDate;\n};\n\nc3_chart_internal_fn.isTabVisible = function () {\n    let hidden;\n    if (typeof document.hidden !== 'undefined') { // Opera 12.10 and Firefox 18 and later support\n        hidden = 'hidden';\n    } else if (typeof document.mozHidden !== 'undefined') {\n        hidden = 'mozHidden';\n    } else if (typeof document.msHidden !== 'undefined') {\n        hidden = 'msHidden';\n    } else if (typeof document.webkitHidden !== 'undefined') {\n        hidden = 'webkitHidden';\n    }\n\n    return document[hidden] ? false : true;\n};\n\n//  There might be a better way of doing this...\nc3_chart_internal_fn.isSafari = isSafari;\nc3_chart_internal_fn.isChrome = isChrome;\nc3_chart_internal_fn.initPie = initPie;\nc3_chart_internal_fn.updateRadius = updateRadius;\nc3_chart_internal_fn.updateArc = updateArc;\nc3_chart_internal_fn.updateAngle = updateAngle;\nc3_chart_internal_fn.getSvgArc = getSvgArc;\nc3_chart_internal_fn.getSvgArcExpanded = getSvgArcExpanded;\nc3_chart_internal_fn.getArc = getArc;\nc3_chart_internal_fn.transformForArcLabel = transformForArcLabel;\nc3_chart_internal_fn.getArcRatio = getArcRatio;\nc3_chart_internal_fn.convertToArcData = convertToArcData;\nc3_chart_internal_fn.textForArcLabel = textForArcLabel;\nc3_chart_internal_fn.expandArc = expandArc;\nc3_chart_internal_fn.unexpandArc = unexpandArc;\nc3_chart_internal_fn.expandDuration = expandDuration;\nc3_chart_internal_fn.shouldExpand = shouldExpand;\nc3_chart_internal_fn.shouldShowArcLabel = shouldShowArcLabel;\nc3_chart_internal_fn.meetsArcLabelThreshold = meetsArcLabelThreshold;\nc3_chart_internal_fn.getArcLabelFormat = getArcLabelFormat;\nc3_chart_internal_fn.getArcTitle = getArcTitle;\nc3_chart_internal_fn.updateTargetsForArc = updateTargetsForArc;\nc3_chart_internal_fn.initArc = initArc;\nc3_chart_internal_fn.redrawArc = redrawArc;\nc3_chart_internal_fn.initGauge = initGauge;\nc3_chart_internal_fn.getGaugeLabelHeight = getGaugeLabelHeight;\nc3_chart_internal_fn.hasCaches = hasCaches;\nc3_chart_internal_fn.addCache = addCache;\nc3_chart_internal_fn.getCaches = getCaches;\nc3_chart_internal_fn.categoryName = categoryName;\nc3_chart_internal_fn.CLASS = CLASS;\nc3_chart_internal_fn.generateClass = generateClass;\nc3_chart_internal_fn.classText = classText;\nc3_chart_internal_fn.classTexts = classTexts;\nc3_chart_internal_fn.classShape = classShape;\nc3_chart_internal_fn.classShapes = classShapes;\nc3_chart_internal_fn.classLine = classLine;\nc3_chart_internal_fn.classLines = classLines;\nc3_chart_internal_fn.classCircle = classCircle;\nc3_chart_internal_fn.classCircles = classCircles;\nc3_chart_internal_fn.classBar = classBar;\nc3_chart_internal_fn.classBars = classBars;\nc3_chart_internal_fn.classArc = classArc;\nc3_chart_internal_fn.classArcs = classArcs;\nc3_chart_internal_fn.classArea = classArea;\nc3_chart_internal_fn.classAreas = classAreas;\nc3_chart_internal_fn.classRegion = classRegion;\nc3_chart_internal_fn.classEvent = classEvent;\nc3_chart_internal_fn.classTarget = classTarget;\nc3_chart_internal_fn.classFocus = classFocus;\nc3_chart_internal_fn.classFocused = classFocused;\nc3_chart_internal_fn.classDefocused = classDefocused;\nc3_chart_internal_fn.classChartText = classChartText;\nc3_chart_internal_fn.classChartLine = classChartLine;\nc3_chart_internal_fn.classChartBar = classChartBar;\nc3_chart_internal_fn.classChartArc = classChartArc;\nc3_chart_internal_fn.getTargetSelectorSuffix = getTargetSelectorSuffix;\nc3_chart_internal_fn.selectorTarget = selectorTarget;\nc3_chart_internal_fn.selectorTargets = selectorTargets;\nc3_chart_internal_fn.selectorLegend = selectorLegend;\nc3_chart_internal_fn.selectorLegends = selectorLegends;\nc3_chart_internal_fn.getClipPath = getClipPath;\nc3_chart_internal_fn.appendClip = appendClip;\nc3_chart_internal_fn.getAxisClipX = getAxisClipX;\nc3_chart_internal_fn.getAxisClipY = getAxisClipY;\nc3_chart_internal_fn.getXAxisClipX = getXAxisClipX;\nc3_chart_internal_fn.getXAxisClipY = getXAxisClipY;\nc3_chart_internal_fn.getYAxisClipX = getYAxisClipX;\nc3_chart_internal_fn.getYAxisClipY = getYAxisClipY;\nc3_chart_internal_fn.getAxisClipWidth = getAxisClipWidth;\nc3_chart_internal_fn.getAxisClipHeight = getAxisClipHeight;\nc3_chart_internal_fn.getXAxisClipWidth = getXAxisClipWidth;\nc3_chart_internal_fn.getXAxisClipHeight = getXAxisClipHeight;\nc3_chart_internal_fn.getYAxisClipWidth = getYAxisClipWidth;\nc3_chart_internal_fn.getYAxisClipHeight = getYAxisClipHeight;\nc3_chart_internal_fn.generateColor = generateColor;\nc3_chart_internal_fn.generateLevelColor = generateLevelColor;\nc3_chart_internal_fn.getDefaultConfig = getDefaultConfig;\nc3_chart_internal_fn.additionalConfig = additionalConfig;\nc3_chart_internal_fn.loadConfig = loadConfig;\nc3_chart_internal_fn.convertUrlToData = convertUrlToData;\nc3_chart_internal_fn.convertXsvToData = convertXsvToData;\nc3_chart_internal_fn.convertCsvToData = convertCsvToData;\nc3_chart_internal_fn.convertTsvToData = convertTsvToData;\nc3_chart_internal_fn.convertJsonToData = convertJsonToData;\nc3_chart_internal_fn.findValueInJson = findValueInJson;\nc3_chart_internal_fn.convertRowsToData = convertRowsToData;\nc3_chart_internal_fn.convertColumnsToData = convertColumnsToData;\nc3_chart_internal_fn.convertDataToTargets = convertDataToTargets;\nc3_chart_internal_fn.isX = isX;\nc3_chart_internal_fn.isNotX = isNotX;\nc3_chart_internal_fn.getXKey = getXKey;\nc3_chart_internal_fn.getXValuesOfXKey = getXValuesOfXKey;\nc3_chart_internal_fn.getIndexByX = getIndexByX;\nc3_chart_internal_fn.getXValue = getXValue;\nc3_chart_internal_fn.getOtherTargetXs = getOtherTargetXs;\nc3_chart_internal_fn.getOtherTargetX = getOtherTargetX;\nc3_chart_internal_fn.addXs = addXs;\nc3_chart_internal_fn.hasMultipleX = hasMultipleX;\nc3_chart_internal_fn.isMultipleX = isMultipleX;\nc3_chart_internal_fn.addName = addName;\nc3_chart_internal_fn.getValueOnIndex = getValueOnIndex;\nc3_chart_internal_fn.updateTargetX = updateTargetX;\nc3_chart_internal_fn.updateTargetXs = updateTargetXs;\nc3_chart_internal_fn.generateTargetX = generateTargetX;\nc3_chart_internal_fn.cloneTarget = cloneTarget;\nc3_chart_internal_fn.updateXs = updateXs;\nc3_chart_internal_fn.getPrevX = getPrevX;\nc3_chart_internal_fn.getNextX = getNextX;\nc3_chart_internal_fn.getMaxDataCount = getMaxDataCount;\nc3_chart_internal_fn.getMaxDataCountTarget = getMaxDataCountTarget;\nc3_chart_internal_fn.getEdgeX = getEdgeX;\nc3_chart_internal_fn.mapToIds = mapToIds;\nc3_chart_internal_fn.mapToTargetIds = mapToTargetIds;\nc3_chart_internal_fn.hasTarget = hasTarget;\nc3_chart_internal_fn.isTargetToShow = isTargetToShow;\nc3_chart_internal_fn.isLegendToShow = isLegendToShow;\nc3_chart_internal_fn.filterTargetsToShow = filterTargetsToShow;\nc3_chart_internal_fn.mapTargetsToUniqueXs = mapTargetsToUniqueXs;\nc3_chart_internal_fn.addHiddenTargetIds = addHiddenTargetIds;\nc3_chart_internal_fn.removeHiddenTargetIds = removeHiddenTargetIds;\nc3_chart_internal_fn.addHiddenLegendIds = addHiddenLegendIds;\nc3_chart_internal_fn.removeHiddenLegendIds = removeHiddenLegendIds;\nc3_chart_internal_fn.getValuesAsIdKeyed = getValuesAsIdKeyed;\nc3_chart_internal_fn.checkValueInTargets = checkValueInTargets;\nc3_chart_internal_fn.hasNegativeValueInTargets = hasNegativeValueInTargets;\nc3_chart_internal_fn.hasPositiveValueInTargets = hasPositiveValueInTargets;\nc3_chart_internal_fn.isOrderDesc = isOrderDesc;\nc3_chart_internal_fn.isOrderAsc = isOrderAsc;\nc3_chart_internal_fn.orderTargets = orderTargets;\nc3_chart_internal_fn.filterByX = filterByX;\nc3_chart_internal_fn.filterRemoveNull = filterRemoveNull;\nc3_chart_internal_fn.filterByXDomain = filterByXDomain;\nc3_chart_internal_fn.hasDataLabel = hasDataLabel;\nc3_chart_internal_fn.getDataLabelLength = getDataLabelLength;\nc3_chart_internal_fn.isNoneArc = isNoneArc;\nc3_chart_internal_fn.isArc = isArc;\nc3_chart_internal_fn.findSameXOfValues = findSameXOfValues;\nc3_chart_internal_fn.findClosestFromTargets = findClosestFromTargets;\nc3_chart_internal_fn.findClosest = findClosest;\nc3_chart_internal_fn.dist = dist;\nc3_chart_internal_fn.convertValuesToStep = convertValuesToStep;\nc3_chart_internal_fn.updateDataAttributes = updateDataAttributes;\nc3_chart_internal_fn.load = load;\nc3_chart_internal_fn.loadFromArgs = loadFromArgs;\nc3_chart_internal_fn.unload = unload;\nc3_chart_internal_fn.getYDomainMin = getYDomainMin;\nc3_chart_internal_fn.getYDomainMax = getYDomainMax;\nc3_chart_internal_fn.getYDomain = getYDomain;\nc3_chart_internal_fn.getXDomainMin = getXDomainMin;\nc3_chart_internal_fn.getXDomainMax = getXDomainMax;\nc3_chart_internal_fn.getXDomainPadding = getXDomainPadding;\nc3_chart_internal_fn.getXDomain = getXDomain;\nc3_chart_internal_fn.updateXDomain = updateXDomain;\nc3_chart_internal_fn.trimXDomain = trimXDomain;\nc3_chart_internal_fn.drag = drag;\nc3_chart_internal_fn.dragstart = dragstart;\nc3_chart_internal_fn.dragend = dragend;\nc3_chart_internal_fn.generateFlow = generateFlow;\nc3_chart_internal_fn.getYFormat = getYFormat;\nc3_chart_internal_fn.yFormat = yFormat;\nc3_chart_internal_fn.y2Format = y2Format;\nc3_chart_internal_fn.defaultValueFormat = defaultValueFormat;\nc3_chart_internal_fn.defaultArcValueFormat = defaultArcValueFormat;\nc3_chart_internal_fn.dataLabelFormat = dataLabelFormat;\nc3_chart_internal_fn.initGrid = initGrid;\nc3_chart_internal_fn.initGridLines = initGridLines;\nc3_chart_internal_fn.updateXGrid = updateXGrid;\nc3_chart_internal_fn.updateYGrid = updateYGrid;\nc3_chart_internal_fn.gridTextAnchor = gridTextAnchor;\nc3_chart_internal_fn.gridTextDx = gridTextDx;\nc3_chart_internal_fn.xGridTextX = xGridTextX;\nc3_chart_internal_fn.yGridTextX = yGridTextX;\nc3_chart_internal_fn.updateGrid = updateGrid;\nc3_chart_internal_fn.redrawGrid = redrawGrid;\nc3_chart_internal_fn.showXGridFocus = showXGridFocus;\nc3_chart_internal_fn.hideXGridFocus = hideXGridFocus;\nc3_chart_internal_fn.updateXgridFocus = updateXgridFocus;\nc3_chart_internal_fn.generateGridData = generateGridData;\nc3_chart_internal_fn.getGridFilterToRemove = getGridFilterToRemove;\nc3_chart_internal_fn.removeGridLines = removeGridLines;\nc3_chart_internal_fn.initEventRect = initEventRect;\nc3_chart_internal_fn.redrawEventRect = redrawEventRect;\nc3_chart_internal_fn.updateEventRect = updateEventRect;\nc3_chart_internal_fn.generateEventRectsForSingleX = generateEventRectsForSingleX;\nc3_chart_internal_fn.generateEventRectsForMultipleXs = generateEventRectsForMultipleXs;\nc3_chart_internal_fn.dispatchEvent = dispatchEvent;\nc3_chart_internal_fn.initLegend = initLegend;\nc3_chart_internal_fn.updateLegendWithDefaults = updateLegendWithDefaults;\nc3_chart_internal_fn.updateSizeForLegend = updateSizeForLegend;\nc3_chart_internal_fn.transformLegend = transformLegend;\nc3_chart_internal_fn.updateLegendStep = updateLegendStep;\nc3_chart_internal_fn.updateLegendItemWidth = updateLegendItemWidth;\nc3_chart_internal_fn.updateLegendItemHeight = updateLegendItemHeight;\nc3_chart_internal_fn.getLegendWidth = getLegendWidth;\nc3_chart_internal_fn.getLegendHeight = getLegendHeight;\nc3_chart_internal_fn.opacityForLegend = opacityForLegend;\nc3_chart_internal_fn.opacityForUnfocusedLegend = opacityForUnfocusedLegend;\nc3_chart_internal_fn.toggleFocusLegend = toggleFocusLegend;\nc3_chart_internal_fn.revertLegend = revertLegend;\nc3_chart_internal_fn.showLegend = showLegend;\nc3_chart_internal_fn.hideLegend = hideLegend;\nc3_chart_internal_fn.clearLegendItemTextBoxCache = clearLegendItemTextBoxCache;\nc3_chart_internal_fn.updateLegend = updateLegend;\nc3_chart_internal_fn.initRegion = initRegion;\nc3_chart_internal_fn.updateRegion = updateRegion;\nc3_chart_internal_fn.redrawRegion = redrawRegion;\nc3_chart_internal_fn.regionX = regionX;\nc3_chart_internal_fn.regionY = regionY;\nc3_chart_internal_fn.regionWidth = regionWidth;\nc3_chart_internal_fn.regionHeight = regionHeight;\nc3_chart_internal_fn.isRegionOnX = isRegionOnX;\nc3_chart_internal_fn.getScale = getScale;\nc3_chart_internal_fn.getX = getX;\nc3_chart_internal_fn.getY = getY;\nc3_chart_internal_fn.getYScale = getYScale;\nc3_chart_internal_fn.getSubYScale = getSubYScale;\nc3_chart_internal_fn.updateScales = updateScales;\nc3_chart_internal_fn.selectPoint = selectPoint;\nc3_chart_internal_fn.unselectPoint = unselectPoint;\nc3_chart_internal_fn.togglePoint = togglePoint;\nc3_chart_internal_fn.selectPath = selectPath;\nc3_chart_internal_fn.unselectPath = unselectPath;\nc3_chart_internal_fn.togglePath = togglePath;\nc3_chart_internal_fn.getToggle = getToggle;\nc3_chart_internal_fn.toggleShape = toggleShape;\nc3_chart_internal_fn.initBar = initBar;\nc3_chart_internal_fn.updateTargetsForBar = updateTargetsForBar;\nc3_chart_internal_fn.updateBar = updateBar;\nc3_chart_internal_fn.redrawBar = redrawBar;\nc3_chart_internal_fn.getBarW = getBarW;\nc3_chart_internal_fn.getBars = getBars;\nc3_chart_internal_fn.expandBars = expandBars;\nc3_chart_internal_fn.unexpandBars = unexpandBars;\nc3_chart_internal_fn.generateDrawBar = generateDrawBar;\nc3_chart_internal_fn.generateGetBarPoints = generateGetBarPoints;\nc3_chart_internal_fn.isWithinBar = isWithinBar;\nc3_chart_internal_fn.getShapeIndices = getShapeIndices;\nc3_chart_internal_fn.getShapeX = getShapeX;\nc3_chart_internal_fn.getShapeY = getShapeY;\nc3_chart_internal_fn.getShapeOffset = getShapeOffset;\nc3_chart_internal_fn.isWithinShape = isWithinShape;\nc3_chart_internal_fn.getInterpolate = getInterpolate;\nc3_chart_internal_fn.initLine = initLine;\nc3_chart_internal_fn.updateTargetsForLine = updateTargetsForLine;\nc3_chart_internal_fn.updateLine = updateLine;\nc3_chart_internal_fn.redrawLine = redrawLine;\nc3_chart_internal_fn.generateDrawLine = generateDrawLine;\nc3_chart_internal_fn.generateGetLinePoints = generateGetLinePoints;\nc3_chart_internal_fn.lineWithRegions = lineWithRegions;\nc3_chart_internal_fn.updateArea = updateArea;\nc3_chart_internal_fn.redrawArea = redrawArea;\nc3_chart_internal_fn.generateDrawArea = generateDrawArea;\nc3_chart_internal_fn.getAreaBaseValue = getAreaBaseValue;\nc3_chart_internal_fn.generateGetAreaPoints = generateGetAreaPoints;\nc3_chart_internal_fn.updateCircle = updateCircle;\nc3_chart_internal_fn.redrawCircle = redrawCircle;\nc3_chart_internal_fn.circleX = circleX;\nc3_chart_internal_fn.updateCircleY = updateCircleY;\nc3_chart_internal_fn.getCircles = getCircles;\nc3_chart_internal_fn.expandCircles = expandCircles;\nc3_chart_internal_fn.unexpandCircles = unexpandCircles;\nc3_chart_internal_fn.pointR = pointR;\nc3_chart_internal_fn.pointExpandedR = pointExpandedR;\nc3_chart_internal_fn.pointSelectR = pointSelectR;\nc3_chart_internal_fn.isWithinCircle = isWithinCircle;\nc3_chart_internal_fn.isWithinStep = isWithinStep;\nc3_chart_internal_fn.getCurrentWidth = getCurrentWidth;\nc3_chart_internal_fn.getCurrentHeight = getCurrentHeight;\nc3_chart_internal_fn.getCurrentPaddingTop = getCurrentPaddingTop;\nc3_chart_internal_fn.getCurrentPaddingBottom = getCurrentPaddingBottom;\nc3_chart_internal_fn.getCurrentPaddingLeft = getCurrentPaddingLeft;\nc3_chart_internal_fn.getCurrentPaddingRight = getCurrentPaddingRight;\nc3_chart_internal_fn.getParentRectValue = getParentRectValue;\nc3_chart_internal_fn.getParentWidth = getParentWidth;\nc3_chart_internal_fn.getParentHeight = getParentHeight;\nc3_chart_internal_fn.getSvgLeft = getSvgLeft;\nc3_chart_internal_fn.getAxisWidthByAxisId = getAxisWidthByAxisId;\nc3_chart_internal_fn.getHorizontalAxisHeight = getHorizontalAxisHeight;\nc3_chart_internal_fn.getEventRectWidth = getEventRectWidth;\nc3_chart_internal_fn.initBrush = initBrush;\nc3_chart_internal_fn.initSubchart = initSubchart;\nc3_chart_internal_fn.updateTargetsForSubchart = updateTargetsForSubchart;\nc3_chart_internal_fn.updateBarForSubchart = updateBarForSubchart;\nc3_chart_internal_fn.redrawBarForSubchart = redrawBarForSubchart;\nc3_chart_internal_fn.updateLineForSubchart = updateLineForSubchart;\nc3_chart_internal_fn.redrawLineForSubchart = redrawLineForSubchart;\nc3_chart_internal_fn.updateAreaForSubchart = updateAreaForSubchart;\nc3_chart_internal_fn.redrawAreaForSubchart = redrawAreaForSubchart;\nc3_chart_internal_fn.redrawSubchart = redrawSubchart;\nc3_chart_internal_fn.redrawForBrush = redrawForBrush;\nc3_chart_internal_fn.transformContext = transformContext;\nc3_chart_internal_fn.getDefaultExtent = getDefaultExtent;\nc3_chart_internal_fn.initText = initText;\nc3_chart_internal_fn.updateTargetsForText = updateTargetsForText;\nc3_chart_internal_fn.updateText = updateText;\nc3_chart_internal_fn.redrawText = redrawText;\nc3_chart_internal_fn.getTextRect = getTextRect;\nc3_chart_internal_fn.generateXYForText = generateXYForText;\nc3_chart_internal_fn.getXForText = getXForText;\nc3_chart_internal_fn.getYForText = getYForText;\nc3_chart_internal_fn.initTitle = initTitle;\nc3_chart_internal_fn.redrawTitle = redrawTitle;\nc3_chart_internal_fn.xForTitle = xForTitle;\nc3_chart_internal_fn.yForTitle = yForTitle;\nc3_chart_internal_fn.getTitlePadding = getTitlePadding;\nc3_chart_internal_fn.initTooltip = initTooltip;\nc3_chart_internal_fn.getTooltipContent = getTooltipContent;\nc3_chart_internal_fn.tooltipPosition = tooltipPosition;\nc3_chart_internal_fn.showTooltip = showTooltip;\nc3_chart_internal_fn.hideTooltip = hideTooltip;\nc3_chart_internal_fn.transformTo = transformTo;\nc3_chart_internal_fn.setTargetType = setTargetType;\nc3_chart_internal_fn.hasType = hasType;\nc3_chart_internal_fn.hasArcType = hasArcType;\nc3_chart_internal_fn.isLineType = isLineType;\nc3_chart_internal_fn.isStepType = isStepType;\nc3_chart_internal_fn.isSplineType = isSplineType;\nc3_chart_internal_fn.isAreaType = isAreaType;\nc3_chart_internal_fn.isBarType = isBarType;\nc3_chart_internal_fn.isScatterType = isScatterType;\nc3_chart_internal_fn.isPieType = isPieType;\nc3_chart_internal_fn.isGaugeType = isGaugeType;\nc3_chart_internal_fn.isDonutType = isDonutType;\nc3_chart_internal_fn.isArcType = isArcType;\nc3_chart_internal_fn.lineData = lineData;\nc3_chart_internal_fn.arcData = arcData;\nc3_chart_internal_fn.barData = barData;\nc3_chart_internal_fn.lineOrScatterData = lineOrScatterData;\nc3_chart_internal_fn.barOrLineData = barOrLineData;\nc3_chart_internal_fn.isInterpolationType = isInterpolationType;\nc3_chart_internal_fn.initZoom = initZoom;\nc3_chart_internal_fn.getZoomDomain = getZoomDomain;\nc3_chart_internal_fn.updateZoom = updateZoom;\nc3_chart_internal_fn.redrawForZoom = redrawForZoom;\n\nexport { ChartInternal, c3_chart_internal_fn };\nexport { CLASS };\n","import {\n    isValue,\n    isDefined,\n} from '../internals/index';\n\nconst axis = function () {};\naxis.labels = function (labels) {\n    const $$ = this.internal;\n    if (arguments.length) {\n        Object.keys(labels).forEach((axisId) => {\n            $$.axis.setLabelText(axisId, labels[axisId]);\n        });\n        $$.axis.updateLabels();\n    }\n    // TODO: return some values?\n};\naxis.max = function (max) {\n    let $$ = this.internal, config = $$.config;\n    if (arguments.length) {\n        if (typeof max === 'object') {\n            if (isValue(max.x)) { config.axis_x_max = max.x; }\n            if (isValue(max.y)) { config.axis_y_max = max.y; }\n            if (isValue(max.y2)) { config.axis_y2_max = max.y2; }\n        } else {\n            config.axis_y_max = config.axis_y2_max = max;\n        }\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    } else {\n        return {\n            x: config.axis_x_max,\n            y: config.axis_y_max,\n            y2: config.axis_y2_max,\n        };\n    }\n};\naxis.min = function (min) {\n    let $$ = this.internal, config = $$.config;\n    if (arguments.length) {\n        if (typeof min === 'object') {\n            if (isValue(min.x)) { config.axis_x_min = min.x; }\n            if (isValue(min.y)) { config.axis_y_min = min.y; }\n            if (isValue(min.y2)) { config.axis_y2_min = min.y2; }\n        } else {\n            config.axis_y_min = config.axis_y2_min = min;\n        }\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    } else {\n        return {\n            x: config.axis_x_min,\n            y: config.axis_y_min,\n            y2: config.axis_y2_min,\n        };\n    }\n};\naxis.range = function (range) {\n    if (arguments.length) {\n        if (isDefined(range.max)) { this.axis.max(range.max); }\n        if (isDefined(range.min)) { this.axis.min(range.min); }\n    } else {\n        return {\n            max: this.axis.max(),\n            min: this.axis.min(),\n        };\n    }\n};\n\nexport { axis };\n","const category = function (i, category) {\n    let $$ = this.internal, config = $$.config;\n    if (arguments.length > 1) {\n        config.axis_x_categories[i] = category;\n        $$.redraw();\n    }\n    return config.axis_x_categories[i];\n};\nconst categories = function (categories) {\n    let $$ = this.internal, config = $$.config;\n    if (!arguments.length) { return config.axis_x_categories; }\n    config.axis_x_categories = categories;\n    $$.redraw();\n    return config.axis_x_categories;\n};\n\nexport { category, categories };\n","const resize = function (size) {\n    let $$ = this.internal, config = $$.config;\n    config.size_width = size ? size.width : null;\n    config.size_height = size ? size.height : null;\n    this.flush();\n};\n\nconst flush = function () {\n    const $$ = this.internal;\n    $$.updateAndRedraw({ withLegend: true, withTransition: false, withTransitionForTransform: false });\n};\n\nconst destroy = function () {\n    const $$ = this.internal;\n\n    window.clearInterval($$.intervalForObserveInserted);\n\n    if ($$.resizeTimeout !== undefined) {\n        window.clearTimeout($$.resizeTimeout);\n    }\n\n    if (window.detachEvent) {\n        window.detachEvent('onresize', $$.resizeFunction);\n    } else if (window.removeEventListener) {\n        window.removeEventListener('resize', $$.resizeFunction);\n    } else {\n        const wrapper = window.onresize;\n        // check if no one else removed our wrapper and remove our resizeFunction from it\n        if (wrapper && wrapper.add && wrapper.remove) {\n            wrapper.remove($$.resizeFunction);\n        }\n    }\n\n    $$.selectChart.classed('c3', false).html('');\n\n    // MEMO: this is needed because the reference of some elements will not be released,\n    // then memory leak will happen.\n    Object.keys($$).forEach((key) => {\n        $$[key] = null;\n    });\n\n    return null;\n};\n\nexport { resize, flush, destroy };\n","// TODO: fix\nconst color = function (id) {\n    const $$ = this.internal;\n    return $$.color(id); // more patterns\n};\n\nexport { color };\n","const data = function (targetIds) {\n    const targets = this.internal.data.targets;\n    return typeof targetIds === 'undefined' ? targets : targets.filter((t) => {\n        return [].concat(targetIds).indexOf(t.id) >= 0;\n    });\n};\n\ndata.shown = function (targetIds) {\n    return this.internal.filterTargetsToShow(this.data(targetIds));\n};\n\ndata.values = function (targetId) {\n    let targets, values = null;\n    if (targetId) {\n        targets = this.data(targetId);\n        values = targets[0] ? targets[0].values.map((d) => { return d.value; }) : null;\n    }\n    return values;\n};\n\ndata.names = function (names) {\n    this.internal.clearLegendItemTextBoxCache();\n    return this.internal.updateDataAttributes('names', names);\n};\n\ndata.colors = function (colors) {\n    return this.internal.updateDataAttributes('colors', colors);\n};\n\ndata.axes = function (axes) {\n    return this.internal.updateDataAttributes('axes', axes);\n};\n\nexport { data };\n","import {\n    isValue,\n    isDefined,\n} from '../internals/index';\n\nconst flow = function (args) {\n    let $$ = this.internal,\n        targets, data, notfoundIds = [],\n        orgDataCount = $$.getMaxDataCount(),\n        dataCount, domain, baseTarget, baseValue, length = 0,\n        tail = 0,\n        diff, to;\n\n    if (args.json) {\n        data = $$.convertJsonToData(args.json, args.keys);\n    } else if (args.rows) {\n        data = $$.convertRowsToData(args.rows);\n    } else if (args.columns) {\n        data = $$.convertColumnsToData(args.columns);\n    } else {\n        return;\n    }\n    targets = $$.convertDataToTargets(data, true);\n\n    // Update/Add data\n    $$.data.targets.forEach((t) => {\n        let found = false,\n            i, j;\n        for (i = 0; i < targets.length; i++) {\n            if (t.id === targets[i].id) {\n                found = true;\n\n                if (t.values[t.values.length - 1]) {\n                    tail = t.values[t.values.length - 1].index + 1;\n                }\n                length = targets[i].values.length;\n\n                for (j = 0; j < length; j++) {\n                    targets[i].values[j].index = tail + j;\n                    if (!$$.isTimeSeries()) {\n                        targets[i].values[j].x = tail + j;\n                    }\n                }\n                t.values = t.values.concat(targets[i].values);\n\n                targets.splice(i, 1);\n                break;\n            }\n        }\n        if (!found) { notfoundIds.push(t.id); }\n    });\n\n    // Append null for not found targets\n    $$.data.targets.forEach((t) => {\n        let i, j;\n        for (i = 0; i < notfoundIds.length; i++) {\n            if (t.id === notfoundIds[i]) {\n                tail = t.values[t.values.length - 1].index + 1;\n                for (j = 0; j < length; j++) {\n                    t.values.push({\n                        id: t.id,\n                        index: tail + j,\n                        x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\n                        value: null,\n                    });\n                }\n            }\n        }\n    });\n\n    // Generate null values for new target\n    if ($$.data.targets.length) {\n        targets.forEach((t) => {\n            let i, missing = [];\n            for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\n                missing.push({\n                    id: t.id,\n                    index: i,\n                    x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\n                    value: null,\n                });\n            }\n            t.values.forEach((v) => {\n                v.index += tail;\n                if (!$$.isTimeSeries()) {\n                    v.x += tail;\n                }\n            });\n            t.values = missing.concat(t.values);\n        });\n    }\n    $$.data.targets = $$.data.targets.concat(targets); // add remained\n\n    // check data count because behavior needs to change when it's only one\n    dataCount = $$.getMaxDataCount();\n    baseTarget = $$.data.targets[0];\n    baseValue = baseTarget.values[0];\n\n    // Update length to flow if needed\n    if (isDefined(args.to)) {\n        length = 0;\n        to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\n        baseTarget.values.forEach((v) => {\n            if (v.x < to) { length++; }\n        });\n    } else if (isDefined(args.length)) {\n        length = args.length;\n    }\n\n    // If only one data, update the domain to flow from left edge of the chart\n    if (!orgDataCount) {\n        if ($$.isTimeSeries()) {\n            if (baseTarget.values.length > 1) {\n                diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\n            } else {\n                diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\n            }\n        } else {\n            diff = 1;\n        }\n        domain = [baseValue.x - diff, baseValue.x];\n        $$.updateXDomain(null, true, true, false, domain);\n    } else if (orgDataCount === 1) {\n        if ($$.isTimeSeries()) {\n            diff = (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\n            domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\n            $$.updateXDomain(null, true, true, false, domain);\n        }\n    }\n\n    // Set targets\n    $$.updateTargets($$.data.targets);\n\n    // Redraw with new targets\n    $$.redraw({\n        flow: {\n            index: baseValue.index,\n            length,\n            duration: isValue(args.duration) ? args.duration : $$.config.transition_duration,\n            done: args.done,\n            orgDataCount,\n        },\n        withLegend: true,\n        withTransition: orgDataCount > 1,\n        withTrimXDomain: false,\n        withUpdateXAxis: true,\n    });\n};\n\nexport { flow };\n","import {\n    CLASS,\n} from '../internals/index';\n\nconst focus = function (targetIds) {\n    let $$ = this.internal, candidates;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))),\n\n    this.revert();\n    this.defocus();\n    candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\n    if ($$.hasArcType()) {\n        $$.expandArc(targetIds);\n    }\n    $$.toggleFocusLegend(targetIds, true);\n\n    $$.focusedTargetIds = targetIds;\n    $$.defocusedTargetIds = $$.defocusedTargetIds.filter((id) => {\n        return targetIds.indexOf(id) < 0;\n    });\n};\n\nconst defocus = function (targetIds) {\n    let $$ = this.internal, candidates;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))),\n\n    candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\n    if ($$.hasArcType()) {\n        $$.unexpandArc(targetIds);\n    }\n    $$.toggleFocusLegend(targetIds, false);\n\n    $$.focusedTargetIds = $$.focusedTargetIds.filter((id) => {\n        return targetIds.indexOf(id) < 0;\n    });\n    $$.defocusedTargetIds = targetIds;\n};\n\nconst revert = function (targetIds) {\n    let $$ = this.internal, candidates;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\n\n    candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\n    if ($$.hasArcType()) {\n        $$.unexpandArc(targetIds);\n    }\n    if ($$.config.legend_show) {\n        $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\n        $$.legend.selectAll($$.selectorLegends(targetIds))\n            .filter(function () {\n                return $$.d3.select(this).classed(CLASS.legendItemFocused);\n            })\n            .classed(CLASS.legendItemFocused, false);\n    }\n\n    $$.focusedTargetIds = [];\n    $$.defocusedTargetIds = [];\n};\n\nexport { focus, defocus, revert };\n","const xgrids = function (grids) {\n    let $$ = this.internal, config = $$.config;\n    if (!grids) { return config.grid_x_lines; }\n    config.grid_x_lines = grids;\n    $$.redrawWithoutRescale();\n    return config.grid_x_lines;\n};\n\nxgrids.add = function (grids) {\n    const $$ = this.internal;\n    return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []));\n};\n\nxgrids.remove = function (params) { // TODO: multiple\n    const $$ = this.internal;\n    $$.removeGridLines(params, true);\n};\n\nconst ygrids = function (grids) {\n    let $$ = this.internal, config = $$.config;\n    if (!grids) { return config.grid_y_lines; }\n    config.grid_y_lines = grids;\n    $$.redrawWithoutRescale();\n    return config.grid_y_lines;\n};\n\nygrids.add = function (grids) {\n    const $$ = this.internal;\n    return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []));\n};\n\nygrids.remove = function (params) { // TODO: multiple\n    const $$ = this.internal;\n    $$.removeGridLines(params, false);\n};\n\nexport { xgrids, ygrids };\n","import {\n    isUndefined,\n} from '../internals/index';\n\nconst groups = function (groups) {\n    let $$ = this.internal, config = $$.config;\n    if (isUndefined(groups)) { return config.data_groups; }\n    config.data_groups = groups;\n    $$.redraw();\n    return config.data_groups;\n};\n\nexport { groups };\n","const legend = function () {};\n\nlegend.show = function (targetIds) {\n    const $$ = this.internal;\n    $$.showLegend($$.mapToTargetIds(targetIds));\n    $$.updateAndRedraw({ withLegend: true });\n};\n\nlegend.hide = function (targetIds) {\n    const $$ = this.internal;\n    $$.hideLegend($$.mapToTargetIds(targetIds));\n    $$.updateAndRedraw({ withLegend: true });\n};\n\nexport { legend };\n","import { c3_chart_fn } from './index';\n\nconst load = function (args) {\n    let $$ = this.internal, config = $$.config;\n    // update xs if specified\n    if (args.xs) {\n        $$.addXs(args.xs);\n    }\n    // update names if exists\n    if ('names' in args) {\n        c3_chart_fn.data.names.bind(this)(args.names);\n    }\n    // update classes if exists\n    if ('classes' in args) {\n        Object.keys(args.classes).forEach((id) => {\n            config.data_classes[id] = args.classes[id];\n        });\n    }\n    // update categories if exists\n    if ('categories' in args && $$.isCategorized()) {\n        config.axis_x_categories = args.categories;\n    }\n    // update axes if exists\n    if ('axes' in args) {\n        Object.keys(args.axes).forEach((id) => {\n            config.data_axes[id] = args.axes[id];\n        });\n    }\n    // update colors if exists\n    if ('colors' in args) {\n        Object.keys(args.colors).forEach((id) => {\n            config.data_colors[id] = args.colors[id];\n        });\n    }\n    // use cache if exists\n    if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\n        $$.load($$.getCaches(args.cacheIds), args.done);\n        return;\n    }\n    // unload if needed\n    if ('unload' in args) {\n        // TODO: do not unload if target will load (included in url/rows/columns)\n        $$.unload($$.mapToTargetIds((typeof args.unload === 'boolean' && args.unload) ? null : args.unload), () => {\n            $$.loadFromArgs(args);\n        });\n    } else {\n        $$.loadFromArgs(args);\n    }\n};\n\nconst unload = function (args) {\n    const $$ = this.internal;\n    args = args || {};\n    if (args instanceof Array) {\n        args = { ids: args };\n    } else if (typeof args === 'string') {\n        args = { ids: [args] };\n    }\n    $$.unload($$.mapToTargetIds(args.ids), () => {\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n        if (args.done) { args.done(); }\n    });\n};\n\nexport { load, unload };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst regions = function (regions) {\n    let $$ = this.internal, config = $$.config;\n    if (!regions) { return config.regions; }\n    config.regions = regions;\n    $$.redrawWithoutRescale();\n    return config.regions;\n};\n\nregions.add = function (regions) {\n    let $$ = this.internal, config = $$.config;\n    if (!regions) { return config.regions; }\n    config.regions = config.regions.concat(regions);\n    $$.redrawWithoutRescale();\n    return config.regions;\n};\n\nregions.remove = function (options) {\n    let $$ = this.internal, config = $$.config,\n        duration, classes, regions;\n\n    options = options || {};\n    duration = $$.getOption(options, 'duration', config.transition_duration);\n    classes = $$.getOption(options, 'classes', [CLASS.region]);\n\n    regions = $$.main.select('.' + CLASS.regions).selectAll(classes.map((c) => { return '.' + c; }));\n    (duration ? regions.transition().duration(duration) : regions)\n        .style('opacity', 0)\n        .remove();\n\n    config.regions = config.regions.filter((region) => {\n        let found = false;\n        if (!region.class) {\n            return true;\n        }\n        region.class.split(' ').forEach((c) => {\n            if (classes.indexOf(c) >= 0) { found = true; }\n        });\n        return !found;\n    });\n\n    return config.regions;\n};\n\nexport { regions };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst selected = function (targetId) {\n    let $$ = this.internal, d3 = $$.d3;\n    return d3.merge(\n        $$.main.selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId)).selectAll('.' + CLASS.shape)\n            .filter(function () { return d3.select(this).classed(CLASS.SELECTED); })\n            .map((d) => { return d.map((d) => { const data = d.__data__; return data.data ? data.data : data; }); })\n    );\n};\n\nconst select = function (ids, indices, resetOther) {\n    let $$ = this.internal, d3 = $$.d3, config = $$.config;\n    if (!config.data_selection_enabled) { return; }\n    $$.main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).each(function (d, i) {\n        let shape = d3.select(this), id = d.data ? d.data.id : d.id,\n            toggle = $$.getToggle(this, d).bind($$),\n            isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n            isTargetIndex = !indices || indices.indexOf(i) >= 0,\n            isSelected = shape.classed(CLASS.SELECTED);\n        // line/area selection not supported yet\n        if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n            return;\n        }\n        if (isTargetId && isTargetIndex) {\n            if (config.data_selection_isselectable(d) && !isSelected) {\n                toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\n            }\n        } else if (isDefined(resetOther) && resetOther) {\n            if (isSelected) {\n                toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n            }\n        }\n    });\n};\n\nconst unselect = function (ids, indices) {\n    let $$ = this.internal, d3 = $$.d3, config = $$.config;\n    if (!config.data_selection_enabled) { return; }\n    $$.main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).each(function (d, i) {\n        let shape = d3.select(this), id = d.data ? d.data.id : d.id,\n            toggle = $$.getToggle(this, d).bind($$),\n            isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n            isTargetIndex = !indices || indices.indexOf(i) >= 0,\n            isSelected = shape.classed(CLASS.SELECTED);\n        // line/area selection not supported yet\n        if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n            return;\n        }\n        if (isTargetId && isTargetIndex) {\n            if (config.data_selection_isselectable(d)) {\n                if (isSelected) {\n                    toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n                }\n            }\n        }\n    });\n};\n\nexport { selected, select, unselect };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst show = function (targetIds, options) {\n    let $$ = this.internal, targets;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    options = options || {};\n\n    $$.removeHiddenTargetIds(targetIds);\n    targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\n    targets.transition()\n        .style('opacity', 1, 'important')\n        .call($$.endall, () => {\n            targets.style('opacity', null).style('opacity', 1);\n        });\n\n    if (options.withLegend) {\n        $$.showLegend(targetIds);\n    }\n\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n};\n\nconst hide = function (targetIds, options) {\n    let $$ = this.internal, targets;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    options = options || {};\n\n    $$.addHiddenTargetIds(targetIds);\n    targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\n    targets.transition()\n        .style('opacity', 0, 'important')\n        .call($$.endall, () => {\n            targets.style('opacity', null).style('opacity', 0);\n        });\n\n    if (options.withLegend) {\n        $$.hideLegend(targetIds);\n    }\n\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n};\n\nconst toggle = function (targetIds, options) {\n    let that = this, $$ = this.internal;\n    $$.mapToTargetIds(targetIds).forEach((targetId) => {\n        $$.isTargetToShow(targetId) ? that.hide(targetId, options) : that.show(targetId, options);\n    });\n};\n\nexport { show, hide, toggle };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst tooltip = function () {};\n\ntooltip.show = function (args) {\n    let $$ = this.internal, index, mouse;\n\n    // determine mouse position on the chart\n    if (args.mouse) {\n        mouse = args.mouse;\n    }\n\n    // determine focus data\n    if (args.data) {\n        if ($$.isMultipleX()) {\n            // if multiple xs, target point will be determined by mouse\n            mouse = [$$.x(args.data.x), $$.getYScale(args.data.id)(args.data.value)];\n            index = null;\n        } else {\n            // TODO: when tooltip_grouped = false\n            index = isValue(args.data.index) ? args.data.index : $$.getIndexByX(args.data.x);\n        }\n    } else if (typeof args.x !== 'undefined') {\n        index = $$.getIndexByX(args.x);\n    } else if (typeof args.index !== 'undefined') {\n        index = args.index;\n    }\n\n    // emulate mouse events to show\n    $$.dispatchEvent('mouseover', index, mouse);\n    $$.dispatchEvent('mousemove', index, mouse);\n\n    $$.config.tooltip_onshow.call($$, args.data);\n};\n\ntooltip.hide = function () {\n    // TODO: get target data by checking the state of focus\n    this.internal.dispatchEvent('mouseout', 0);\n\n    this.internal.config.tooltip_onhide.call(this);\n};\n\nexport { tooltip };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst transform = function (type, targetIds) {\n    let $$ = this.internal,\n        options = ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\n    $$.transformTo(targetIds, type, options);\n};\n\nexport { transform };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst x = function (x) {\n    const $$ = this.internal;\n    if (arguments.length) {\n        $$.updateTargetX($$.data.targets, x);\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    }\n    return $$.data.xs;\n};\n\nconst xs = function (xs) {\n    const $$ = this.internal;\n    if (arguments.length) {\n        $$.updateTargetXs($$.data.targets, xs);\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    }\n    return $$.data.xs;\n};\n\nexport { x, xs };\n","import {\n    CLASS,\n    isValue,\n    isFunction,\n    isString,\n    isUndefined,\n    isDefined,\n    ceil10,\n    asHalfPixel,\n    diffDomain,\n    isEmpty,\n    notEmpty,\n    getOption,\n    hasValue,\n    sanitise,\n    getPathBox,\n    ChartInternal\n} from '../internals/index';\n\nconst zoom = function (domain) {\n    const $$ = this.internal;\n    if (domain) {\n        if ($$.isTimeSeries()) {\n            domain = domain.map((x) => { return $$.parseDate(x); });\n        }\n        $$.brush.extent(domain);\n        $$.redraw({ withUpdateXDomain: true, withY: $$.config.zoom_rescale });\n        $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\n    }\n    return $$.brush.extent();\n};\n\nconst unzoom = function () {\n    const $$ = this.internal;\n    $$.brush.clear().update();\n    $$.redraw({ withUpdateXDomain: true });\n};\n\nzoom.enable = function (enabled) {\n    const $$ = this.internal;\n    $$.config.zoom_enabled = enabled;\n    $$.updateAndRedraw();\n};\n\nzoom.max = function (max) {\n    let $$ = this.internal, config = $$.config, d3 = $$.d3;\n    if (max === 0 || max) {\n        config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\n    }\n    else {\n        return config.zoom_x_max;\n    }\n};\n\nzoom.min = function (min) {\n    let $$ = this.internal, config = $$.config, d3 = $$.d3;\n    if (min === 0 || min) {\n        config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\n    }\n    else {\n        return config.zoom_x_min;\n    }\n};\n\nzoom.range = function (range) {\n    if (arguments.length) {\n        if (isDefined(range.max)) { this.domain.max(range.max); }\n        if (isDefined(range.min)) { this.domain.min(range.min); }\n    } else {\n        return {\n            max: this.domain.max(),\n            min: this.domain.min(),\n        };\n    }\n};\n\nexport { zoom, unzoom };\n","import { ChartInternal } from '../internals/index';\n\nimport { axis } from './api.axis';\nimport { category, categories } from './api.category';\nimport { resize, flush, destroy } from './api.chart';\nimport { color } from './api.color';\nimport { data } from './api.data';\nimport { flow } from './api.flow';\nimport { focus, defocus, revert } from './api.focus';\nimport { xgrids, ygrids } from './api.grid';\nimport { groups } from './api.group';\nimport { legend } from './api.legend';\nimport { load, unload } from './api.load';\nimport { regions } from './api.region';\nimport { selected, select, unselect } from './api.selection';\nimport { show, hide, toggle } from './api.show';\nimport { tooltip } from './api.tooltip';\nimport { transform } from './api.transform';\nimport { x, xs } from './api.x';\nimport { zoom, unzoom } from './api.zoom';\n\n\nlet c3_chart_fn;\n\nfunction Chart(config) {\n    const $$ = this.internal = new ChartInternal(this);\n    $$.loadConfig(config);\n\n    $$.beforeInit(config);\n    $$.init();\n    $$.afterInit(config);\n\n    // bind \"this\" to nested API\n    (function bindThis(fn, target, argThis) {\n        Object.keys(fn).forEach((key) => {\n            target[key] = fn[key].bind(argThis);\n            if (Object.keys(fn[key]).length > 0) {\n                bindThis(fn[key], target[key], argThis);\n            }\n        });\n    })(c3_chart_fn, this, this);\n}\n\nc3_chart_fn = Chart.prototype;\n\nc3_chart_fn.axis = axis;\nc3_chart_fn.category = category;\nc3_chart_fn.categories = categories;\nc3_chart_fn.resize = resize;\nc3_chart_fn.flush = flush;\nc3_chart_fn.destroy = destroy;\nc3_chart_fn.color = color;\nc3_chart_fn.data = data;\nc3_chart_fn.flow = flow;\nc3_chart_fn.focus = focus;\nc3_chart_fn.defocus = defocus;\nc3_chart_fn.revert = revert;\nc3_chart_fn.xgrids = xgrids;\nc3_chart_fn.ygrids = ygrids;\nc3_chart_fn.groups = groups;\nc3_chart_fn.legend = legend;\nc3_chart_fn.load = load;\nc3_chart_fn.unload = unload;\nc3_chart_fn.regions = regions;\nc3_chart_fn.selected = selected;\nc3_chart_fn.select = select;\nc3_chart_fn.unselect = unselect;\nc3_chart_fn.show = show;\nc3_chart_fn.hide = hide;\nc3_chart_fn.toggle = toggle;\nc3_chart_fn.tooltip = tooltip;\nc3_chart_fn.transform = transform;\nc3_chart_fn.x = x;\nc3_chart_fn.xs = xs;\nc3_chart_fn.zoom = zoom;\nc3_chart_fn.unzoom = unzoom;\n\nexport { Chart, c3_chart_fn };\n","/**\n * C3.js\n * (c) 2016 Masayuki Tanaka and the C3.js contributors (See package.json)\n * License: MIT\n */\n\nimport { ChartInternal } from './internals/index';\nimport { Chart } from './chart/index';\nimport { Axis } from './axis/index';\n\n\nconst version = '0.4.11';\n\nconst generate = function generate(config) {\n    return new Chart(config);\n};\n\nconst chart = {\n    fn: Chart.prototype,\n    internal: {\n        fn: ChartInternal.prototype,\n        axis: {\n            fn: Axis.prototype,\n        },\n    },\n};\n\nexport {\n    version,\n    generate,\n    chart,\n};\n"],"names":["tickTextCharSize","c3_axis","params","scale","d3","linear","orient","innerTickSize","tickPadding","tickValues","tickFormat","tickArguments","tickOffset","tickCulling","tickCentered","outerTickSize","withOuterTick","axisX","selection","x","attr","Math","ceil","d","axisY","y","scaleExtent","domain","start","stop","length","generateTicks","i","ticks","apply","push","unshift","copyScale","newScale","copy","isCategory","textFormatted","v","formatted","getSizeFor1Char","tick","size","select","text","each","box","getBoundingClientRect","h","height","w","width","undefined","transitionise","withoutTransition","transition","axis","g","scale0","__chart__","scale1","selectAll","data","tickEnter","enter","insert","style","exit","remove","tickUpdate","tickTransform","tickX","tickY","range","rangeExtent","path","pathUpdate","append","lineEnter","lineUpdate","textEnter","textUpdate","tspan","sizeFor1Char","counts","tickLength","max","isVertical","splitTickText","maxWidth","tickText","subtext","spaceIndex","textWidth","splitted","Object","prototype","toString","call","split","charAt","substr","concat","slice","tspanDy","dy","index","tickSize","tickPosition","tickMultiline","tickWidth","map","s","rotate","tickTextRotate","textAnchorForText","textTransform","dxForText","sin","PI","yForText","rangeBand","dx","arguments","top","right","bottom","left","format","isCentered","tickInterval","interval","node","getTotalLength","Infinity","args","culling","Axis","owner","inherit","API","init","$$","config","main","axes","CLASS","clipPathForXAxis","getTranslate","axis_x_show","axisXLabel","axis_rotated","textAnchorForXAxisLabel","bind","axis_y_inner","clipPathForYAxis","axis_y_show","axisYLabel","textAnchorForYAxisLabel","y2","axisY2","axis_y2_show","axisY2Label","textAnchorForY2AxisLabel","getXAxis","withoutRotateTickText","axisParams","isCategorized","axis_x_tick_multiline","axis_x_tick_width","axis_x_tick_rotate","isTimeSeries","parseDate","axis_x_tick_centered","isEmpty","axis_x_tick_culling","updateXAxisTickValues","targets","axis_x_tick_fit","axis_x_tick_count","generateTickValues","mapTargetsToUniqueXs","xAxis","subXAxis","getYAxis","axis_y_tick_rotate","isTimeSeriesY","time","axis_y_tick_time_value","axis_y_tick_time_interval","getId","id","data_axes","getXAxisTickFormat","defaultAxisTimeFormat","categoryName","toFixed","axis_x_tick_format","isFunction","date","axisTimeFormat","getTickValues","getXAxisTickValues","axis_x_tick_values","getYAxisTickValues","axis_y_tick_values","yAxis","getY2AxisTickValues","axis_y2_tick_values","y2Axis","getLabelOptionByAxisId","axisId","option","axis_y_label","axis_y2_label","axis_x_label","getLabelText","isString","setLabelText","getLabelPosition","defaultPosition","position","indexOf","getXAxisLabelPosition","getYAxisLabelPosition","getY2AxisLabelPosition","getLabelPositionById","textForXAxisLabel","textForYAxisLabel","textForY2AxisLabel","xForAxisLabel","forHorizontal","isLeft","isCenter","isBottom","isMiddle","dxForAxisLabel","isRight","isTop","textAnchorForAxisLabel","xForXAxisLabel","xForYAxisLabel","xForY2AxisLabel","dxForXAxisLabel","dxForYAxisLabel","dxForY2AxisLabel","dyForXAxisLabel","isInner","getMaxTickWidth","axis_x_height","dyForYAxisLabel","dyForY2AxisLabel","axis_y2_inner","withoutRecompute","targetsToShow","dummy","svg","currentMaxTickWidths","filterTargetsToShow","getYDomain","yOrient","axis_y_tick_format","yAxisTickValues","y2Orient","axis_y2_tick_format","y2AxisTickValues","getXDomain","xOrient","xAxisTickFormat","xAxisTickValues","classed","updateLabels","withTransition","getPadding","padding","key","defaultValue","domainLength","p","isValue","unit","convertPixelsToAxisPadding","pixels","values","tickCount","forTimeSeries","targetCount","end","count","tickValue","Date","sort","a","b","generateTransitions","duration","subx","redraw","transitions","isHidden","axisSubX","base","derived","create","f","constructor","generateClass","prefix","targetId","getTargetSelectorSuffix","classText","classTexts","texts","classShape","shape","classShapes","shapes","classLine","line","classLines","lines","classCircle","circle","classCircles","circles","classBar","bar","classBars","bars","classArc","arc","classArcs","arcs","classArea","area","classAreas","areas","classRegion","region","class","classEvent","eventRect","classTarget","additionalClassSuffix","data_classes","additionalClass","target","classFocus","classFocused","classDefocused","focusedTargetIds","focused","defocusedTargetIds","defocused","classChartText","chartText","classChartLine","chartLine","classChartBar","chartBar","classChartArc","chartArc","replace","selectorTarget","selectorTargets","ids","selectorLegend","legendItem","selectorLegends","o","isUndefined","isDefined","ceil10","asHalfPixel","n","diffDomain","keys","notEmpty","getOption","options","hasValue","dict","value","found","forEach","sanitise","str","getPathBox","items","pathSegList","getItem","minX","minY","min","initPie","pie","layout","reduce","data_order","updateRadius","gauge_width","donut_width","radiusExpanded","arcWidth","arcHeight","radius","innerRadiusRatio","innerRadius","hasType","updateArc","svgArc","getSvgArc","svgArcExpanded","getSvgArcExpanded","svgArcExpandedSub","updateAngle","gMin","gMax","gTic","gValue","t","isNaN","startAngle","endAngle","isGaugeType","gauge_min","gauge_max","gauge_fullCircle","gauge_startingAngle","outerRadius","newArc","withoutUpdate","updated","centroid","rate","getArc","force","isArcType","transformForArcLabel","c","ratio","translate","sqrt","donut_label_ratio","pie_label_ratio","getArcRatio","whole","convertToArcData","addName","textForArcLabel","shouldShowArcLabel","meetsArcLabelThreshold","getArcLabelFormat","defaultArcValueFormat","expandArc","targetIds","transiting","window","setInterval","clearInterval","legend","mapToTargetIds","shouldExpand","expandDuration","isDonutType","unexpandArc","donut_expand_duration","gauge_expand_duration","isPieType","pie_expand_duration","donut_expand","gauge_expand","pie_expand","shouldShow","donut_label_show","pie_label_show","threshold","donut_label_threshold","pie_label_threshold","pie_label_format","gauge_label_format","donut_label_format","getArcTitle","donut_title","updateTargetsForArc","mainPieUpdate","mainPieEnter","chartArcs","initArc","chart","chartArcsTitle","redrawArc","durationForExit","withTransform","mainArc","arcData","color","interaction_enabled","data_selection_isselectable","_current","on","api","focus","toggleFocusLegend","data_onmouseover","selectedData","showTooltip","revert","revertLegend","hideTooltip","data_onmouseout","toggleShape","data_onclick","attrTween","interpolate","interpolated","levelColor","endall","gaugeValue","round","isTargetToShow","chartArcsBackground","chartArcsGaugeUnit","gauge_label_show","gauge_units","chartArcsGaugeMin","chartArcsGaugeMax","initGauge","getGaugeLabelHeight","hasCaches","cache","addCache","cloneTarget","getCaches","axis_x_categories","getClipPath","isIE9","navigator","appVersion","toLowerCase","document","URL","appendClip","parent","getAxisClipX","margin","getAxisClipY","getXAxisClipX","getXAxisClipY","getYAxisClipX","getYAxisClipY","getAxisClipWidth","getAxisClipHeight","getXAxisClipWidth","getXAxisClipHeight","getYAxisClipWidth","getYAxisClipHeight","generateColor","colors","data_colors","pattern","color_pattern","category10","callback","data_color","Function","generateLevelColor","color_threshold","asValue","getDefaultConfig","defaultTitleFormat","defaultValueFormat","getTooltipContent","additionalConfig","loadConfig","this_config","read","find","shift","convertUrlToData","url","mimeType","headers","done","type","req","xhr","header","get","error","Error","responseURL","status","statusText","convertJsonToData","JSON","parse","response","convertTsvToData","convertCsvToData","convertXsvToData","xsv","parser","rows","parseRows","csv","tsv","json","new_rows","targetKeys","data_x","new_row","findValueInJson","convertRowsToData","convertColumnsToData","object","pathArray","k","j","columns","convertDataToTargets","appendXs","filter","isNotX","xs","isX","xKey","getXKey","isCustomX","rawX","generateTargetX","getOtherTargetXs","data_xs","getXValuesOfXKey","convertedId","data_idConverter","data_xSort","v1","v2","x1","x2","hasNegativeValue","hasNegativeValueInTargets","hasPositiveValue","hasPositiveValueInTargets","data_type","setTargetType","mapToIds","data_types","id_org","xValues","getIndexByX","filterByX","getXValue","idsForX","getOtherTargetX","addXs","hasMultipleX","set","isMultipleX","name","data_names","getValueOnIndex","valueOnIndex","updateTargetX","updateTargetXs","updateXs","getPrevX","getNextX","getMaxDataCount","getMaxDataCountTarget","maxTarget","getEdgeX","hasTarget","hiddenTargetIds","isLegendToShow","hiddenLegendIds","merge","NaN","addHiddenTargetIds","removeHiddenTargetIds","addHiddenLegendIds","removeHiddenLegendIds","getValuesAsIdKeyed","ys","checkValueInTargets","checker","isOrderDesc","isOrderAsc","orderTargets","orderAsc","orderDesc","t1","t2","reducer","abs","t1Sum","t2Sum","filterRemoveNull","filterByXDomain","xDomain","hasDataLabel","data_labels","babelHelpers.typeof","getDataLabelLength","lengths","paddingCoef","selectChart","dataLabelFormat","isNoneArc","isArc","findSameXOfValues","targetX","sames","findClosestFromTargets","pos","candidates","findClosest","minDist","point_sensitivity","closest","isBarType","isWithinBar","dist","xIndex","yIndex","circleY","pow","convertValuesToStep","converted","updateDataAttributes","attrs","current","withLegend","load","types","splice","updateTargets","withUpdateOrgXDomain","withUpdateXDomain","loadFromArgs","unload","withoutFadeIn","getYDomainMin","baseId","idsInGroup","data_groups","getYDomainMax","targetsByAxisId","yTargets","yMin","axis_y2_min","axis_y_min","yMax","axis_y2_max","axis_y_max","yDomainMin","yDomainMax","padding_top","padding_bottom","center","axis_y2_center","axis_y_center","yDomainAbs","diff","isAllPositive","isAllNegative","isZeroBased","bar_zerobased","area_zerobased","isInverted","axis_y2_inverted","axis_y_inverted","showHorizontalDataLabel","showVerticalDataLabel","axis_y_padding","axis_y2_padding","reverse","getXDomainMin","axis_x_min","getXDomainMax","axis_x_max","getXDomainPadding","maxDataCount","paddingLeft","paddingRight","axis_x_padding","firstX","lastX","getTime","updateXDomain","withTrim","extent","orgXDomain","zoom_enabled","zoom","updateScaleExtent","subX","brush","empty","trimXDomain","orgDomain","zoomDomain","getZoomDomain","drag","mouse","sx","sy","mx","my","maxX","maxY","hasArcType","data_selection_enabled","altDomain","data_selection_multiple","dragStart","data_selection_grouped","dragarea","isSelected","SELECTED","isIncluded","INCLUDED","_x","_y","_w","_h","toggle","isWithin","togglePoint","togglePath","dragstart","dragging","dragend","generateFlow","flow","drawBar","drawLine","drawArea","cx","cy","xv","xForText","translateX","scaleX","transform","flowIndex","flowLength","flowStart","flowEnd","durationForFlow","wait","generateWait","xgrid","xgridLines","mainRegion","mainText","mainBar","mainLine","mainArea","mainCircle","flowing","updateXGrid","orgDataCount","hideXGridFocus","ease","add","isRegionOnX","eventRects","xgridAttr","opacityForText","regionX","regionWidth","redrawEventRect","getYFormat","forArc","formatForY","yFormat","formatForY2","y2Format","defaultFormat","initGrid","grid","clipPathForGrid","grid_x_show","xgrids","grid_y_show","ygrids","grid_focus_show","xgridFocus","grid_lines_front","initGridLines","gridLines","ygridLines","xgridData","generateGridData","grid_x_type","updateYGrid","gridValues","grid_y_ticks","ygrid","smoothLines","gridTextAnchor","gridTextDx","xGridTextX","yGridTextX","updateGrid","xgridLine","ygridLine","yv","grid_x_lines","grid_y_lines","redrawGrid","showXGridFocus","dataToShow","focusEl","xx","tooltip_show","updateXgridFocus","gridData","firstYear","lastYear","tickNum","getFullYear","getGridFilterToRemove","param","removeGridLines","forX","toRemove","toShow","transition_duration","initEventRect","eventRectUpdate","maxDataCountTarget","eventRectsMultiple","eventRectsSingle","generateEventRectsForMultipleXs","updateEventRect","datum","generateEventRectsForSingleX","rectW","rectX","prevX","nextX","thisX","getEventRectWidth","eventRectEnter","tap","tapX","click","cancelClick","isStepType","line_step_type","isWithinShape","point_focus_expand_enabled","expandCircles","expandBars","unexpandCircles","unexpandBars","tooltip_grouped","EXPANDED","finalX","touch_tap_delay","data_selection_draggable","behavior","origin","tapY","mouseout","sameXData","mouseover","isScatterType","touch_tap_radius","dispatchEvent","selector","event","createEvent","initMouseEvent","initLegend","legendItemTextBox","legendHasRendered","legend_show","updateLegendWithDefaults","updateLegend","withTransitionForTransform","updateSizeForLegend","legendHeight","legendWidth","insetLegendPosition","isLegendTop","getCurrentPaddingTop","legend_inset_y","currentHeight","getCurrentPaddingBottom","isLegendLeft","getCurrentPaddingLeft","legend_inset_x","currentWidth","getCurrentPaddingRight","margin3","isLegendRight","isLegendInset","transformLegend","updateLegendStep","step","legendStep","updateLegendItemWidth","legendItemWidth","updateLegendItemHeight","legendItemHeight","getLegendWidth","getLegendHeight","opacityForLegend","legendItemHidden","opacityForUnfocusedLegend","legendItemFocused","opacity","showLegend","hideLegend","clearLegendItemTextBoxCache","xForLegend","xForLegendText","xForLegendRect","yForLegend","yForLegendText","yForLegendRect","x1ForLegendTile","x2ForLegendTile","yForLegendTile","paddingTop","maxHeight","posMin","tileWidth","legend_item_tile_width","l","totalLength","offsets","widths","heights","margins","steps","rects","tiles","background","getTextBox","textElement","getTextRect","textContent","updatePositions","reset","isLast","itemWidth","legend_padding","itemHeight","itemLength","areaLength","maxLength","updateValues","withoutStep","legend_equally","legend_inset_step","legend_item_onclick","altKey","hide","show","legend_item_onmouseover","legend_item_onmouseout","legendItemEvent","legendItemTile","legend_item_tile_height","legendBackground","updateSizes","updateScales","updateSvgSize","transformAll","initRegion","clipPath","regions","updateRegion","redrawRegion","parentData","parentNode","regionY","regionHeight","xPos","yScale","yPos","getScale","forTimeseries","getX","offset","_scale","raw","getY","getYScale","getSubYScale","subY2","subY","forInit","xMin","xMax","subXMin","subXMax","subYMin","height2","subYMax","width2","axis_y_default","axis_y2_default","axis_x_tick_outer","subXOrient","axis_y_tick_outer","axis_y2_tick_outer","selectPoint","circleX","r","pointSelectR","data_onselected","selectedCircles","selectedCircle","unselectPoint","data_onunselected","selected","selectPath","interaction_brighten","rgb","brighter","unselectPath","getToggle","that","nodeName","initBar","chartBars","updateTargetsForBar","mainBarUpdate","mainBarEnter","updateBar","barData","initialOpacity","redrawBar","random","getBarW","barTargetsNum","bar_width","bar_width_ratio","bar_width_max","getBars","generateDrawBar","barIndices","isSub","getPoints","generateGetBarPoints","points","indexX","indexY","__max__","barW","barX","getShapeX","barY","getShapeY","barOffset","getShapeOffset","y0","posY","posX","seg0","seg1","ex","ey","getShapeIndices","typeFilter","indices","targetsNum","isWithinStep","isWithinCircle","getInterpolate","interpolation","isInterpolationType","spline_interpolation_type","isSplineType","initLine","chartLines","updateTargetsForLine","mainLineUpdate","mainLineEnter","updateLine","lineData","redrawLine","generateDrawLine","lineIndices","generateGetLinePoints","yScaleGetter","xValue","subxx","yValue","line_connectNull","defined","x0","isLineType","data_regions","lineWithRegions","lineTargetsNum","lineOffset","_regions","prev","sWithRegion","xp","yp","dd","diffx2","xOffset","isWithinRegions","generateM","d0","d1","x_diff","xv0","xv1","updateArea","orgAreaOpacity","redrawArea","generateDrawArea","areaIndices","generateGetAreaPoints","value0","getAreaBaseValue","value1","area_above","y1","isAreaType","areaTargetsNum","areaOffset","updateCircle","lineOrScatterData","pointR","initialOpacityForCircle","redrawCircle","opacityForCircle","updateCircleY","getCircles","pointExpandedR","point_r","point_focus_expand_r","point_select_r","d3_this","getCurrentWidth","size_width","getParentWidth","getCurrentHeight","size_height","getParentHeight","title","getTitlePadding","padding_left","getAxisWidthByAxisId","isOuter","defaultPadding","legendWidthOnRight","padding_right","getParentRectValue","tagName","e","offsetWidth","getSvgLeft","hasLeftAxisRect","leftAxisClass","leftAxis","svgRect","chartRect","hasArc","svgLeft","getHorizontalAxisHeight","rotated_padding_top","cos","initBrush","redrawForBrush","update","context","initSubchart","visibility","subchart_show","clipPathForSubchart","subchart_axis_x_show","updateTargetsForSubchart","contextLineEnter","contextLineUpdate","contextBarEnter","contextBarUpdate","updateBarForSubchart","contextBar","redrawBarForSubchart","drawBarOnSub","updateLineForSubchart","contextLine","redrawLineForSubchart","drawLineOnSub","updateAreaForSubchart","contextArea","redrawAreaForSubchart","drawAreaOnSub","redrawSubchart","withSubchart","zoom_rescale","subchart_onbrush","transformContext","getDefaultExtent","axis_x_extent","initText","chartTexts","updateTargetsForText","mainTextUpdate","mainTextEnter","updateText","barOrLineData","redrawText","forFlow","cls","element","font","rect","generateXYForText","getAreaPoints","getBarPoints","getLinePoints","getter","getXForText","getYForText","isSafari","isChrome","initTitle","title_text","redrawTitle","xForTitle","yForTitle","title_position","title_padding","initTooltip","tooltip","tooltipContainer","tooltip_init_show","tooltip_init_x","html","tooltip_contents","tooltip_init_position","titleFormat","tooltip_format_title","nameFormat","tooltip_format_name","valueFormat","tooltip_format_value","bgcolor","tooltipName","tooltipPosition","tWidth","tHeight","tooltipLeft","tooltipRight","tooltipTop","chartRight","positionFunction","tooltip_position","c3_chart_internal_fn","property","transformTo","optionsForRedraw","withTransitionForAxis","updateAndRedraw","has","ua","userAgent","initZoom","startEvent","sourceEvent","zoom_onzoomstart","redrawForZoom","clientX","clientY","updateZoom","zoom_onzoomend","orgScaleExtent","zoom_extent","zoom_x_min","zoom_x_max","z","zoomRect","zoom_onzoom","util","ChartInternal","beforeInit","afterInit","initParams","data_url","data_mimeType","data_headers","data_keys","initWithData","data_json","data_rows","data_columns","clipId","clipIdForXAxis","clipIdForYAxis","clipIdForGrid","clipIdForSubchart","dataTimeFormat","data_xLocaltime","utc","axis_x_localtime","multi","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","legend_position","legend_inset_anchor","rotated_padding_left","rotated_padding_right","intervalForObserveInserted","initChartElements","defs","binding","bindto","createElement","observeInserted","data_filter","data_hide","legend_hide","onmouseover","onmouseout","svg_classname","clipChart","clipXAxis","clipYAxis","clipGrid","clipSubchart","zoom_privileged","updateDimension","oninit","bindResize","el","legendHeightForBottom","xAxisHeight","subchartHeight","subchart_size_height","margin2","showTargets","withY","withTransitionForExit","withTrimXDomain","withEventRect","withDimension","withUpdateXAxis","hideAxis","durationForAxis","waitForDraw","intervalForCulling","xDomainForZoom","axis_y_tick_count","axis_y2_tick_count","axis_x_tick_culling_max","data_empty_label_text","isTabVisible","transitionsToWait","onrendered","redrawWithoutRescale","axis_x_type","axis_y_type","point_show","transformMain","withoutAxis","observer","MutationObserver","console","mutations","mutation","previousSibling","disconnect","observe","attributes","childList","characterData","resizeFunction","generateResize","onresize","resize_auto","resizeTimeout","clearTimeout","setTimeout","flush","onresized","attachEvent","addEventListener","wrapper","resizeFunctions","callResizeFunctions","timer","parsedDate","data_xFormat","hidden","mozHidden","msHidden","webkitHidden","labels","internal","category","categories","resize","destroy","detachEvent","removeEventListener","shown","names","notfoundIds","dataCount","baseTarget","baseValue","tail","to","missing","defocus","grids","groups","classes","cacheIds","Array","__data__","resetOther","isTargetId","isTargetIndex","unselect","tooltip_onshow","tooltip_onhide","unzoom","clear","enable","enabled","c3_chart_fn","Chart","bindThis","fn","argThis","version","generate"],"mappings":"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"}